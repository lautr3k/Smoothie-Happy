<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smoothie-Happy</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/themes/prism.css" />
  <link rel="stylesheet" href="./styles.css" />
  <link rel="icon" href="./favicon.ico" />
</head>
<body>

  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <form class="form-inline">
        <div class="form-group">
          <label for="boardAddress">Board:</label>
          <input id="boardAddress" type="text" class="form-control" placeholder="192.168.1.1" />
        </div>
        <div class="form-group">
          <label for="commandsNames">Command:</label>
          <select id="commandsNames" class="form-control"></select>
        </div>
        <div class="form-group">
          <input id="commandArgs" type="text" class="form-control" placeholder="Type your command here..." autocomplete="on" />
        </div>
        <div class="form-group">
          <button id="commandSend" class="btn btn-default" type="submit">send</button>
        </div>
      </form>
      <br />
      <form class="form-inline">
        <div class="form-group">
          <span><strong>Queue:</strong> <span id="commandQueue">0</span></span>
          <button id="pauseCommandQueue" class="btn btn-xs btn-warning off" type="submit">pause</button>
          <button id="resumeCommandQueue" class="btn btn-xs btn-success off" type="submit">resume</button>
          <button id="clearCommandQueue" class="btn btn-xs btn-danger off" type="submit">clear</button>
        </div>
        <button type="button" class="clearState off btn btn-xs btn-primary">Clear state</button>
      </form>
    </div><!-- /.container-fluid -->
  </nav><!-- /.navbar -->

  <div class="body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div id="console"></div><!-- /#console -->
        </div><!-- /.col-md-12 -->
      </div><!-- /.row -->
    </div><!-- /.container-fluid -->
  </div><!-- /.body -->

  <script id="commandTemplate" type="text/x-handlebars-template">
    <div id="{{uuid}}" class="command panel panel-default">
      <div class="panel-heading">
        <span class="board-address">{{address}}</span> &gt; <span class="command-line">{{command}}</span>
      </div><!-- /.panel-heading -->
      <div class="panel-body">
        <div class="pending">
          <i class="fa fa-hourglass-start fa-fw"></i> <span class="message">Pending...</span>
        </div><!-- /.pending -->
        <div class="cleared">
          <i class="fa fa-trash fa-fw"></i> <span class="message">Cleared !</span>
        </div><!-- /.cleared -->
        <div class="loading">
          <i class="fa fa-spinner fa-pulse fa-fw"></i> <span class="message">Loading...</span>
        </div><!-- /.loading -->
        <div class="retry"></div><!-- /.retry -->
        <ul class="errors list-group"></ul><!-- /.errors -->
      </div><!-- /.panel-body -->
    </div><!-- /.command -->
  </script><!-- /#commandTemplate -->

  <script id="responseTemplate" type="text/x-handlebars-template">
    <div class="response">
      <pre class="language-javascript"><code>{{code}}</code></pre>
    </div><!-- /.response -->
  </script><!-- /#responseTemplate -->

  <script id="retryTemplate" type="text/x-handlebars-template">
    <div class="retry">
      <i class="fa fa-spinner fa-pulse fa-fw"></i> <span class="message">Retry: {{num}} / {{max}} - Interval: {{seconds delay}} sec.</span>
    </div><!-- /.loading -->
  </script><!-- /#responseTemplate -->

  <div id="systemHalted" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title"><strong>Alarm!</strong> System probably halted.</h4>
        </div>
        <div class="modal-body">
          <ul>
            <li>Waiting for temperature ?</li>
            <li>Kill button pressed ?</li>
            <li>Limit switch ?</li>
            <li>...</li>
          </ul>
          <div class="alert alert-warning" role="alert">After your press "Clear state" button you should HOME as position is unknown.</div>
          <button type="button" class="clearState btn btn-primary">Clear state</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Later</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.js" /></script>
  <script src="../smoothie-happy.js"></script>
  <script src="./js/commands.js"></script>
  <script src="./js/store.js"></script>
  <script src="./js/ui.js"></script>
  <script src="./js/index.js"></script>
</body>
</html>
