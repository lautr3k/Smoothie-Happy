{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///smoothie-happy.js","webpack:///webpack/bootstrap 8911e4ba6ddfaa61237b","webpack:///./board/util.js","webpack:///./board/topics/index.js","webpack:///./request/event/types.js","webpack:///./board/commands/index.js","webpack:///./board/request.js","webpack:///./request/index.js","webpack:///../~/uuid/v4.js","webpack:///./index.js","webpack:///./board/board.js","webpack:///./board/command.js","webpack:///./board/commands/M999.js","webpack:///./board/commands/abort.js","webpack:///./board/commands/break.js","webpack:///./board/commands/calc_thermistor.js","webpack:///./board/commands/cat.js","webpack:///./board/commands/cd.js","webpack:///./board/commands/config_get.js","webpack:///./board/commands/config_load.js","webpack:///./board/commands/config_set.js","webpack:///./board/commands/dfu.js","webpack:///./board/commands/fire.js","webpack:///./board/commands/get.js","webpack:///./board/commands/get_fk.js","webpack:///./board/commands/get_ik.js","webpack:///./board/commands/get_pos.js","webpack:///./board/commands/get_state.js","webpack:///./board/commands/get_status.js","webpack:///./board/commands/get_temp.js","webpack:///./board/commands/get_wcs.js","webpack:///./board/commands/help.js","webpack:///./board/commands/load.js","webpack:///./board/commands/ls.js","webpack:///./board/commands/md5sum.js","webpack:///./board/commands/mem.js","webpack:///./board/commands/mkdir.js","webpack:///./board/commands/mv.js","webpack:///./board/commands/net.js","webpack:///./board/commands/ok.js","webpack:///./board/commands/play.js","webpack:///./board/commands/progress.js","webpack:///./board/commands/pwd.js","webpack:///./board/commands/remount.js","webpack:///./board/commands/reset.js","webpack:///./board/commands/resume.js","webpack:///./board/commands/rm.js","webpack:///./board/commands/save.js","webpack:///./board/commands/set_temp.js","webpack:///./board/commands/suspend.js","webpack:///./board/commands/switch.js","webpack:///./board/commands/test.js","webpack:///./board/commands/test_circle.js","webpack:///./board/commands/test_jog.js","webpack:///./board/commands/test_raw.js","webpack:///./board/commands/test_square.js","webpack:///./board/commands/thermistors.js","webpack:///./board/commands/version.js","webpack:///./board/filetree.js","webpack:///./board/index.js","webpack:///./board/info.js","webpack:///./board/settings.js","webpack:///./request/event/request.js","webpack:///./request/payload/attempt.js","webpack:///./request/payload/progress.js","webpack:///./request/payload/response.js","webpack:///./request/request.js","webpack:///./request/settings.js","webpack:///../~/uuid/lib/bytesToUuid.js","webpack:///../~/uuid/lib/rng-browser.js","webpack:///../~/webpack/buildin/global.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","normalizePath","path","trim","replace","toLowerCase","filename","split","pop","boardTopics","INFO_UPDATE","FILETREE_UPDATE","STATE_ALARM","STATE_CLEAR","STATE_MRI","COMMAND_QUEUE_ADD","COMMAND_QUEUE_SEND","COMMAND_QUEUE_EMPTY","COMMAND_QUEUE_PAUSE","COMMAND_QUEUE_RESUME","COMMAND_QUEUE_CLEAR","COMMAND_CREATE","COMMAND_SEND","COMMAND_ERROR","COMMAND_RESPONSE","COMMAND_RETRY","COMMAND_RETRY_SEND","COMMAND_RETRY_LIMIT","COMMAND_DOWNLOAD_LOAD","COMMAND_DOWNLOAD_ABORT","COMMAND_DOWNLOAD_ERROR","COMMAND_DOWNLOAD_TIMEOUT","COMMAND_DOWNLOAD_PROGRESS","COMMAND_UPLOAD_LOAD","COMMAND_UPLOAD_ABORT","COMMAND_UPLOAD_ERROR","COMMAND_UPLOAD_TIMEOUT","COMMAND_UPLOAD_PROGRESS","REQUEST_RETRY","REQUEST_RETRY_SEND","REQUEST_RETRY_LIMIT","REQUEST_DOWNLOAD_LOAD","REQUEST_DOWNLOAD_ABORT","REQUEST_DOWNLOAD_ERROR","REQUEST_DOWNLOAD_TIMEOUT","REQUEST_DOWNLOAD_PROGRESS","REQUEST_UPLOAD_LOAD","REQUEST_UPLOAD_ABORT","REQUEST_UPLOAD_ERROR","REQUEST_UPLOAD_TIMEOUT","REQUEST_UPLOAD_PROGRESS","default","requestEventTypes","RETRY","RETRY_SEND","RETRY_LIMIT","DOWNLOAD_LOAD","DOWNLOAD_ABORT","DOWNLOAD_ERROR","DOWNLOAD_TIMEOUT","DOWNLOAD_PROGRESS","UPLOAD_LOAD","UPLOAD_ABORT","UPLOAD_ERROR","UPLOAD_TIMEOUT","UPLOAD_PROGRESS","cmd_M999","cmd_version","cmd_thermistors","cmd_test","cmd_switch","cmd_suspend","cmd_set_temp","cmd_save","cmd_rm","cmd_resume","cmd_reset","cmd_remount","cmd_pwd","cmd_progress","cmd_play","cmd_ok","cmd_net","cmd_mkdir","cmd_mv","cmd_mem","cmd_md5sum","cmd_ls","cmd_load","cmd_help","cmd_get","cmd_fire","cmd_dfu","cmd_config_set","cmd_config_get","cmd_config_load","cmd_cd","cmd_cat","cmd_calc_thermistor","cmd_break","cmd_abort","undefined","_abort","_break","_calc_thermistor","_cat","_cd","_config_load","_config_get","_config_set","_dfu","_fire","_get","_help","_load","_ls","_md5sum","_mem","_mv","_mkdir","_net","_ok","_play","_progress","_pwd","_remount","_reset","_resume","_rm","_save","_set_temp","_suspend","_switch","_test","_thermistors","_version","_M","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","BoardRequest","_request","_request2","obj","_Request","board","settings","arguments","length","_this","getPrototypeOf","assign","request","url","address","_interopRequireDefault","Request","_types","_types2","v4","options","buf","offset","Array","rnds","random","rng","ii","bytesToUuid","_interopRequireWildcard","newObj","key","VERSION","_board","Board","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_v","_v2","_settings","_settings2","_command","_command2","_topics","_topics2","_info","_info2","_filetree","_filetree2","_util","Error","startsWith","endsWith","uuid","info","fileTree","subscriptions","Map","commandQueue","commandQueueLocked","commandQueuePaused","pendingCommand","alarm","MRIMode","topic","payload","has","message","forEach","subscription","callback","context","set","removed","isArray","id","unsubscribe","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","values","Symbol","iterator","next","done","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","keys","delete","size","deleteTopic","createRequest","send","command","_this2","on","event","publish","boardCommand","_this3","then","Promise","resolve","catch","reject","_sendCommand","createCommand","push","addCommand","processCommandQueue","_this4","shift","abort","abortPendingCommand","pauseCommandQueue","_this5","refresh","sendCommand","data","_this6","firstCall","tree","list","promises","child","type","listFiles","all","results","_this7","BoardCommand","receiver","Function","desc","getOwnPropertyDescriptor","parent","_commands","boardCommands","_BoardRequest","commandLine","commandArgs","commandName","parseResponse","response","r","raw","test","slice","includes","parserName","responseParser","args","concat","method","filters","timeout","maxAttempts","matches","match","map","parseFloat","NaN","saved","I","J","K","source","setting","checksum","config","line","found","defaultDouble","defaultInt","fire","power","parseInt","option","func","_get_temp","_get_pos","_get_wcs","_get_state","_get_status","_get_ik","_get_fk","get_fk","move","x","y","z","get_ik","get_pos","lines","positions","parsePositionString","position","parts","toUpperCase","coords","join","substr","description","get_state","state","modal","wcs","plane_selection","unit","distance_mode","path_control","program_pause","stop_tool","stop_coolant","tool","feed_rate","s_value","get_status","status","machine","workspace","get_temp","device","parseTempString","current","pwm","temp","designator","get_wcs","code","file","excludes","files","isDir","extension","rootPath","md5","verbose","memory","CHUNKS","setValue","_line$split","_line$split2","_slicedToArray","bytes","free","chunk","chunks","end","total","used","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","ip","gateway","mask","mac","paused","played","elapsed","estimated","timeFormat","complete","time","indexOf","stored","_test_jog","_test_circle","_test_square","_test_raw","test_circle","test_jog","test_raw","test_square","result","table","beta","pointer","branch","hash","date","mcu","clock","BoardFile","BoardFolder","BoardFileTree","folder","updateSize","childPath","makeChild","remove","_board2","BoardInfo","boardSettings","attemptDelay","_status","RequestEvent","RequestAttemptPayload","attempts","num","max","delay","RequestProgressPayload","loaded","computable","lengthComputable","percent","RequestResponsePayload","xhr","filter","statusText","_typeof","_progress2","_response","_response2","_attempt","_attempt2","Date","now","sendTime","elapsedTime","aborted","encodeURIComponent","encodeData","joinUrlData","XMLHttpRequest","overrideMimeType","mimeType","open","rejected","createEvent","requestEvent","_triggerEvent","_reject","error","onAbort","onError","onTimeout","onProgress","onLoad","onload","onabort","onerror","ontimeout","onprogress","upload","headers","header","setRequestHeader","_send","triggerEvent","BEFORE_RETRY","setTimeout","requestSettings","bth","byteToHex","toString","global","crypto","msCrypto","getRandomValues","rnds8","Uint8Array","Math","g","eval","e","window"],"mappings":"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","file":"smoothie-happy.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SmoothieHappy\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SmoothieHappy\"] = factory();\n\telse\n\t\troot[\"SmoothieHappy\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SmoothieHappy\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SmoothieHappy\"] = factory();\n\telse\n\t\troot[\"SmoothieHappy\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 69);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizePath = normalizePath;\nexports.filename = filename;\n/**\n* Return normalized path `sd/My///File.ext/   ` => `/sd/my/file.ext`.\n*\n* @param  {String} path\n* @return {String}\n*/\nfunction normalizePath(path) {\n  return '/' + path.trim().replace(/\\/+/, '/').replace(/^\\/|\\/$/, '').toLowerCase();\n}\n\n/**\n* Return filename from path.\n*\n* @param  {String} path\n* @return {String}\n*/\nfunction filename(path) {\n  return path.split('/').pop();\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n* Board topics.\n*\n* @type {Object<String, String>}\n*/\nvar boardTopics = {\n  INFO_UPDATE: 'info.update', // payload: {BoardInfo}\n  FILETREE_UPDATE: 'filetree.update', // payload: {BoardFileList}\n\n  STATE_ALARM: 'state.alarm', // payload: {null}\n  STATE_CLEAR: 'state.clear', // payload: {null}\n  STATE_MRI: 'state.mri', // payload: {null}\n\n  COMMAND_QUEUE_ADD: 'command.queue.add', // payload: {BoardCommand}\n  COMMAND_QUEUE_SEND: 'command.queue.send', // payload: {BoardCommand}\n  COMMAND_QUEUE_EMPTY: 'command.queue.empty', // payload: {null}\n  COMMAND_QUEUE_PAUSE: 'command.queue.pause', // payload: {Board.commandQueue}\n  COMMAND_QUEUE_RESUME: 'command.queue.resume', // payload: {Board.commandQueue}\n  COMMAND_QUEUE_CLEAR: 'command.queue.clear', // payload: {Board.commandQueue}\n\n  COMMAND_CREATE: 'command.create', // payload: {BoardCommand}\n  COMMAND_SEND: 'command.send', // payload: {BoardCommand}\n  COMMAND_ERROR: 'command.error', // payload: {RequestEvent}\n  COMMAND_RESPONSE: 'command.response', // payload: {RequestEvent}\n\n  // COMMAND_XXX payload: {RequestEvent}\n  COMMAND_RETRY: 'command.retry', // on retry planned\n  COMMAND_RETRY_SEND: 'command.retry.send', // juste before retry\n  COMMAND_RETRY_LIMIT: 'command.retry.limit', // on too many attemps\n\n  COMMAND_DOWNLOAD_LOAD: 'command.download.load',\n  COMMAND_DOWNLOAD_ABORT: 'command.download.abort',\n  COMMAND_DOWNLOAD_ERROR: 'command.download.error',\n  COMMAND_DOWNLOAD_TIMEOUT: 'command.download.timeout',\n  COMMAND_DOWNLOAD_PROGRESS: 'command.download.progress',\n\n  COMMAND_UPLOAD_LOAD: 'command.upload.load',\n  COMMAND_UPLOAD_ABORT: 'command.upload.abort',\n  COMMAND_UPLOAD_ERROR: 'command.upload.error',\n  COMMAND_UPLOAD_TIMEOUT: 'command.upload.timeout',\n  COMMAND_UPLOAD_PROGRESS: 'command.upload.progress',\n\n  // REQUEST_XXX payload: {RequestEvent}\n  REQUEST_RETRY: 'request.retry', // on retry planned\n  REQUEST_RETRY_SEND: 'request.retry.send', // juste before retry\n  REQUEST_RETRY_LIMIT: 'request.retry.limit', // on too many attemps\n\n  REQUEST_DOWNLOAD_LOAD: 'request.download.load',\n  REQUEST_DOWNLOAD_ABORT: 'request.download.abort',\n  REQUEST_DOWNLOAD_ERROR: 'request.download.error',\n  REQUEST_DOWNLOAD_TIMEOUT: 'request.download.timeout',\n  REQUEST_DOWNLOAD_PROGRESS: 'request.download.progress',\n\n  REQUEST_UPLOAD_LOAD: 'request.upload.load',\n  REQUEST_UPLOAD_ABORT: 'request.upload.abort',\n  REQUEST_UPLOAD_ERROR: 'request.upload.error',\n  REQUEST_UPLOAD_TIMEOUT: 'request.upload.timeout',\n  REQUEST_UPLOAD_PROGRESS: 'request.upload.progress'\n};\n\nexports.default = boardTopics;\nexports.boardTopics = boardTopics;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n* Request event types.\n*\n* @type {Object<String, String>}\n*/\nvar requestEventTypes = {\n  RETRY: 'retry', // on retry planned\n  RETRY_SEND: 'retry.send', // juste before retry\n  RETRY_LIMIT: 'retry.limit', // on too many attemps\n\n  DOWNLOAD_LOAD: 'download.load',\n  DOWNLOAD_ABORT: 'download.abort',\n  DOWNLOAD_ERROR: 'download.error',\n  DOWNLOAD_TIMEOUT: 'download.timeout',\n  DOWNLOAD_PROGRESS: 'download.progress',\n\n  UPLOAD_LOAD: 'upload.load',\n  UPLOAD_ABORT: 'upload.abort',\n  UPLOAD_ERROR: 'upload.error',\n  UPLOAD_TIMEOUT: 'upload.timeout',\n  UPLOAD_PROGRESS: 'upload.progress'\n};\n\nexports.default = requestEventTypes;\nexports.requestEventTypes = requestEventTypes;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_M999 = exports.cmd_version = exports.cmd_thermistors = exports.cmd_test = exports.cmd_switch = exports.cmd_suspend = exports.cmd_set_temp = exports.cmd_save = exports.cmd_rm = exports.cmd_resume = exports.cmd_reset = exports.cmd_remount = exports.cmd_pwd = exports.cmd_progress = exports.cmd_play = exports.cmd_ok = exports.cmd_net = exports.cmd_mkdir = exports.cmd_mv = exports.cmd_mem = exports.cmd_md5sum = exports.cmd_ls = exports.cmd_load = exports.cmd_help = exports.cmd_get = exports.cmd_fire = exports.cmd_dfu = exports.cmd_config_set = exports.cmd_config_get = exports.cmd_config_load = exports.cmd_cd = exports.cmd_cat = exports.cmd_calc_thermistor = exports.cmd_break = exports.cmd_abort = undefined;\n\nvar _abort = __webpack_require__(11);\n\nObject.defineProperty(exports, 'cmd_abort', {\n  enumerable: true,\n  get: function get() {\n    return _abort.cmd_abort;\n  }\n});\n\nvar _break = __webpack_require__(12);\n\nObject.defineProperty(exports, 'cmd_break', {\n  enumerable: true,\n  get: function get() {\n    return _break.cmd_break;\n  }\n});\n\nvar _calc_thermistor = __webpack_require__(13);\n\nObject.defineProperty(exports, 'cmd_calc_thermistor', {\n  enumerable: true,\n  get: function get() {\n    return _calc_thermistor.cmd_calc_thermistor;\n  }\n});\n\nvar _cat = __webpack_require__(14);\n\nObject.defineProperty(exports, 'cmd_cat', {\n  enumerable: true,\n  get: function get() {\n    return _cat.cmd_cat;\n  }\n});\n\nvar _cd = __webpack_require__(15);\n\nObject.defineProperty(exports, 'cmd_cd', {\n  enumerable: true,\n  get: function get() {\n    return _cd.cmd_cd;\n  }\n});\n\nvar _config_load = __webpack_require__(17);\n\nObject.defineProperty(exports, 'cmd_config_load', {\n  enumerable: true,\n  get: function get() {\n    return _config_load.cmd_config_load;\n  }\n});\n\nvar _config_get = __webpack_require__(16);\n\nObject.defineProperty(exports, 'cmd_config_get', {\n  enumerable: true,\n  get: function get() {\n    return _config_get.cmd_config_get;\n  }\n});\n\nvar _config_set = __webpack_require__(18);\n\nObject.defineProperty(exports, 'cmd_config_set', {\n  enumerable: true,\n  get: function get() {\n    return _config_set.cmd_config_set;\n  }\n});\n\nvar _dfu = __webpack_require__(19);\n\nObject.defineProperty(exports, 'cmd_dfu', {\n  enumerable: true,\n  get: function get() {\n    return _dfu.cmd_dfu;\n  }\n});\n\nvar _fire = __webpack_require__(20);\n\nObject.defineProperty(exports, 'cmd_fire', {\n  enumerable: true,\n  get: function get() {\n    return _fire.cmd_fire;\n  }\n});\n\nvar _get = __webpack_require__(21);\n\nObject.defineProperty(exports, 'cmd_get', {\n  enumerable: true,\n  get: function get() {\n    return _get.cmd_get;\n  }\n});\n\nvar _help = __webpack_require__(29);\n\nObject.defineProperty(exports, 'cmd_help', {\n  enumerable: true,\n  get: function get() {\n    return _help.cmd_help;\n  }\n});\n\nvar _load = __webpack_require__(30);\n\nObject.defineProperty(exports, 'cmd_load', {\n  enumerable: true,\n  get: function get() {\n    return _load.cmd_load;\n  }\n});\n\nvar _ls = __webpack_require__(31);\n\nObject.defineProperty(exports, 'cmd_ls', {\n  enumerable: true,\n  get: function get() {\n    return _ls.cmd_ls;\n  }\n});\n\nvar _md5sum = __webpack_require__(32);\n\nObject.defineProperty(exports, 'cmd_md5sum', {\n  enumerable: true,\n  get: function get() {\n    return _md5sum.cmd_md5sum;\n  }\n});\n\nvar _mem = __webpack_require__(33);\n\nObject.defineProperty(exports, 'cmd_mem', {\n  enumerable: true,\n  get: function get() {\n    return _mem.cmd_mem;\n  }\n});\n\nvar _mv = __webpack_require__(35);\n\nObject.defineProperty(exports, 'cmd_mv', {\n  enumerable: true,\n  get: function get() {\n    return _mv.cmd_mv;\n  }\n});\n\nvar _mkdir = __webpack_require__(34);\n\nObject.defineProperty(exports, 'cmd_mkdir', {\n  enumerable: true,\n  get: function get() {\n    return _mkdir.cmd_mkdir;\n  }\n});\n\nvar _net = __webpack_require__(36);\n\nObject.defineProperty(exports, 'cmd_net', {\n  enumerable: true,\n  get: function get() {\n    return _net.cmd_net;\n  }\n});\n\nvar _ok = __webpack_require__(37);\n\nObject.defineProperty(exports, 'cmd_ok', {\n  enumerable: true,\n  get: function get() {\n    return _ok.cmd_ok;\n  }\n});\n\nvar _play = __webpack_require__(38);\n\nObject.defineProperty(exports, 'cmd_play', {\n  enumerable: true,\n  get: function get() {\n    return _play.cmd_play;\n  }\n});\n\nvar _progress = __webpack_require__(39);\n\nObject.defineProperty(exports, 'cmd_progress', {\n  enumerable: true,\n  get: function get() {\n    return _progress.cmd_progress;\n  }\n});\n\nvar _pwd = __webpack_require__(40);\n\nObject.defineProperty(exports, 'cmd_pwd', {\n  enumerable: true,\n  get: function get() {\n    return _pwd.cmd_pwd;\n  }\n});\n\nvar _remount = __webpack_require__(41);\n\nObject.defineProperty(exports, 'cmd_remount', {\n  enumerable: true,\n  get: function get() {\n    return _remount.cmd_remount;\n  }\n});\n\nvar _reset = __webpack_require__(42);\n\nObject.defineProperty(exports, 'cmd_reset', {\n  enumerable: true,\n  get: function get() {\n    return _reset.cmd_reset;\n  }\n});\n\nvar _resume = __webpack_require__(43);\n\nObject.defineProperty(exports, 'cmd_resume', {\n  enumerable: true,\n  get: function get() {\n    return _resume.cmd_resume;\n  }\n});\n\nvar _rm = __webpack_require__(44);\n\nObject.defineProperty(exports, 'cmd_rm', {\n  enumerable: true,\n  get: function get() {\n    return _rm.cmd_rm;\n  }\n});\n\nvar _save = __webpack_require__(45);\n\nObject.defineProperty(exports, 'cmd_save', {\n  enumerable: true,\n  get: function get() {\n    return _save.cmd_save;\n  }\n});\n\nvar _set_temp = __webpack_require__(46);\n\nObject.defineProperty(exports, 'cmd_set_temp', {\n  enumerable: true,\n  get: function get() {\n    return _set_temp.cmd_set_temp;\n  }\n});\n\nvar _suspend = __webpack_require__(47);\n\nObject.defineProperty(exports, 'cmd_suspend', {\n  enumerable: true,\n  get: function get() {\n    return _suspend.cmd_suspend;\n  }\n});\n\nvar _switch = __webpack_require__(48);\n\nObject.defineProperty(exports, 'cmd_switch', {\n  enumerable: true,\n  get: function get() {\n    return _switch.cmd_switch;\n  }\n});\n\nvar _test = __webpack_require__(49);\n\nObject.defineProperty(exports, 'cmd_test', {\n  enumerable: true,\n  get: function get() {\n    return _test.cmd_test;\n  }\n});\n\nvar _thermistors = __webpack_require__(54);\n\nObject.defineProperty(exports, 'cmd_thermistors', {\n  enumerable: true,\n  get: function get() {\n    return _thermistors.cmd_thermistors;\n  }\n});\n\nvar _version = __webpack_require__(55);\n\nObject.defineProperty(exports, 'cmd_version', {\n  enumerable: true,\n  get: function get() {\n    return _version.cmd_version;\n  }\n});\n\nvar _M = __webpack_require__(10);\n\nObject.defineProperty(exports, 'cmd_M999', {\n  enumerable: true,\n  get: function get() {\n    return _M.cmd_M999;\n  }\n});\n\nvar _util = __webpack_require__(0);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BoardRequest = undefined;\n\nvar _request = __webpack_require__(5);\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n* Board request.\n* @extends {Request}\n*/\nvar BoardRequest = function (_Request) {\n  _inherits(BoardRequest, _Request);\n\n  /**\n  * @param {Board}  board    Board instance.\n  * @param {Object} settings See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  */\n  function BoardRequest(board) {\n    var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, BoardRequest);\n\n    /**\n    * Board instance.\n    * @type {String}\n    * @protected\n    */\n    var _this = _possibleConstructorReturn(this, (BoardRequest.__proto__ || Object.getPrototypeOf(BoardRequest)).call(this, Object.assign({}, board.settings.request, settings, {\n      url: 'http://' + board.address + '/' + settings.url\n    })));\n    // call parent constructor\n\n\n    _this.board = board;\n    return _this;\n  }\n\n  return BoardRequest;\n}(_request2.default);\n\n// Exports\n\n\nexports.default = BoardRequest;\nexports.BoardRequest = BoardRequest;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.requestEventTypes = exports.Request = undefined;\n\nvar _request = __webpack_require__(64);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _types = __webpack_require__(2);\n\nvar _types2 = _interopRequireDefault(_types);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _request2.default;\nexports.Request = _request2.default;\nexports.requestEventTypes = _types2.default;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar rng = __webpack_require__(67);\nvar bytesToUuid = __webpack_require__(66);\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.board = exports.request = exports.VERSION = undefined;\n\nvar _request = __webpack_require__(5);\n\nvar request = _interopRequireWildcard(_request);\n\nvar _board = __webpack_require__(57);\n\nvar board = _interopRequireWildcard(_board);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n* API version\n* @type {String}\n*/\nvar VERSION = exports.VERSION = '2.0.0';\n\n// public interface\nexports.request = request;\nexports.board = board;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Board = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _v = __webpack_require__(6);\n\nvar _v2 = _interopRequireDefault(_v);\n\nvar _settings = __webpack_require__(59);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _request = __webpack_require__(4);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _types = __webpack_require__(2);\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _command = __webpack_require__(9);\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _topics = __webpack_require__(1);\n\nvar _topics2 = _interopRequireDefault(_topics);\n\nvar _info = __webpack_require__(58);\n\nvar _info2 = _interopRequireDefault(_info);\n\nvar _filetree = __webpack_require__(56);\n\nvar _filetree2 = _interopRequireDefault(_filetree);\n\nvar _util = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Board class.\n*/\nvar Board = function () {\n  /**\n  * @param {Object} settings See {@link src/board/settings.js~boardSettings} for defaults keys/values.\n  */\n  function Board() {\n    var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Board);\n\n    /**\n    * Board settings, see {@link src/board/settings.js~boardSettings} for defaults keys/values.\n    * @type {Object}\n    * @protected\n    */\n    this.settings = Object.assign({}, _settings2.default, settings);\n\n    if (!this.settings.address || typeof this.settings.address !== 'string') {\n      throw new Error('An address must be specified.');\n    }\n\n    /**\n    * Board address.\n    * @type {String}\n    * @protected\n    */\n    this.address = this.settings.address.trim();\n\n    if (this.address.startsWith('http://')) {\n      this.address = this.address.replace('http://');\n    }\n\n    if (this.address.endsWith('/')) {\n      this.address = this.address.replace(/\\/+$/g, '');\n    }\n\n    /**\n    * Unique identifier (uuid/v4).\n    * @type {String}\n    * @protected\n    */\n    this.uuid = (0, _v2.default)();\n\n    /**\n    * Board info parsed from version command.\n    * ```\n    * {\n    *   branch: \"edge\",\n    *   hash  : \"9ab4538\",\n    *   date  : \"Oct 10 2016 04:09:42\",\n    *   mcu   : \"LPC1769\",\n    *   clock : \"120MHz\"\n    * }\n    * ```\n    * @type {BoardInfo|null}\n    * @default null\n    * @protected\n    */\n    this.info = null;\n\n    /**\n    * Flat files tree.\n    * @type {BoardFileTree}\n    * @protected\n    */\n    this.fileTree = new _filetree2.default();\n\n    /**\n    * Topic subscriptions.\n    * @type {Map}\n    * @protected\n    */\n    this.subscriptions = new Map();\n\n    /**\n    * Command queue.\n    * @type {Array}\n    * @protected\n    */\n    this.commandQueue = [];\n\n    /**\n    * Command queue locked ?.\n    * @type {Boolean}\n    * @protected\n    */\n    this.commandQueueLocked = false;\n\n    /**\n    * Command queue in pause ?.\n    * @type {Boolean}\n    * @protected\n    */\n    this.commandQueuePaused = false;\n\n    /**\n    * Pending command (from command queue).\n    * @type {BoardCommand|null}\n    * @protected\n    */\n    this.pendingCommand = null;\n\n    /**\n    * Is system halted ?\n    * @type {Boolean}\n    * @protected\n    */\n    this.alarm = false;\n\n    /**\n    * Is system in MRI debug mode ?\n    * @type {Boolean}\n    * @protected\n    */\n    this.MRIMode = false;\n  }\n\n  /**\n  * @typedef  {Object} BoardMessage\n  * @property {Board}  board   Board instance.\n  * @property {String} topic   Topic name, see {@link src/board/topics/index.js} for the topics list.\n  * @property {Mixed}  payload Message payload.\n  */\n\n  /**\n  * Publish message to topic, see {@link src/board/topics/index.js} for the topics list.\n  *\n  * @param  {String} topic See {@link src/board/topics/index.js} for possible values.\n  * @param  {Mixed}  [payload = null]\n  * @see {@link Board#subscribe}\n  * @see {@link Board#unsubscribe}\n  * @see {@link Board#deleteTopic}\n  */\n\n\n  _createClass(Board, [{\n    key: 'publish',\n    value: function publish(topic) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // fix topic case\n      topic = topic.trim().toLowerCase();\n\n      // if topic found\n      if (this.subscriptions.has(topic)) {\n        // message payload\n        var message = { board: this, topic: topic, payload: payload };\n\n        // call each registrered callback\n        this.subscriptions.get(topic).forEach(function (subscription) {\n          subscription.callback.call(subscription.context, message);\n        });\n      }\n    }\n\n    /**\n    * @typedef  {Object} BoardSubscription\n    * @property {String}        uuid     Unique identifier (uuid/v4).\n    * @property {Function}      callback A function that takes as single parameter an {@link BoardMessage} object.\n    * @property {Function|null} context  Callback context to apply on call.\n    */\n\n    /**\n    * Subscribe to topic, see {@link src/board/topics/index.js} for the topics list.\n    *\n    * @param  {String}      topic          Topic name, see {@link src/board/topics/index.js} for the topics list.\n    * @param  {Function}    callback       A function that takes as single parameter an {@link BoardMessage} object.\n    * @param  {Object|null} [context=null] Callback context to apply on call.\n    * @return {BoardSubscription}\n    * @see {@link Board#publish}\n    * @see {@link Board#unsubscribe}\n    * @see {@link Board#deleteTopic}\n    */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(topic, callback) {\n      var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      // fix topic case\n      topic = topic.trim().toLowerCase();\n\n      // if first subscription, create new topic\n      if (!this.subscriptions.has(topic)) {\n        this.subscriptions.set(topic, new Map());\n      }\n\n      // fix callback context\n      context = context || callback;\n\n      // create new subscription\n      var subscription = { uuid: (0, _v2.default)(), callback: callback, context: context };\n\n      // register new subscription\n      this.subscriptions.get(topic).set(subscription.uuid, subscription);\n\n      // return the subscription\n      return subscription;\n    }\n\n    /**\n    * Unsubscribe from topic.\n    *\n    * @param  {BoardSubscription|String|Array} uuid Subscription, subscription uuid or callback function.\n    * @return {Integer} Number of callback removed.\n    * @see {@link Board#publish}\n    * @see {@link Board#subscribe}\n    * @see {@link Board#deleteTopic}\n    */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(uuid) {\n      var _this = this;\n\n      var removed = 0;\n\n      // unsubscribe an array of uuid or function\n      if (Array.isArray(uuid)) {\n        uuid.forEach(function (id) {\n          removed += _this.unsubscribe(id);\n        });\n\n        return removed;\n      }\n\n      // unsubscribe from function\n      if (typeof uuid === 'function') {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.subscriptions.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var subscriptions = _step.value;\n\n            subscriptions.forEach(function (subscription) {\n              if (subscription.callback === uuid) {\n                removed += _this.unsubscribe(subscription.uuid);\n              }\n            });\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return removed;\n      }\n\n      // unsubscribe from uuid string\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.subscriptions.keys()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var topic = _step2.value;\n\n          if (this.subscriptions.get(topic).has(uuid)) {\n            removed += this.subscriptions.get(topic).delete(uuid);\n\n            if (this.subscriptions.get(topic).size === 0) {\n              this.deleteTopic(topic);\n            }\n\n            return removed;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return removed;\n    }\n\n    /**\n    * Delete entire topic.\n    *\n    * @param  {String} topic Topic name, see {@link src/board/topics/index.js} for the topics list.\n    * @return {Boolean} False if not found.\n    * @see {@link Board#publish}\n    * @see {@link Board#subscribe}\n    * @see {@link Board#unsubscribe}\n    */\n\n  }, {\n    key: 'deleteTopic',\n    value: function deleteTopic(topic) {\n      if (this.subscriptions.get(topic)) {\n        return this.subscriptions.delete(topic);\n      }\n\n      return false;\n    }\n\n    /**\n    * Create an request.\n    *\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardRequest} for more details).\n    * @return {BoardRequest}\n    */\n\n  }, {\n    key: 'createRequest',\n    value: function createRequest() {\n      var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return new _request2.default(this, settings);\n    }\n\n    /**\n    * Send an request to the board (GET by default).\n    *\n    * ```\n    * var board = new Board({ address: '192.168.1.102' });\n    *\n    * board.sendRequest({ url: 'sd/config' })\n    * .then(function(event) {\n    *   console.info('then:', event);\n    * })\n    * .catch(function(event) {\n    *   console.error('catch:', event);\n    * });\n    * ```\n    *\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardRequest} for more details).\n    * @return {Promise<RequestEvent>}\n    */\n\n  }, {\n    key: 'sendRequest',\n    value: function sendRequest() {\n      var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this.createRequest(settings).send();\n    }\n\n    /**\n    * Create an command.\n    *\n    * @param  {String} command         Command line.\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n    * @return {BoardCommand}\n    */\n\n  }, {\n    key: 'createCommand',\n    value: function createCommand(command) {\n      var _this2 = this;\n\n      var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      // wrap request events\n      settings.on = settings.on || {};\n\n      var _loop = function _loop(key) {\n        var topic = _types2.default[key];\n        var callback = settings.on[topic];\n\n        settings.on[topic] = function (event) {\n          _this2.publish('command.' + topic, event);\n          callback && callback(event);\n        };\n      };\n\n      for (var key in _types2.default) {\n        _loop(key);\n      }\n\n      var boardCommand = new _command2.default(this, command, settings);\n      this.publish(_topics2.default.COMMAND_CREATE, boardCommand);\n      return boardCommand;\n    }\n\n    /**\n    * Send an command to the board.\n    *\n    * @param  {String} boardCommand\n    * @return {Promise<RequestEvent>}\n    */\n\n  }, {\n    key: '_sendCommand',\n    value: function _sendCommand(boardCommand) {\n      var _this3 = this;\n\n      this.publish(_topics2.default.COMMAND_SEND, boardCommand);\n\n      return boardCommand.send().then(function (event) {\n        _this3.publish(_topics2.default.COMMAND_RESPONSE, event);\n        return Promise.resolve(event);\n      }).catch(function (event) {\n        _this3.publish(_topics2.default.COMMAND_ERROR, event);\n        return Promise.reject(event);\n      });\n    }\n\n    /**\n    * Create and send an command to the board.\n    *\n    * ```\n    * var board = new Board({ address: '192.168.1.102' });\n    *\n    * board.sendCommand('ls -s sd/')\n    * .then(function(event) {\n    *   console.info('then:', event);\n    *   console.info('data:', event.payload.data);\n    * })\n    * .catch(function(event) {\n    *   console.error('catch:', event);\n    * });\n    * ```\n    *\n    * @param  {String} command         Command line.\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n    * @return {Promise<RequestEvent>}\n    * @see {@link Board#addCommand}\n    * @see {@link Board#pushCommand}\n    */\n\n  }, {\n    key: 'sendCommand',\n    value: function sendCommand(command) {\n      var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return this._sendCommand(this.createCommand(command, settings));\n    }\n\n    /**\n    * Create and add the command in command queue.\n    *\n    * @param  {String} command         Command line.\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n    * @return {BoardCommand}\n    * @see {@link Board#sendCommand}\n    * @see {@link Board#pushCommand}\n    */\n\n  }, {\n    key: 'addCommand',\n    value: function addCommand(command) {\n      var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var boardCommand = this.createCommand(command, settings);\n      this.publish(_topics2.default.COMMAND_QUEUE_ADD, boardCommand);\n      this.commandQueue.push(boardCommand);\n      return boardCommand;\n    }\n\n    /**\n    * Create and add the command in command queue,\n    * then process the command queue if not in pause or locked.\n    *\n    * @param  {String} command         Command line.\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n    * @return {BoardCommand}\n    * @see {@link Board#sendCommand}\n    * @see {@link Board#addCommand}\n    */\n\n  }, {\n    key: 'pushCommand',\n    value: function pushCommand(command) {\n      var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var boardCommand = this.addCommand(command, settings);\n      this.processCommandQueue();\n      return boardCommand;\n    }\n\n    /**\n    * Process command queue.\n    * @see {@link Board#pauseCommandQueue}\n    * @see {@link Board#stopCommandQueue}\n    * @see {@link Board#resumeCommandQueue}\n    * @see {@link Board#clearCommandQueue}\n    */\n\n  }, {\n    key: 'processCommandQueue',\n    value: function processCommandQueue() {\n      var _this4 = this;\n\n      // command queue locked or empty ?\n      if (this.commandQueueLocked || this.commandQueuePaused || !this.commandQueue.length) {\n        return;\n      }\n\n      // lock the command queue\n      this.commandQueueLocked = true;\n\n      // get the older command\n      this.pendingCommand = this.commandQueue.shift();\n\n      // end of queue\n      if (!this.pendingCommand) {\n        this.publish(_topics2.default.COMMAND_QUEUE_EMPTY);\n        return;\n      }\n\n      this.publish(_topics2.default.COMMAND_QUEUE_SEND, this.pendingCommand);\n\n      this._sendCommand(this.pendingCommand).then(function (event) {\n        return event;\n      }).catch(function (event) {\n        return event;\n      }).then(function (event) {\n        // reset pending command\n        _this4.pendingCommand = null;\n\n        // unlock the command queue\n        _this4.commandQueueLocked = false;\n\n        // process next command in queue\n        _this4.processCommandQueue();\n      });\n    }\n\n    /**\n    * Pause command queue but let the pending command terminate.\n    * @see {@link Board#processCommandQueue}\n    * @see {@link Board#stopCommandQueue}\n    * @see {@link Board#resumeCommandQueue}\n    * @see {@link Board#clearCommandQueue}\n    */\n\n  }, {\n    key: 'pauseCommandQueue',\n    value: function pauseCommandQueue() {\n      this.commandQueuePaused = true;\n      this.publish(_topics2.default.COMMAND_QUEUE_PAUSE, this.commandQueue);\n    }\n\n    /**\n    * Abort the pending command.\n    */\n\n  }, {\n    key: 'abortPendingCommand',\n    value: function abortPendingCommand() {\n      if (this.pendingCommand) {\n        this.pendingCommand.abort();\n        this.pendingCommand = null;\n      }\n    }\n\n    /**\n    * Pause command queue and abort the pending command.\n    * @see {@link Board#processCommandQueue}\n    * @see {@link Board#pauseCommandQueue}\n    * @see {@link Board#resumeCommandQueue}\n    * @see {@link Board#clearCommandQueue}\n    */\n\n  }, {\n    key: 'stopCommandQueue',\n    value: function stopCommandQueue() {\n      this.abortPendingCommand();\n      this.pauseCommandQueue();\n    }\n\n    /**\n    * Resume command queue.\n    * @see {@link Board#processCommandQueue}\n    * @see {@link Board#pauseCommandQueue}\n    * @see {@link Board#stopCommandQueue}\n    * @see {@link Board#clearCommandQueue}\n    */\n\n  }, {\n    key: 'resumeCommandQueue',\n    value: function resumeCommandQueue() {\n      this.commandQueuePaused = false;\n      this.publish(_topics2.default.COMMAND_QUEUE_RESUME, this.commandQueue);\n      this.processCommandQueue();\n    }\n\n    /**\n    * Clear command queue and abort the pending command.\n    * @see {@link Board#processCommandQueue}\n    * @see {@link Board#pauseCommandQueue}\n    * @see {@link Board#stopCommandQueue}\n    * @see {@link Board#resumeCommandQueue}\n    */\n\n  }, {\n    key: 'clearCommandQueue',\n    value: function clearCommandQueue() {\n      this.abortPendingCommand();\n      this.publish(_topics2.default.COMMAND_QUEUE_CLEAR, this.commandQueue);\n\n      this.commandQueueLocked = false;\n      this.commandQueuePaused = false;\n      this.commandQueue = [];\n    }\n\n    /**\n    * Get the board informations.\n    *\n    * @param  {Boolean} [refresh = false]\n    * @return {Promise<BoardInfo|RequestEvent|Error>}\n    */\n\n  }, {\n    key: 'getInfo',\n    value: function getInfo() {\n      var _this5 = this;\n\n      var refresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      return new Promise(function (resolve, reject) {\n        if (!refresh && _this5.info) {\n          resolve(_this5.info);\n        }\n\n        return _this5.sendCommand('version').then(function (event) {\n          if (event.payload.data instanceof Error) {\n            reject(event.payload.data);\n          }\n\n          _this5.info = new _info2.default(event.payload.data);\n          _this5.publish(_topics2.default.INFO_UPDATE, _this5.info);\n          resolve(_this5.info);\n        }).catch(reject);\n      });\n    }\n\n    /** @typedef {Map<String, BoardFolder|BoardFile>} BoardFileList */\n\n    /**\n    * Return a flat file tree for the given path.\n    *\n    * @param  {String}  [path    = '/']    Path to list file from.\n    * @param  {Boolean} [refresh = false]  Force refresh (no cache).\n    * @param  {Boolean} [firstCall = true] Used internaly for recursion.\n    * @return {Promise<BoardFileList|RequestEvent|Error>}\n    */\n\n  }, {\n    key: 'listFiles',\n    value: function listFiles() {\n      var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n\n      var _this6 = this;\n\n      var refresh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var firstCall = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      // from cache\n      path = (0, _util.normalizePath)(path);\n\n      var tree = path === '/' ? this.fileTree : this.fileTree.list(path);\n\n      if (tree.size && !refresh) {\n        return Promise.resolve(tree);\n      }\n\n      // try to get the directory contents\n      return this.sendCommand('ls -s ' + path).then(function (event) {\n        // recursion...\n        var promises = [];\n\n        if (event.payload.data instanceof Error) {\n          return Promise.reject(event.payload.data);\n        }\n\n        // children collection (file or directory)\n        event.payload.data.forEach(function (child) {\n          // set new child\n          _this6.fileTree.set(child);\n\n          // get sub-directory contents\n          if (child.type === 'folder') {\n            promises.push(_this6.listFiles(child.path, true, false));\n          }\n        });\n\n        // wait for all promises done\n        return Promise.all(promises).then(function (results) {\n          var tree = _this6.fileTree.list(path);\n\n          if (firstCall) {\n            _this6.publish(_topics2.default.FILETREE_UPDATE, tree);\n          }\n\n          return Promise.resolve(tree);\n        });\n      });\n    }\n\n    /**\n    * Clear state (M999).\n    *\n    * @return {Promise<RequestEvent>}\n    */\n\n  }, {\n    key: 'clearState',\n    value: function clearState() {\n      var _this7 = this;\n\n      return this.sendCommand('M999').then(function (event) {\n        _this7.alarm = false;\n        return Promise.resolve(event);\n      });\n    }\n  }]);\n\n  return Board;\n}();\n\n// Exports\n\n\nexports.default = Board;\nexports.Board = Board;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BoardCommand = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _request = __webpack_require__(4);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _commands = __webpack_require__(3);\n\nvar boardCommands = _interopRequireWildcard(_commands);\n\nvar _topics = __webpack_require__(1);\n\nvar _topics2 = _interopRequireDefault(_topics);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n* Board request.\n* @extends {BoardRequest}\n*/\nvar BoardCommand = function (_BoardRequest) {\n  _inherits(BoardCommand, _BoardRequest);\n\n  /**\n  * @param {Board}  board       Board instance.\n  * @param {Board}  commandLine Command line, see {@link src/board/commands/index.js} for a list of implemented commands.\n  * @param {Object} settings    See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  * @param {Object} [settings.parseResponse = true] See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  */\n  function BoardCommand(board, commandLine) {\n    var settings = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, BoardCommand);\n\n    // Normalize and split the command line\n    commandLine = commandLine.trim().replace(/ +/g, ' ');\n\n    var commandArgs = commandLine.split(' ');\n    var commandName = commandArgs.shift().toLowerCase();\n\n    // parse response by default\n    if (settings.parseResponse === undefined) {\n      settings.parseResponse = true;\n    }\n\n    // response...\n    var response = function response(r) {\n      var raw = r.trim();\n\n      if (raw.startsWith('error:Unsupported command')) {\n        throw new Error('Unsupported command \"' + commandName + '\".');\n      }\n\n      // alarm/error ?\n      var test = raw.slice(0, 30).toLowerCase();\n\n      // ! fire return empty string if laser module not enabled, even if state is not in alarm mode... !\n      if (!raw.length && ['fire', 'play', 'progress', 'abort', 'suspend', 'resume'].includes(commandName)) {\n        test = '!!';\n      }\n\n      if (test === '!!' || test.startsWith('alarm')) {\n        if (!board.alarm) {\n          board.alarm = true;\n          board.publish(_topics2.default.STATE_ALARM);\n        }\n\n        throw new Error('Alarm! System probably halted.');\n      }\n\n      if (commandName === 'M999') {\n        board.publish(_topics2.default.STATE_CLEAR, test !== 'ok');\n      }\n\n      // response parser\n      var parserName = commandName;\n\n      if (parserName.startsWith('config-')) {\n        parserName = 'config_' + parserName.slice(7);\n      }\n\n      var responseParser = boardCommands['cmd_' + parserName];\n\n      if (!responseParser && settings.parseResponse) {\n        throw new Error('Sorry! The \"' + commandName + '\" command is not (yet) implemented.');\n      }\n\n      // return (parsed) response\n      var args = [].concat(commandArgs); // make a copy\n\n      return settings.parseResponse ? responseParser(r, args) : r;\n    };\n\n    // call parent constructor\n\n    /**\n    * Board instance.\n    * @type {Board}\n    * @protected\n    */\n    var _this = _possibleConstructorReturn(this, (BoardCommand.__proto__ || Object.getPrototypeOf(BoardCommand)).call(this, board, Object.assign({}, board.settings.request, settings, {\n      data: commandLine + '\\n',\n      url: 'command',\n      method: 'POST',\n      filters: { response: response }\n    })));\n\n    _this.board = board;\n\n    /**\n    * Command line.\n    * @type {String}\n    * @protected\n    */\n    _this.commandLine = commandLine;\n\n    /**\n    * Command name.\n    * @type {String}\n    * @protected\n    */\n    _this.commandName = commandName;\n\n    /**\n    * Command arguments.\n    * @type {Array}\n    * @protected\n    */\n    _this.commandArgs = commandArgs;\n    return _this;\n  }\n\n  /**\n  * Send the request and return a Promise.\n  *\n  * @return {Promise<RequestEvent>}\n  */\n\n\n  _createClass(BoardCommand, [{\n    key: 'send',\n    value: function send() {\n      if (this.commandName === 'break') {\n        this.board.MRIMode = true;\n        this.board.publish(_topics2.default.STATE_MRI);\n        // Fix for break command never respond\n        this.settings.timeout = 5000; // 5 seconds\n        this.settings.maxAttempts = 1;\n      }\n\n      return _get(BoardCommand.prototype.__proto__ || Object.getPrototypeOf(BoardCommand.prototype), 'send', this).call(this);\n    }\n  }]);\n\n  return BoardCommand;\n}(_request2.default);\n\n// Exports\n\n\nexports.default = BoardCommand;\nexports.BoardCommand = BoardCommand;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_M999 = cmd_M999;\n/**\n* Clear state.\n*\n* ### on success\n* ```\n* return true if state cleared or false if state not halted\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Boolean|Error}\n*/\nfunction cmd_M999(raw, args) {\n  return raw.trim() !== 'ok';\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_abort = cmd_abort;\n/**\r\n* Parse `abort` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return 'Aborted! Please turn any heaters off manually.'\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Not currently playing.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {String|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L359\r\n*/\nfunction cmd_abort(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  if (raw.startsWith('Not currently playing')) {\n    return new Error('Not currently playing.');\n  }\n\n  if (!raw.startsWith('Aborted playing or paused file')) {\n    return new Error('Unknown response string.');\n  }\n\n  return 'Aborted! Please turn any heaters off manually.';\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_break = cmd_break;\n/**\n* Parse `break` command response.\n*\n* !!! Smoothie never respond when calling this command.\n*\n* ### on success\n* ```\n* return 'Entering MRI debug mode...'\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L661\n*/\nfunction cmd_break(raw, args) {\n  raw = raw.trim();\n\n  if (raw !== 'Entering MRI debug mode...') {\n    return new Error('Unknown response string.');\n  }\n\n  return raw;\n}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_calc_thermistor = cmd_calc_thermistor;\n/**\n* Calculate the Steinhart Hart coefficients for a thermistor.\n*\n* ### on success\n* ```\n* return {\n*   \"saved\": false, // true if -s param provided, else false\n*   \"target\": null, // termistor num if -s param provided, else null\n*   \"I\"     : 0.000722376862540841,\n*   \"J\"     : 0.000722376862540841,\n*   \"K\"     : 0.000722376862540841\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: calc_thermistor [-s0] T1,R1,T2,R2,T3,R3.'\n* return Error: 'Unknown response string.'\n* return Error: 'Invalid input values.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see http://smoothieware.org/steinharthart\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#878\n*/\nfunction cmd_calc_thermistor(raw, args) {\n  raw = raw.trim();\n\n  if (raw.startsWith('Usage: calc_thermistor')) {\n    return new Error('Usage: calc_thermistor [-s0] T1,R1,T2,R2,T3,R3.');\n  }\n\n  var matches = raw.match(/Steinhart Hart coefficients: *I(.*)J(.*)K(.*)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  matches.shift();\n\n  matches = matches.map(function (match) {\n    return parseFloat(match.trim());\n  });\n\n  if (matches.includes(NaN)) {\n    return new Error('Invalid input values.');\n  }\n\n  var saved = args[0].startsWith('-s');\n  var target = saved && args[0][2] || null;\n\n  return { saved: saved, target: target, I: matches[0], J: matches[0], K: matches[0] };\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_cat = cmd_cat;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Get file content.\n*\n* ### on success\n* ```\n* return \"Raw file contents as text.\"\n* ```\n* ### on error\n* ```\n* return Error: 'File not found \"xxx\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L331\n*/\nfunction cmd_cat(raw, args) {\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.trim().startsWith('File not found')) {\n    return new Error('File not found \"' + source + '\".');\n  }\n\n  return raw;\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_cd = cmd_cd;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Change current folder.\n*\n* ### on success\n* ```\n* return \"ok\"\n* ```\n* ### on error\n* ```\n* return Error: 'Could not open \"xxx\" directory.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L358\n*/\nfunction cmd_cd(raw, args) {\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.trim().startsWith('Could not open directory')) {\n    return new Error('Could not open \"' + source + '\" directory.');\n  }\n\n  return 'ok';\n}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_config_get = cmd_config_get;\n/**\n* Parse `config_get` command response.\n*\n* ### on success\n* ```\n* return {\n*   \"source\" : \"sd\", // or cache\n*   \"setting\": \"default_feed_rate\",\n*   \"value\"  : \"4000\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Undefined \"xxx\" setting in \"yyy\".'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L257\n* @see https://github.com/Smoothieware/Smoothieware/blob/08e30d628e00333e274757bb6feac8b5e5541125/src/modules/utils/configurator/Configurator.cpp#L30\n* @see https://github.com/Smoothieware/Smoothieware/blob/08e30d628e00333e274757bb6feac8b5e5541125/src/libs/Config.cpp#L31\n*/\nfunction cmd_config_get(raw, args) {\n  raw = raw.trim();\n\n  var matches = raw.match(/(.*): (.*) is not in config/);\n\n  if (matches) {\n    var _source = matches[1].trim();\n    var setting = matches[2].trim();\n\n    if (_source === 'cached') {\n      _source = 'cache';\n    }\n\n    return new Error('Undefined \"' + setting + '\" setting in \"' + _source + '\".');\n  }\n\n  matches = raw.match(/(.*): (.*) is set to (.*)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  var source = matches[1].trim();\n\n  if (source === 'cached') {\n    source = 'cache';\n  }\n\n  return {\n    source: source,\n    setting: matches[2].trim(),\n    value: matches[3].trim()\n  };\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_config_load = cmd_config_load;\n/**\n* Parse `config_load` command response.\n*\n* ### on success\n* ```\n* return '...'\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: config-load load|unload|dump|checksum'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L263\n* @see https://github.com/Smoothieware/Smoothieware/blob/08e30d628e00333e274757bb6feac8b5e5541125/src/modules/utils/configurator/Configurator.cpp#L106\n*/\nfunction cmd_config_load(raw, args) {\n  raw = raw.trim();\n\n  if (raw.startsWith('unsupported option:')) {\n    return new Error('Usage: config-load load|unload|dump|checksum');\n  }\n\n  if (raw.startsWith('config cache loaded') || raw.startsWith('config cache unloaded')) {\n    return true;\n  }\n\n  var matches = raw.match(/^checksum of (.*) = (.*)/);\n\n  if (matches) {\n    return {\n      setting: matches[1].trim(),\n      checksum: matches[2].trim()\n    };\n  }\n\n  var config = [];\n  var lines = raw.split('\\n');\n\n  lines.forEach(function (line) {\n    line = line.trim();\n    matches = line.match(/^([0-9]+) - (.*) : '(.*)' - found: (.*), default: (.*), default-double: (.*), default-int: (.*)/);\n\n    if (!matches) {\n      return new Error('Unknown response string.');\n    }\n\n    config.push({\n      checksum: matches[2],\n      value: matches[3],\n      found: matches[4],\n      default: matches[5],\n      defaultDouble: matches[6],\n      defaultInt: matches[7]\n    });\n  });\n\n  if (config.length) {\n    return config;\n  }\n\n  return new Error('Unknown response string.');\n}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_config_set = cmd_config_set;\n/**\n* Parse `config_set` command response.\n*\n* ### on success\n* ```\n* return return {\n*   \"source\" : \"sd\",\n*   \"setting\": \"default_feed_rate\",\n*   \"value\"  : \"4000\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: config-set source setting value.'\n* return Error: 'Undefined source \"xxx\".'\n* return Error: 'Not enough space in \"xxx\" to overwrite \"yyy\" setting.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L260\n* @see https://github.com/Smoothieware/Smoothieware/blob/08e30d628e00333e274757bb6feac8b5e5541125/src/modules/utils/configurator/Configurator.cpp#L68\n*/\nfunction cmd_config_set(raw, args) {\n  raw = raw.trim();\n\n  if (raw.startsWith('Usage: config-set')) {\n    return new Error('Usage: config-set source setting value');\n  }\n\n  var matches = raw.match(/(.*): (.*) has been set to (.*)/);\n\n  if (matches) {\n    return {\n      source: matches[1].trim(),\n      setting: matches[2].trim(),\n      value: matches[3].trim()\n    };\n  }\n\n  matches = raw.match(/(.*) source does not exist/);\n\n  if (matches) {\n    return new Error('Undefined source \"' + matches[1] + '\".');\n  }\n\n  matches = raw.match(/(.*): (.*) not enough space/);\n\n  if (matches) {\n    return new Error('Not enough space in \"' + matches[1].trim() + '\" to overwrite \"' + matches[2].trim() + '\" setting.');\n  }\n\n  return new Error('Unknown response string.');\n}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_dfu = cmd_dfu;\n/**\n* Parse `dfu` command response.\n*\n* ### on success\n* ```\n* return 'Entering boot mode...'\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L661\n*/\nfunction cmd_dfu(raw, args) {\n  raw = raw.trim();\n\n  if (raw !== 'Entering boot mode...') {\n    return new Error('Unknown response string.');\n  }\n\n  return raw;\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_fire = cmd_fire;\n/**\n* Fire laser.\n*\n* ! fire return empty string if laser module not enabled, even if state is not in alarm mode... !\n* This parser will never called in this case...\n*\n* ### on success\n* ```\n* return \"...\"\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: Usage: fire power|off.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L269\n* @see https://github.com/Smoothieware/Smoothieware/blob/dcf0252ef5d048f22949c07224e10cc8dde341cc/src/modules/tools/laser/Laser.cpp#L134\n*/\nfunction cmd_fire(raw, args) {\n  raw = raw.trim();\n\n  if (raw.startsWith('Usage: fire power')) {\n    return new Error('Usage: fire power|off.');\n  }\n\n  if (raw.startsWith('turning laser off')) {\n    return { fire: false, power: 0 };\n  }\n\n  // WARNING: Firing laser at %1.2f%% power, entering manual mode use fire off to return to auto mode\n  var matches = raw.match(/^WARNING: Firing laser at ([0-9\\.]+)%/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return { fire: true, power: parseInt(matches[1]) };\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_get = cmd_get;\n\nvar _get_temp = __webpack_require__(27);\n\nvar _get_pos = __webpack_require__(24);\n\nvar _get_wcs = __webpack_require__(28);\n\nvar _get_state = __webpack_require__(25);\n\nvar _get_status = __webpack_require__(26);\n\nvar _get_ik = __webpack_require__(23);\n\nvar _get_fk = __webpack_require__(22);\n\n/**\n* Get command `temp|pos|wcs|state|status|fk|ik`.\n*\n* - get temp [bed|hotend]\n* - get fk|ik [-m] x[,y,z]\n*\n* ### on success\n* ```\n* return \"...\"\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown option \"xxx\".'\n* return Error: 'Sorry! The \"get xxx\" command is not (yet) implemented.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Mixed|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#741\n*/\nfunction cmd_get(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  // option\n  var option = (args.shift() || '').toLowerCase();\n\n  // file not found\n  if (raw.startsWith('error:unknown option')) {\n    return new Error('Unknown option \"' + option + '\".');\n  }\n\n  var func = void 0;\n\n  switch (option) {\n    case 'temp':\n      func = _get_temp.get_temp;\n      break;\n    case 'pos':\n      func = _get_pos.get_pos;\n      break;\n    case 'wcs':\n      func = _get_wcs.get_wcs;\n      break;\n    case 'state':\n      func = _get_state.get_state;\n      break;\n    case 'status':\n      func = _get_status.get_status;\n      break;\n    case 'ik':\n      func = _get_ik.get_ik;\n      break;\n    case 'fk':\n      func = _get_fk.get_fk;\n      break;\n    default:\n      return new Error('Sorry! The \"get ' + option + '\" command is not (yet) implemented.');\n  }\n\n  return func(raw, args);\n}\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_fk = get_fk;\n/**\n* Get forward kinematics.\n*\n* ### on success\n* ```\n* return {\n*   \"move\": false,\n*   \"x\"   : 10,\n*   \"y\"   : 10,\n*   \"z\"   : 10\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: get ik [-m] x[,y,z].'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#771\n*/\nfunction get_fk(raw, args) {\n  var move = args.shift() === '-m';\n\n  // error\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: get fk [-m] x[,y,z].');\n  }\n\n  var matches = raw.match(/cartesian= X ([0-9\\.]+), Y ([0-9\\.]+), Z ([0-9\\.]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    move: move,\n    x: parseFloat(matches[1]),\n    y: parseFloat(matches[2]),\n    z: parseFloat(matches[3])\n  };\n}\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_ik = get_ik;\n/**\n* Get inverse kinematics.\n*\n* ### on success\n* ```\n* return {\n*   \"move\": false,\n*   \"x\"   : 10,\n*   \"y\"   : 10,\n*   \"z\"   : 10\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: get ik [-m] x[,y,z].'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#771\n*/\nfunction get_ik(raw, args) {\n  var move = args.shift() === '-m';\n\n  // error\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: get ik [-m] x[,y,z].');\n  }\n\n  var matches = raw.match(/actuator= X ([0-9\\.]+), Y ([0-9\\.]+), Z ([0-9\\.]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    move: move,\n    x: parseFloat(matches[1]),\n    y: parseFloat(matches[2]),\n    z: parseFloat(matches[3])\n  };\n}\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_pos = get_pos;\n/**\n* Get position.\n*\n* ### on success\n* ```\n* return {\n*   \"WCS\": {\n*     \"command\"    : \"M114\",\n*     \"description\": \"Position of all axes\",\n*     \"x\"          : 0,\n*     \"y\"          : 0,\n*     \"z\"          : 0\n*   },\n*   \"WPOS\": {\n*     \"command\"    : \"M114.1\",\n*     \"description\": \"Real time position of all axes\"\n*     // , x, y, z\n*   },\n*   \"MPOS\": {\n*     \"command\"    : \"M114.2\",\n*     \"description\": \"Real time machine position of all axes\"\n*     // , x, y, z\n*   },\n*   \"APOS\": {\n*     \"command\"    : \"M114.3\",\n*     \"description\": \"Real time actuator position of all actuators\"\n*     // , x, y, z\n*   },\n*   \"LMS\": {\n*     \"command\"    : \"M114.4\",\n*     \"description\": \"Last milestone\"\n*     // , x, y, z\n*   },\n*   \"LMP\": {\n*     \"command\"    : \"M114.5\",\n*     \"description\": \"Last machine position\"\n*     // , x, y, z\n*   }\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#818\n*/\nfunction get_pos(raw, args) {\n  // last C: X:0.0000 Y:0.0000 Z:0.0000\n  // realtime WPOS: X:0.0000 Y:0.0000 Z:0.0000\n  // MPOS: X:0.0000 Y:0.0000 Z:0.0000\n  // APOS: X:0.0000 Y:0.0000 Z:0.0000\n  // LMS: X:0.0000 Y:0.0000 Z:0.0000\n  // LMP: X:0.0000 Y:0.0000 Z:0.0000\n  // split on new lines\n  var lines = raw.split('\\n');\n  var key = void 0,\n      positions = {};\n\n  lines.forEach(function (line) {\n    var r = parsePositionString(line);\n    positions[r.key] = r.position;\n  });\n\n  // split response text on new lines\n  return positions;\n}\n\n// Parse position string.\n// WCS : M114   - Last WCS.\n// WPOS: M114.1 - Realtime WCS.\n// MPOS: M114.2 - Realtime machine coordinate system.\n// APOS: M114.3 - Realtime actuator position.\n// LMS : M114.4 - Last milestone.\n// LMP : M114.5 - Last machine position.\nfunction parsePositionString(line) {\n  var parts = line.split(':');\n  var key = parts.shift().replace(' ', '_').toUpperCase();\n  var coords = parts.join(':').trim().split(' ');\n\n  var position = {\n    x: parseFloat(coords[0].substr(2)),\n    y: parseFloat(coords[1].substr(2)),\n    z: parseFloat(coords[2].substr(2))\n  };\n\n  if (key === 'LAST_C') {\n    key = 'WCS';\n  } else if (key === 'REALTIME_WPOS') {\n    key = 'WPOS';\n  }\n\n  switch (key) {\n    case 'WCS':\n      position.command = 'M114';\n      position.description = 'Position of all axes';\n      break;\n    case 'WPOS':\n      position.command = 'M114.1';\n      position.description = 'Real time position of all axes';\n      break;\n    case 'MPOS':\n      position.command = 'M114.2';\n      position.description = 'Real time machine position of all axes';\n      break;\n    case 'APOS':\n      position.command = 'M114.3';\n      position.description = 'Real time actuator position of all actuators';\n      break;\n    case 'LMS':\n      position.command = 'M114.4';\n      position.description = 'Last milestone';\n      break;\n    case 'LMP':\n      position.command = 'M114.5';\n      position.description = 'Last machine position';\n      break;\n    default:\n      position.command = 'M114.?';\n      position.description = 'Unknown type';\n  }\n\n  return { key: key, position: position };\n}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_state = get_state;\n/**\n* Get state.\n*\n* ### on success\n* ```\n* return\n* {\n*   \"modal\"          : \"G0\",\n*   \"wcs\"            : \"G54\",\n*   \"plane_selection\": \"G17\",\n*   \"unit\"           : \"G21\",\n*   \"distance_mode\"  : \"G90\",\n*   \"path_control\"   : \"G94\",\n*   \"program_pause\"  : \"M0\",\n*   \"stop_tool\"      : \"M5\",\n*   \"stop_coolant\"   : \"M9\",\n*   \"tool\"           : \"T0\",\n*   \"feed_rate\"      : \"F4000.0000\",\n*   \"s_value\"        : \"S0.8000\",\n*   \"state\"          : [ \"G0\", \"G54\", \"G17\", \"G21\", \"G90\", \"G94\", \"M0\", \"M5\", \"M9\", \"T0\", \"F4000.0000\", \"S0.8000\" ]\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#832\n*/\nfunction get_state(raw, args) {\n  var state = raw.slice(1, -1).split(' ');\n\n  return {\n    modal: state[0],\n    wcs: state[1],\n    plane_selection: state[2],\n    unit: state[3],\n    distance_mode: state[4],\n    path_control: state[5],\n    program_pause: state[6],\n    stop_tool: state[7],\n    stop_coolant: state[8],\n    tool: state[9],\n    feed_rate: state[10],\n    s_value: state[11],\n    state: state\n  };\n}\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_status = get_status;\n/**\n* Get status.\n*\n* ### on success\n* ```\n* return\n* {\n*   \"status\"   : \"idle\", // [idle, alarm, home, hold, run]\n*   \"machine\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"workspace\": { \"x\": 0, \"y\": 0, \"z\": 0 }\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#847\n* @see https://github.com/Smoothieware/Smoothieware/blob/f7d999cff4a33d83b09ce136c122b3b7b2f1c69a/src/libs/Kernel.cpp#L163\n*/\nfunction get_status(raw, args) {\n  var parts = raw.slice(1, -1).toLowerCase().replace(/(w|m)pos:/g, '').split(',');\n\n  return {\n    status: parts[0],\n    machine: {\n      x: parseFloat(parts[1]),\n      y: parseFloat(parts[2]),\n      z: parseFloat(parts[3])\n    },\n    workspace: {\n      x: parseFloat(parts[4]),\n      y: parseFloat(parts[5]),\n      z: parseFloat(parts[6])\n    }\n  };\n}\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_temp = get_temp;\n/**\n* Get temperature.\n*\n* ### on success\n* ```\n* // get temp\n* return [\n*   {\n*     \"designator\": \"T\",\n*     \"id\": 57988,\n*     \"current\": null, // null means the sensor is not properly connected, or it is damaged in some way.\n*     \"target\": 0,\n*     \"pwm\": 0\n*   },\n*   {\n*     \"designator\": \"B\",\n*     \"id\": 22060,\n*     \"current\": null,\n*     \"target\": 0,\n*     \"pwm\": 0\n*   }\n* ]\n* ```\n* ```\n* // get temp bed\n* return {\n*   \"designator\": \"bed\",\n*   \"current\": null,\n*   \"target\": 0,\n*   \"pwm\": 0\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'No heaters found.'\n* return Error: 'Unknown response string.'\n* return Error: '\"xxx\" is not a known temperature device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#745\n*/\nfunction get_temp(raw, args) {\n  if (raw.startsWith('no heaters found')) {\n    return new Error('No heaters found.');\n  }\n\n  // device [bed|hotend]\n  var device = (args[0] || 'all').toLowerCase();\n\n  if (raw.endsWith('is not a known temperature device')) {\n    return new Error('\"' + device + '\" is not a known temperature device.');\n  }\n\n  var result = void 0;\n\n  if (device === 'all') {\n    // [T (57988) temp: inf/0.000000 @0]\n    return raw.split('\\n').map(parseTempString);\n  }\n\n  // \"bed temp: inf/0.000000 @0\"\n  var matches = raw.match(/([a-z]+) temp: (inf|[0-9\\.]+)\\/(inf|[0-9\\.]+) @([0-9]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    device: matches[1],\n    current: parseFloat(matches[2]),\n    target: parseFloat(matches[3]),\n    pwm: parseInt(matches[4])\n  };\n}\n\nfunction parseTempString(temp) {\n  // T (57988) temp: inf/0.000000 @0\n  var matches = temp.match(/(T|B) \\(([0-9]+)\\) temp: (inf|[0-9\\.]+)\\/(inf|[0-9\\.]+) @([0-9]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    designator: matches[1],\n    id: parseInt(matches[2]),\n    current: parseFloat(matches[3]),\n    target: parseFloat(matches[4]),\n    pwm: parseInt(matches[5])\n  };\n}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_wcs = get_wcs;\n/**\n* Get wcs state.\n*\n* ### on success\n* ```\n* return {\n*   \"current\": \"G54\",\n*   \"tool\"   : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"prob\"   : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G54\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G55\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G56\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G57\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G58\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.1\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.2\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.3\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G28\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G30\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G92\"    : { \"x\": 0, \"y\": 0, \"z\": 0 }\n*}\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#828\n*/\nfunction get_wcs(raw, args) {\n  // [current WCS: G54]\n  // [G54:0.0000,0.0000,0.0000]\n  // [G55:0.0000,0.0000,0.0000]\n  // [G56:0.0000,0.0000,0.0000]\n  // [G57:0.0000,0.0000,0.0000]\n  // [G58:0.0000,0.0000,0.0000]\n  // [G59:0.0000,0.0000,0.0000]\n  // [G59.1:0.0000,0.0000,0.0000]\n  // [G59.2:0.0000,0.0000,0.0000]\n  // [G59.3:0.0000,0.0000,0.0000]\n  // [G28:0.0000,0.0000,0.0000]\n  // [G30:0.0000,0.0000,0.0000]\n  // [G92:0.0000,0.0000,0.0000]\n  // [Tool Offset:0.0000,0.0000,0.0000]\n  // [PRB:0.0000,0.0000,0.0000:0]\n  var lines = raw.split('\\n');\n\n  // unwrap line ([...])\n  lines = lines.map(function (line) {\n    return line.slice(1, -1);\n  });\n\n  var wcs = {\n    current: lines.shift().split(': ').pop()\n  };\n\n  lines.forEach(function (line) {\n    var parts = line.split(':');\n    var code = parts.shift().toUpperCase();\n    var coords = parts.shift().split(',');\n\n    if (code === 'TOOL OFFSET') {\n      code = 'tool';\n    } else if (code === 'PRB') {\n      code = 'prob';\n    }\n\n    wcs[code] = {\n      x: parseFloat(coords[0]),\n      y: parseFloat(coords[1]),\n      z: parseFloat(coords[2])\n    };\n  });\n\n  return wcs;\n}\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_help = cmd_help;\n/**\n* Get command help list.\n*\n* ### on success\n* ```\n* return \"List of command help. One by line.\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#1124\n*/\nfunction cmd_help(raw, args) {\n  return raw.trim();\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_load = cmd_load;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Parse `load` command response.\n*\n* ### on success\n* ```\n* return {\n*   \"file\"  : \"/sd/config-override\",\n*   \"config\": [\n*     [\n*      \"Steps per unit\",\n*      \"M92 X80.00000 Y80.00000 Z1600.00000\"\n*     ],\n*     [\n*      \"Acceleration mm/sec^2\",\n*      \"M204 S3000.00000\"\n*     ],\n*     [\n*      \"X- Junction Deviation, Z- Z junction deviation, S - Minimum Planner speed mm/sec\",\n*      \"M205 X0.05000 Z-1.00000 S0.00000\"\n*     ],\n*     [\n*      \"Max cartesian feedrates in mm/sec\",\n*      \"M203 X500.00000 Y500.00000 Z5.00000\"\n*     ],\n*     [\n*      \"Max actuator feedrates in mm/sec\",\n*      \"M203.1 X500.00000 Y500.00000 Z5.00000\"\n*     ],\n*     [\n*      \"WCS setting\",\n*      \"G54\"\n*     ],\n*     [\n*      \"Digipot Motor currents\",\n*      \"M907 X1.50000 Y1.50000 Z1.50000 A1.50000\"\n*     ],\n*     [\n*      \"Home offset (mm)\",\n*      \"M206 X0.00 Y0.00 Z0.00\"\n*     ],\n*     [\n*      \"E Steps per mm\",\n*      \"M92 E140.0000 P57988\"\n*     ],\n*     [\n*      \"E Filament diameter\",\n*      \"M200 D0.0000 P57988\"\n*     ],\n*     [\n*      \"E retract length, feedrate\",\n*      \"M207 S3.0000 F2700.0000 Z0.0000 Q6000.0000 P57988\"\n*     ],\n*     [\n*      \"E retract recover length, feedrate\",\n*      \"M208 S0.0000 F480.0000 P57988\"\n*     ],\n*     [\n*      \"E acceleration mm/sec²\",\n*      \"M204 E500.0000 P57988\"\n*     ],\n*     [\n*      \"E max feed rate mm/sec\",\n*      \"M203 E50.0000 P57988\"\n*     ],\n*     [\n*      \"PID settings\",\n*      \"M301 S0 P10.0000 I0.3000 D200.0000 X255.0000 Y255\"\n*     ],\n*     [\n*      \"Max temperature setting\",\n*      \"M143 S0 P300.0000\"\n*     ],\n*     [\n*      \"PID settings\",\n*      \"M301 S1 P10.0000 I0.3000 D200.0000 X255.0000 Y255\"\n*     ],\n*     [\n*      \"Max temperature setting\",\n*      \"M143 S1 P300.0000\"\n*     ]\n*   ]\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'File not found \"xxx\".'\n* return Error: 'Malformed file \"xxx\".'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L512\n*/\nfunction cmd_load(raw, args) {\n  raw = raw.trim();\n\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.startsWith('File not found')) {\n    return new Error('File not found \"' + source + '\".');\n  }\n\n  var matches = raw.match(/^Loading config override file: (.*).../);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  var file = matches[1];\n  var lines = raw.split('\\n').slice(1, -1).map(function (l) {\n    return l.trim();\n  });\n  var test = lines.shift();\n\n  if (!test || test !== '; DO NOT EDIT THIS FILE') {\n    return new Error('Malformed file \"' + source + '\".');\n  }\n\n  var config = [];\n\n  for (var i = 0; i < lines.length; i += 2) {\n    config.push([lines[i].slice(1, -1), lines[i + 1]]);\n  }\n\n  return { file: file, config: config };\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_ls = cmd_ls;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Parse `ls` command response.\n*\n* ### on success\n* - If the `-s` parameter is not provided, the size is set to 0.\n* - The size is also set to 0 on directories.\n* ```\n* return [\n*   {\"extension\":\"\",\"name\":\"project1\",\"path\":\"/sd/project1\",\"parent\":\"/sd\",\"type\":\"folder\",\"size\":0},\n*   {\"extension\":\".cur\",\"name\":\"firmware.cur\",\"path\":\"/sd/firmware.cur\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":368144},\n*   {\"extension\":\"\",\"name\":\"config\",\"path\":\"/sd/config\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":29417},\n*   {\"extension\":\".gcode\",\"name\":\"file1.gcode\",\"path\":\"/sd/file1.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":1914257},\n*   {\"extension\":\".gcode\",\"name\":\"file2.gcode\",\"path\":\"/sd/file2.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":0},\n*   {\"extension\":\".gcode\",\"name\":\"file3.gcode\",\"path\":\"/sd/file3.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":1062811}\n* ]\n* ```\n* ### on error\n* ```\n* return Error: 'Could not open \"xxx\" directory.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Array|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L284\n*/\nfunction cmd_ls(raw, args) {\n  // size flag\n  var size = args[0] === '-s';\n\n  size && args.shift();\n\n  // extract and normalize path\n  var path = (0, _util.normalizePath)(args[0] || '');\n\n  // raw response\n  raw = raw.trim();\n\n  // file not found\n  if (raw.startsWith('Could not open directory')) {\n    return new Error('Could not open \"' + path + '\" directory.');\n  }\n\n  // excluded files\n  var excludes = [\"system volume information/\"];\n\n  // split lines\n  var lines = raw.split('\\n');\n  var info = null;\n\n  // empty files list\n  var files = [];\n  var file = null;\n  var isDir = false;\n\n  var extension = void 0;\n  var rootPath = path !== '/' ? path : '';\n\n  // for each lines (file)\n  lines.forEach(function (line) {\n    // remove trailing spaces\n    line = line.trim();\n\n    if (!excludes.includes(line)) {\n      // extract file/directory info (name/size)\n      info = line.trim().match(/^([a-z0-9_\\-\\.]+) ?(\\/| [0-9]+)?$/, 'gi');\n\n      if (!info) {\n        return new Error('Unknown response string.');\n      }\n\n      // is directory ?\n      isDir = info[2] === '/';\n\n      extension = '';\n\n      if (info[1].includes('.')) {\n        extension = '.' + info[1].split('.').pop();\n      }\n\n      // set file info\n      files.push({\n        name: info[1],\n        extension: extension,\n        parent: rootPath.length ? rootPath : '/',\n        path: rootPath + '/' + info[1],\n        type: isDir ? 'folder' : 'file',\n        size: isDir ? 0 : parseInt(info[2] || 0)\n      });\n    }\n  });\n\n  return files;\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_md5sum = cmd_md5sum;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Get md5 sum of the given file.\n*\n* ### on success\n* ```\n* return {\n*   \"md5\" : \"335a4ebbaa1bc6b81cc94fd6e7209ec2\",\n*   \"file\": \"/sd/config\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'File \"xxx\" not found.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L358\n*/\nfunction cmd_md5sum(raw, args) {\n  raw = raw.trim();\n\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.startsWith('File not found')) {\n    return new Error('File \"' + source + '\" not found.');\n  }\n\n  var parts = raw.split(' ');\n\n  return {\n    md5: parts[0].trim(),\n    file: parts[1].trim()\n  };\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.cmd_mem = cmd_mem;\n/**\n* Get informations about memory usage.\n*\n* ### on success\n* ```\n* return {\n*   \"BLOCK_SIZE\"    : 100\n*   \"UNUSED_HEAP\"   : 8344,\n*   \"USED_HEAP_SIZE\": 18008,\n*   \"FREE\"          : 2572,\n*   \"ALLOCATED\"     : 14348,\n*   \"TOTAL_FREE_RAM\": 10916,\n*   \"AHB0\": {\n*     \"free\"  : 13652,\n*     \"total\" : 15184, // verbose mode only\n*     \"used\"  : 1532,  // verbose mode only\n*     \"chunks\": [      // verbose mode only\n*        {\n*         \"address\": \"0x2007c4b0\",\n*         \"offset\": 0,\n*         \"bytes\": 268,\n*         \"free\": false\n*        }\n*     //, ...\n*     ]\n*   },\n*   \"AHB1\": {\n*     \"free\"  : 10440,\n*     \"total\" : 10440, // verbose mode only\n*     \"used\"  : 0      // verbose mode only\n*     \"chunks\": [...]  // verbose mode only\n*   },\n*   \"CHUNKS\": [ // verbose mode only\n*     {\n*       \"address\": \"0x10000CF8\",\n*       \"bytes\"  : 32,\n*       \"free\"   : false\n*     }\n*     //, ...\n*   ]\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#578\n*/\nfunction cmd_mem(raw, args) {\n  // trim raw response\n  raw = raw.trim();\n\n  // verbose mode\n  var verbose = args[0] === '-v';\n\n  // // Split on new line\n  var lines = raw.split(/[\\r\\n|\\r|\\n]+/gm);\n\n  var memory = {};\n\n  if (verbose) {\n    memory.CHUNKS = [];\n  }\n\n  var setValue = function setValue(line) {\n    var _line$split = line.split(': '),\n        _line$split2 = _slicedToArray(_line$split, 2),\n        key = _line$split2[0],\n        value = _line$split2[1];\n\n    var bytes = parseInt(value.trim().replace(/ bytes$/, ''));\n\n    key = key.trim().replace(/ +/gm, '_').toUpperCase();\n\n    if (key === 'FREE_AHB0') {\n      key = 'AHB0';\n    }\n\n    if (key.startsWith('AHB')) {\n      memory[key] = { free: bytes };\n    } else {\n      memory[key] = bytes;\n    }\n  };\n\n  var target = null;\n\n  lines.forEach(function (line) {\n    line = line.trim();\n\n    if (line.startsWith('Allocated') || line.startsWith('Free AHB0')) {\n      line = line.split(', ');\n      setValue(line[1]);\n      line = line[0];\n    }\n\n    if (verbose && line.startsWith('Chunk:')) {\n      // [\"Chunk: 7\", \"Address: 0x10001028\", \"Size: 20\", \"\"]\n      var chunk = line.split('  ');\n\n      memory.CHUNKS.push({\n        address: chunk[1].split(': ')[1],\n        bytes: parseInt(chunk[2].split(': ')[1]),\n        free: chunk[3] !== undefined\n      });\n    } else if (verbose && line.startsWith('Start:')) {\n      target = memory['AHB' + (target === null ? '0' : '1')];\n      target.chunks = [];\n    } else if (verbose && line.startsWith('Chunk at')) {\n      // \"Chunk at 0x2007c8a8 (+1016): used, 516 bytes\"\n      // \"Chunk at 0x2007caac (+1532): free, 13652 bytes\"\n      var _chunk = line.match(/^Chunk at ([0-9a-zA-Z]+) \\( *\\+([0-9]+)\\): (free|used), ([0-9]+) bytes$/);\n\n      target.chunks.push({\n        address: _chunk[1],\n        offset: parseInt(_chunk[2]),\n        bytes: parseInt(_chunk[4]),\n        free: _chunk[3] === 'free'\n      });\n    } else if (verbose && line.startsWith('End:')) {\n      // total 10440b, free: 10440b\n      var end = line.match(/^End: total ([0-9]+)b, free: ([0-9]+)b$/);\n      target.total = parseInt(end[1]);\n      target.used = target.total - target.free;\n    } else {\n      setValue(line);\n    }\n  });\n\n  return memory;\n}\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_mkdir = cmd_mkdir;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Parse `mkdir` command response.\n*\n* ### on success\n* ```\n* return '/sd/new_directory'\n* ```\n* ### on error\n* ```\n* return Error: 'Could not create directory \"xxx\".'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L349\n*/\nfunction cmd_mkdir(raw, args) {\n  raw = raw.trim();\n\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.startsWith('could not create directory')) {\n    return new Error('Could not create directory \"' + source + '\".');\n  }\n\n  if (!raw.startsWith('created directory')) {\n    return new Error('Unknown response string.');\n  }\n\n  return source;\n}\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_mv = cmd_mv;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Move a file.\n*\n* ### on success\n* ```\n* return {\n*   source: '/sd/source.gcode',\n*   target: '/sd/target.gcode'\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Could not move \"xxx\" to \"yyy\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L339\n*/\nfunction cmd_mv(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  var source = (0, _util.normalizePath)(args[0] || '');\n  var target = (0, _util.normalizePath)(args[1] || '');\n\n  // file not found\n  if (raw.startsWith('Could not rename')) {\n    return new Error('Could not move \"' + source + '\" to \"' + target + '\".');\n  }\n\n  return { source: source, target: target };\n}\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_net = cmd_net;\n/**\n* Get network config.\n*\n* ### on success\n* ```\n* return {\n*   \"ip\"     : \"192.168.1.102\",\n*   \"gateway\": \"192.168.1.1\",\n*   \"mask\"   : \"255.255.255.0\",\n*   \"mac\"    : \"00:00:00:00:00:00\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#616\n*/\nfunction cmd_net(raw, args) {\n  var matches = raw.trim().match(/IP Addr:([^\\n]+)\\nIP GW:([^\\n]+)\\nIP mask:([^\\n]+)\\nMAC Address:([^\\n]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    ip: matches[1].trim(),\n    gateway: matches[2].trim(),\n    mask: matches[3].trim(),\n    mac: matches[4].trim()\n  };\n}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_ok = cmd_ok;\n/**\n* Parse `ok` command response.\n*\n* ### on success\n* ```\n* return \"ok\"\n* ```\n* ### on error\n* ```\n* return Error: 'ko'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L272\n*/\nfunction cmd_ok(raw, args) {\n  if (raw.trim() === 'ok') {\n    return 'ok';\n  }\n\n  return new Error('ko');\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_play = cmd_play;\n\nvar _util = __webpack_require__(0);\n\n/**\r\n* Parse `play` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return {\r\n*   file: \"/sd/my_file.gcode\",\r\n*   size: 8600 // or null if not computable\r\n* }\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'File \"xxx\" not found.'\r\n* return Error: 'Currently printing, abort print first.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {Object|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L267\r\n*/\nfunction cmd_play(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  // file file\n  var file = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.startsWith('File not found')) {\n    return new Error('File \"' + file + '\" not found.');\n  }\n\n  if (raw.startsWith('Currently printing')) {\n    return new Error('Currently printing, abort print first.');\n  }\n\n  if (!raw.startsWith('Playing')) {\n    return new Error('Unknown response string.');\n  }\n\n  var lines = raw.split('\\n');\n  var size = parseInt(lines[1].trim().split(' ').pop());\n\n  return { file: file, size: size };\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_progress = cmd_progress;\n/**\r\n* Parse `progress` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return {\r\n*   \"paused\"   : false,\r\n*   \"file\"     : \"/sd/file.gcode\",\r\n*   \"complete\" : 85, // percent\r\n*   \"elapsed\"  : \"00:13:43\",\r\n*   \"estimated\": \"00:02:14\" // undefined if elapsed <= 10 seconds\r\n* }\r\n*\r\n* // or if paused\r\n* return {\r\n*   \"paused\": true,\r\n*   \"played\": 150,\r\n*   \"total\" : 380\r\n* }\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Not currently playing.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {Object|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L315\r\n*/\nfunction cmd_progress(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  if (raw.startsWith('Not currently playing')) {\n    return new Error('Not currently playing.');\n  }\n\n  if (raw.startsWith('SD print is paused at')) {\n    var _matches = raw.match(/SD print is paused at ([0-9]+)\\/([0-9]+)/);\n\n    if (!_matches) {\n      return new Error('Unknown response string.');\n    }\n\n    return {\n      paused: true,\n      played: parseInt(_matches[1]),\n      total: parseInt(_matches[2])\n    };\n  }\n\n  // file: /sd/skate.gcode, 27 % complete, elapsed time: 7 s\n  // file: /sd/skate.gcode, 27 % complete, elapsed time: 13 s, est time: 33 s\n\n  // Since -> https://github.com/Smoothieware/Smoothieware/commit/7f7d84293841e659d436b8f833e90d6f8cbdf281\n  // file: /sd/tag.gcode, 6 % complete, elapsed time: 00:01:42, est time: 00:25:23\n  var matches = raw.match(/file: ([^,]+), ([0-9]+) % complete, elapsed time: ([0-9\\:]+)(?: s)?(?:, est time: ([0-9\\:]+)( s)?)?/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  // https://github.com/Smoothieware/Smoothieware/commit/7f7d84293841e659d436b8f833e90d6f8cbdf281\n  var elapsed = matches[3];\n  var estimated = matches[4];\n\n  if (matches[5]) {\n    elapsed = timeFormat(elapsed);\n    estimated = timeFormat(estimated);\n  }\n\n  return {\n    paused: false,\n    file: matches[1],\n    complete: parseInt(matches[2]),\n    elapsed: elapsed,\n    estimated: estimated\n  };\n}\n\n// seconds -> 00:00:00\nfunction timeFormat(time) {\n  time = parseInt(time);\n  return [time / 3600, time % 3600 / 60, time % 60].join(':');\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_pwd = cmd_pwd;\n/**\n* Get current working directory.\n*\n* ### on success\n* ```\n* return \"/sd/folder\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L373\n*/\nfunction cmd_pwd(raw, args) {\n  return raw.trim();\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_remount = cmd_remount;\n/**\n* Remount SD card.\n*\n* ### on success\n* ```\n* return \"remounted\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#324\n*/\nfunction cmd_remount(raw, args) {\n  return raw.trim();\n}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_reset = cmd_reset;\n/**\n* Reset the board.\n*\n* ### on success\n* ```\n* return \"Smoothie out. Peace. Rebooting in 5 seconds...\\r\\n\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L647\n*/\nfunction cmd_reset(raw, args) {\n  return raw.trim();\n}\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_resume = cmd_resume;\n/**\n* Parse `resume` command response.\n*\n* ### on success\n* ```\n* return [\n*   \"Restoring saved XYZ positions and state...\",\n*   \"Resuming print\",\n*   ...\n* ]\n* ```\n* ### on error\n* ```\n* return Error: 'Not suspended.'\n* return Error: 'Resume aborted by kill.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L594\n*/\nfunction cmd_resume(raw, args) {\n  raw = raw.trim();\n\n  if (raw.startsWith('Not suspended')) {\n    return new Error('Not suspended.');\n  }\n\n  if (!raw.startsWith('resuming print...')) {\n    return new Error('Unknown response string.');\n  }\n\n  if (raw.indexOf('Resume aborted by kill') !== -1) {\n    return new Error('Resume aborted by kill.');\n  }\n\n  var lines = raw.split('\\n').map(function (line) {\n    return line.trim();\n  });\n\n  lines.shift();\n\n  return lines;\n}\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_rm = cmd_rm;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Remove a file.\n*\n* ### on success\n* ```\n* return \"/sd/removed_file.gcode\"\n* ```\n* ### on error\n* ```\n* return Error: 'Could not remove \"xxx\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L331\n*/\nfunction cmd_rm(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  // file not found\n  if (raw.startsWith('Could not delete')) {\n    return new Error('Could not remove \"' + source + '\".');\n  }\n\n  return source;\n}\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_save = cmd_save;\n/**\n* Parse `save` command response.\n*\n* ### on success\n* ```\n* return {\n*   stored: true,\n*   file  : '/sd/config-override'\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L542\n*/\nfunction cmd_save(raw, args) {\n  raw = raw.trim();\n\n  var matches = raw.match(/^Settings Stored to (.*)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return { stored: true, file: matches[1] };\n}\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_set_temp = cmd_set_temp;\n/**\n* Set temperature.\n*\n* - set_temp [bed|hotend]\n*\n* ### on success\n* ```\n* return {\n*   \"device\": \"bed\",\n*   \"target\": 180\n* }\n* ```\n* ### on error\n* ```\n* return Error: '\"xxx\" is not a known temperature device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#857\n*/\nfunction cmd_set_temp(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  // device\n  var device = (args.shift() || '').toLowerCase();\n\n  // error\n  if (raw.endsWith('is not a known temperature device')) {\n    return new Error('\"' + device + '\" is not a known temperature device.');\n  }\n\n  // new temperature\n  var target = parseInt(args.shift() || 0);\n\n  return { device: device, target: target };\n}\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_suspend = cmd_suspend;\n/**\r\n* Parse `suspend` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return 'Suspending print, waiting for queue to empty...'\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Already suspended.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {String|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L359\r\n*/\nfunction cmd_suspend(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  if (raw.startsWith('Already suspended')) {\n    return new Error('Already suspended.');\n  }\n\n  if (!raw.startsWith('Suspending print')) {\n    return new Error('Unknown response string.');\n  }\n\n  return 'Suspending print, waiting for queue to empty...';\n}\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_switch = cmd_switch;\n/**\n* Switch module.\n*\n* `switch fan on` or `switch fan 150`\n*\n* ### on success\n* ```\n* return {\n*   \"device\": \"fan\",\n*   \"value\" : \"on\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: '\"xxx\" is not a known switch device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L916\n*/\nfunction cmd_switch(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  // device\n  var device = args.shift() || '';\n\n  // error\n  if (raw.endsWith('is not a known switch device')) {\n    return new Error('\"' + device + '\" is not a known switch device.');\n  }\n\n  return { device: device, value: args.shift() || '' };\n}\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_test = cmd_test;\n\nvar _test_jog = __webpack_require__(51);\n\nvar _test_circle = __webpack_require__(50);\n\nvar _test_square = __webpack_require__(53);\n\nvar _test_raw = __webpack_require__(52);\n\n/**\n* Parse `break` command response.\n*\n* !!! Smoothie never respond when calling this command.\n*\n* ### on success\n* ```\n* return 'Entering MRI debug mode...'\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test <jog|circle|square|raw> <options>'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L958\n*/\nfunction cmd_test(raw, args) {\n  raw = raw.trim();\n\n  if (raw.startsWith('usage:')) {\n    return new Error('Usage: test jog|circle|square|raw options');\n  }\n\n  // option\n  var option = (args.shift() || '').toLowerCase();\n\n  var func = void 0;\n\n  switch (option) {\n    case 'jog':\n      func = _test_jog.test_jog;\n      break;\n    case 'circle':\n      func = _test_circle.test_circle;\n      break;\n    case 'square':\n      func = _test_square.test_square;\n      break;\n    case 'raw':\n      func = _test_raw.test_raw;\n      break;\n    default:\n      return new Error('Sorry! The \"test ' + option + '\" command is not (yet) implemented.');\n  }\n\n  return func(raw, args);\n}\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test_circle = test_circle;\n/**\n* Parse \"test circle\" response.\n*\n* ### on success\n* ```\n* return [gcode, gcode, ..., 'done']\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test circle radius iterations [feedrate]'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#989\n*/\nfunction test_circle(raw, args) {\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: test circle radius iterations [feedrate]');\n  }\n\n  return raw.split('\\n');\n}\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test_jog = test_jog;\n/**\n* Parse \"test jog\" response.\n*\n* ### on success\n* ```\n* return [gcode, gcode, ..., 'done']\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test jog axis distance iterations [feedrate]'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#962\n*/\nfunction test_jog(raw, args) {\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: test jog axis distance iterations [feedrate]');\n  }\n\n  return raw.split('\\n');\n}\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test_raw = test_raw;\n/**\n* Parse \"test raw\" response.\n*\n* ### on success\n* ```\n* return [gcode, gcode, ..., 'done']\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test raw axis steps steps/sec'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#1074\n*/\nfunction test_raw(raw, args) {\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: test raw axis steps steps/sec');\n  }\n\n  return raw.split('\\n');\n}\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test_square = test_square;\n/**\n* Parse \"test square\" response.\n*\n* ### on success\n* ```\n* return [gcode, gcode, ..., 'done']\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test square size iterations [feedrate]'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#1030\n*/\nfunction test_square(raw, args) {\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: test square size iterations [feedrate]');\n  }\n\n  return raw.split('\\n');\n}\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_thermistors = cmd_thermistors;\n/**\n* Get the predefined thermistors.\n*\n* ### on success\n* ```\n* return {\n*   \"table\": {\n*     \"EPCOS100K\"    : 1,\n*     \"Vishay100K\"   : 2,\n*     \"Honeywell100K\": 3,\n*     \"Semitec\"      : 4,\n*     \"Honeywell-QAD\": 5\n*   },\n*   \"beta\": {\n*     \"EPCOS100K\"    : 129,\n*     \"RRRF100K\"     : 130,\n*     \"RRRF10K\"      : 131,\n*     \"Honeywell100K\": 132,\n*     \"Semitec\"      : 133,\n*     \"HT100K\"       : 134\n*   }\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L272\n*/\nfunction cmd_thermistors(raw, args) {\n  var lines = raw.trim().split('\\n');\n  var result = { table: {}, beta: {} };\n  var pointer = result.table;\n\n  var matches = void 0,\n      name = void 0,\n      value = void 0;\n\n  lines.shift(); // remove \"S/H table\"\n\n  lines.forEach(function (line) {\n    line = line.trim();\n\n    if (line.startsWith('Beta table')) {\n      pointer = result.beta;\n    } else {\n      matches = line.match(/^([0-9]+) - (.*)/);\n\n      if (!matches) {\n        return new Error('Unknown response string.');\n      }\n\n      name = matches[2].trim();\n      value = parseFloat(matches[1].trim());\n\n      pointer[name] = value;\n    }\n  });\n\n  return result;\n}\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_version = cmd_version;\n/**\n* Parse version command response.\n*\n* ### on success\n* ```\n* return {\n*   branch: \"edge\",\n*   hash  : \"9ab4538\",\n*   date  : \"Oct 10 2016 04:09:42\",\n*   mcu   : \"LPC1769\",\n*   clock : \"120MHz\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n*/\nfunction cmd_version(raw, args) {\n  // version pattern\n  var pattern = /Build version: (.*), Build date: (.*), MCU: (.*), System Clock: (.*)/;\n\n  // test the pattern\n  var info = raw.trim().match(pattern);\n\n  if (info) {\n    // split branch-hash on dash\n    var branch = info[1].split('-');\n\n    // resolve\n    return {\n      branch: branch[0].trim(),\n      hash: branch[1].trim(),\n      date: info[2].trim(),\n      mcu: info[3].trim(),\n      clock: info[4].trim()\n    };\n  }\n\n  // reject\n  return new Error('Unknown response string');\n}\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BoardFile = exports.BoardFolder = exports.BoardFileTree = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Board file class.\n*/\nvar BoardFile =\n/**\n* @param {Object} file File object from `ls -s` command.\n*/\nfunction BoardFile(file) {\n  _classCallCheck(this, BoardFile);\n\n  /**\n  * Parent folder path `/sd/my_folder`.\n  * @type {String}\n  */\n  this.parent = file.parent;\n\n  /**\n  * File size (bytes).\n  * @type {Integer}\n  */\n  this.size = file.size;\n\n  /**\n  * File path `/sd/my_folder/my_file.ext`.\n  * @type {String}\n  */\n  this.path = file.path;\n\n  /**\n  * File name with extension `my_file.ext`.\n  * @type {String}\n  */\n  this.name = file.name;\n\n  /**\n  * File extension with starting dot `.gcode`.\n  * @type {String}\n  */\n  this.extension = file.extension;\n};\n\n/**\n* Board folder class.\n*/\n\n\nvar BoardFolder =\n/**\n* @param {Object} folder Folder object from `ls -s` command.\n*/\nfunction BoardFolder(folder) {\n  _classCallCheck(this, BoardFolder);\n\n  /**\n  * Parent folder path `/sd`.\n  * @type {String}\n  */\n  this.parent = file.parent;\n\n  /**\n  * Folder size (bytes).\n  * @type {Integer}\n  */\n  this.size = file.size;\n\n  /**\n  * Folder path `/sd/my_folder`.\n  * @type {String}\n  */\n  this.path = file.path;\n\n  /**\n  * Folder name `my_folder`.\n  * @type {String}\n  */\n  this.name = file.name;\n};\n\n/**\n* Board file tree class.\n*/\n\n\nvar BoardFileTree = function () {\n  /**\n  * Constructor...\n  */\n  function BoardFileTree() {\n    _classCallCheck(this, BoardFileTree);\n\n    /**\n    * Flat file tree.\n    * @type {Map}\n    */\n    this.tree = new Map();\n\n    /**\n    * File tree size (bytes).\n    * @type {Integer}\n    */\n    this.size = 0;\n  }\n\n  /**\n  * Make and return a child object.\n  *\n  * @param  {Object} child Child object from `ls -s` command.\n  * @return {BoardFile|BoardFolder}\n  * @protected\n  */\n\n\n  _createClass(BoardFileTree, [{\n    key: 'makeChild',\n    value: function makeChild(child) {\n      return child.type === 'file' ? new BoardFile(child) : new BoardFolder(child);\n    }\n\n    /**\n    * Update tree size.\n    *\n    * @param  {BoardFile|BoardFolder} child\n    * @param  {Integer} size\n    * @protected\n    */\n\n  }, {\n    key: 'updateSize',\n    value: function updateSize(child, size) {\n      this.size += size;\n\n      var parent = this.tree.get(child.parent);\n\n      while (parent) {\n        parent.size += size;\n        parent = this.tree.get(parent.parent);\n      }\n    }\n\n    /**\n    * Remove a child and all of his children.\n    *\n    * @param  {BoardFile|BoardFolder} child Child name or object to remove.\n    * @return {Integer|null} Number of child removed.\n    */\n\n  }, {\n    key: 'remove',\n    value: function remove(child) {\n      var path = child.path || (0, _util.normalizePath)(child);\n      var file = this.tree.get(path);\n\n      if (!file) {\n        return null;\n      }\n\n      var removed = 1;\n\n      this.tree.delete(file.path);\n      this.updateSize(file, -file.size);\n\n      if (file instanceof BoardFolder) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.tree.keys()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var childPath = _step.value;\n\n            if (childPath.startsWith(file.path + '/')) {\n              this.tree.delete(childPath);\n              removed++;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      return removed;\n    }\n\n    /**\n    * Set a new child.\n    *\n    * @param {Object} child Child object from `ls -s` command.\n    */\n\n  }, {\n    key: 'set',\n    value: function set(child) {\n      var file = this.makeChild(child);\n\n      this.remove(file.path);\n      this.tree.set(file.path, file);\n      this.updateSize(file, file.size);\n    }\n\n    /**\n    * Return if child path exists.\n    *\n    * @param  {String} path\n    * @return {Boolean}\n    */\n\n  }, {\n    key: 'has',\n    value: function has(path) {\n      return this.tree.has((0, _util.normalizePath)(path));\n    }\n\n    /**\n    * Return a child from path if exists.\n    *\n    * @param  {String} path\n    * @return {BoardFile|BoardFolder|null}\n    */\n\n  }, {\n    key: 'get',\n    value: function get(path) {\n      return this.tree.get((0, _util.normalizePath)(path));\n    }\n\n    /**\n    * Return all children from path.\n    *\n    * @param  {String} path\n    * @return {Map}\n    */\n\n  }, {\n    key: 'list',\n    value: function list(path) {\n      var tree = new Map();\n\n      path = (0, _util.normalizePath)(path);\n\n      if (path !== '/') {\n        path += '/';\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.tree.keys()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var childPath = _step2.value;\n\n          if (childPath.startsWith(path)) {\n            tree.set(childPath, this.tree.get(childPath));\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return tree;\n    }\n  }]);\n\n  return BoardFileTree;\n}();\n\n// Exports\n\n\nexports.default = BoardFileTree;\nexports.BoardFileTree = BoardFileTree;\nexports.BoardFolder = BoardFolder;\nexports.BoardFile = BoardFile;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.boardCommands = exports.boardTopics = exports.Board = undefined;\n\nvar _board = __webpack_require__(8);\n\nvar _board2 = _interopRequireDefault(_board);\n\nvar _topics = __webpack_require__(1);\n\nvar _topics2 = _interopRequireDefault(_topics);\n\nvar _commands = __webpack_require__(3);\n\nvar boardCommands = _interopRequireWildcard(_commands);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _board2.default;\nexports.Board = _board2.default;\nexports.boardTopics = _topics2.default;\nexports.boardCommands = boardCommands;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Board info.\n*/\nvar BoardInfo =\n/**\n* @param {Object} info Object from the `version` command.\n*/\nfunction BoardInfo(info) {\n  _classCallCheck(this, BoardInfo);\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.branch = null;\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.hash = null;\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.date = null;\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.mcu = null;\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.clock = null;\n\n  // merge info object\n  Object.assign(this, info);\n};\n\n// Exports\n\n\nexports.default = BoardInfo;\nexports.BoardInfo = BoardInfo;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\r\n* Defaults board settings.\r\n* @type     {Object<String, Mixed>}\r\n* @property {String}   address                       IP or hostname without protocol prefix.\r\n* @property {Object}   request                       Request settings, see {@link src/request/settings.js~requestSettings} for defaults keys/values.\r\n* @property {Integer}  [request.timeout      = 0]    Timeout for this request in milliseconds.\r\n* @property {Integer}  [request.maxAttempts  = 3]    Maximum number of attemps before rejection.\r\n* @property {Integer}  [request.attemptDelay = 1000] Delay in milliseconds between two attemps.\r\n* @property {Function} [request.filters.status]      Default to 200 OK `function(s) { return s === 200 }`.\r\n*/\nvar boardSettings = {\n  address: undefined,\n  request: {\n    timeout: 0,\n    maxAttempts: 3,\n    attemptDelay: 1000,\n    filters: { status: function status(_status) {\n        return _status === 200;\n      } }\n  }\n};\n\nexports.default = boardSettings;\nexports.boardSettings = boardSettings;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* @external {ProgressEvent} https://developer.mozilla.org/fr/docs/Web/API/ProgressEvent\n*/\n\n/**\n* Request event.\n*/\nvar RequestEvent =\n/**\n* @param {String}        type    Event type, see {@link src/request/event/types.js} for possible values.\n* @param {ProgressEvent} event   Original progress event.\n* @param {Request}       request Request instance.\n* @param {RequestProgressPayload|RequestResponsePayload|RequestAttemptPayload|Error}\n*                        payload Request payload.\n*/\nfunction RequestEvent(type, event, request) {\n  var payload = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  _classCallCheck(this, RequestEvent);\n\n  /**\n  * Event type, see {@link src/request/event/types.js} for possible values.\n  * @type {String}\n  * @protected\n  */\n  this.type = type;\n\n  /**\n  * Original progress event.\n  * @type {ProgressEvent}\n  * @protected\n  */\n  this.event = event;\n\n  /**\n  * Request instance.\n  * @type {Request}\n  * @protected\n  */\n  this.request = request;\n\n  /**\n  * Event payload.\n  * @type {RequestProgressPayload|RequestResponsePayload|RequestAttemptPayload|Error}\n  * @protected\n  */\n  this.payload = payload;\n};\n\n// Exports\n\n\nexports.default = RequestEvent;\nexports.RequestEvent = RequestEvent;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Attempt payload.\n*/\nvar RequestAttemptPayload =\n/**\n* @param {Request} request\n*/\nfunction RequestAttemptPayload(request) {\n  _classCallCheck(this, RequestAttemptPayload);\n\n  /**\n  * Number of executed attempts.\n  * @type {Integer}\n  * @protected\n  */\n  this.done = request.attempts;\n\n  /**\n  * Attempts number.\n  * @type {Integer}\n  * @protected\n  */\n  this.num = this.done + 1;\n\n  /**\n  * Maximum number of attempts.\n  * @type {Integer}\n  * @protected\n  */\n  this.max = request.settings.maxAttempts;\n\n  /**\n  * Delay between two attempt.\n  * @type {Integer}\n  * @protected\n  */\n  this.delay = request.settings.attemptDelay;\n};\n\n// Exports\n\n\nexports.default = RequestAttemptPayload;\nexports.RequestAttemptPayload = RequestAttemptPayload;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Progression payload.\n*/\nvar RequestProgressPayload =\n/**\n* @param {ProgressEvent} event Original progress event.\n*/\nfunction RequestProgressPayload(event) {\n  _classCallCheck(this, RequestProgressPayload);\n\n  /**\n  * Total bytes.\n  * @type {Integer}\n  * @protected\n  */\n  this.total = event.total || 0;\n\n  /**\n  * Loaded bytes.\n  * @type {Integer}\n  * @protected\n  */\n  this.loaded = event.loaded || 0;\n\n  /**\n  * Is computable.\n  * @type {Boolean}\n  * @protected\n  */\n  this.computable = event.lengthComputable;\n\n  /**\n  * Loaded percent.\n  * @type {Integer}\n  * @protected\n  */\n  this.percent = this.computable ? parseInt(this.loaded / this.total * 100) : 0;\n};\n\n// Exports\n\n\nexports.default = RequestProgressPayload;\nexports.RequestProgressPayload = RequestProgressPayload;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Response payload.\n*/\nvar RequestResponsePayload =\n/**\n* @param {XMLHttpRequest} xhr    An `XMLHttpRequest` instance.\n* @param {Function}       filter Response filter.\n*/\nfunction RequestResponsePayload(xhr) {\n  var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  _classCallCheck(this, RequestResponsePayload);\n\n  /**\n  * Response status code.\n  * @type {Integer}\n  * @protected\n  */\n  this.status = xhr.status;\n\n  /**\n  * Respons status text.\n  * @type {String}\n  * @protected\n  */\n  this.message = xhr.statusText;\n\n  /**\n  * Response data.\n  * @type {Mixed}\n  * @protected\n  */\n  this.data = xhr.response;\n\n  if (typeof filter === 'function') {\n    this.data = filter(this.data);\n  }\n};\n\n// Exports\n\n\nexports.default = RequestResponsePayload;\nexports.RequestResponsePayload = RequestResponsePayload;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Request = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _v = __webpack_require__(6);\n\nvar _v2 = _interopRequireDefault(_v);\n\nvar _settings = __webpack_require__(65);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _types = __webpack_require__(2);\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _request = __webpack_require__(60);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _progress = __webpack_require__(62);\n\nvar _progress2 = _interopRequireDefault(_progress);\n\nvar _response = __webpack_require__(63);\n\nvar _response2 = _interopRequireDefault(_response);\n\nvar _attempt = __webpack_require__(61);\n\nvar _attempt2 = _interopRequireDefault(_attempt);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* `XMLHttpRequest` wrapper with `Promise` logic.\n*\n* @example\n* function on(event) {\n*   console.info('on:', event.type, event);\n* }\n*\n* new Request({\n*   url   : 'http://192.168.1.102/command',\n*   method: 'POST',\n*   data  : 'version\\n',\n*   on    : {\n*     'retry'            : on,\n*     'retry.send'       : on,\n*     'retry.limit'      : on,\n*\n*     'download.load'    : on,\n*     'download.error'   : on,\n*     'download.abort'   : on,\n*     'download.timeout' : on,\n*     'download.progress': on,\n*\n*     'upload.load'      : on,\n*     'upload.error'     : on,\n*     'upload.abort'     : on,\n*     'upload.timeout'   : on,\n*     'upload.progress'  : on\n*   },\n*   filters: {\n*     status  : status => status === 200,\n*     response: response => JSON.stringify(response)\n*   }\n* })\n* .send()\n* .then(event => {\n*   console.info('then:', event);\n* })\n* .catch(event => {\n*   console.error('catch:', event);\n* });\n*\n* @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n* @see https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\n*/\nvar Request = function () {\n  _createClass(Request, null, [{\n    key: 'encodeData',\n\n    /**\n    * Encode data object to uri string `key_1=value_1&key_2=value_2`.\n    *\n    * @param  {Object<String, String>} data\n    * @return {String}\n    */\n    value: function encodeData(data) {\n      // no data\n      if (data) {\n        // stringify data object\n        if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n          data = Object.keys(data).map(function (key) {\n            return encodeURIComponent(key) + '=' + encodeURIComponent(data[key]);\n          }).join('&');\n        }\n\n        // remove the first char if it is an '?'\n        if (data.startsWith('?')) {\n          data = data.substr(1);\n        }\n      }\n\n      return data;\n    }\n\n    /**\n    * Join data to url.\n    *\n    * @param  {String}                        url\n    * @param  {String|Object<String, String>} data\n    * @return {String}\n    */\n\n  }, {\n    key: 'joinUrlData',\n    value: function joinUrlData(url, data) {\n      return url + (url.indexOf('?') === -1 ? '?' : '&') + Request.encodeData(data);\n    }\n\n    /**\n    * @param {Object} settings See {@link src/request/settings.js~requestSettings} for defaults keys/values.\n    */\n\n  }]);\n\n  function Request() {\n    var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Request);\n\n    /**\n    * Request settings, see {@link src/request/settings.js~requestSettings} for defaults keys/values.\n    * @type {Object}\n    * @protected\n    */\n    this.settings = Object.assign({}, _settings2.default, settings);\n\n    /**\n    * Unique identifier (uuid/v4).\n    * @type {String}\n    * @protected\n    */\n    this.uuid = (0, _v2.default)();\n\n    /**\n    * Creation time.\n    * @type {Integer}\n    * @protected\n    */\n    this.time = Date.now();\n\n    /**\n    * Send time.\n    * @type {Integer}\n    * @protected\n    */\n    this.sendTime = null;\n\n    /**\n    * Elapsed time.\n    * @type {Integer}\n    * @protected\n    */\n    this.elapsedTime = null;\n\n    /**\n    * Number of attempts.\n    * @type {Integer}\n    * @protected\n    */\n    this.attempts = 0;\n\n    /**\n    * `XMLHttpRequest` instance.\n    * @type {XMLHttpRequest}\n    * @protected\n    */\n    this.xhr = null;\n\n    /**\n    * Aborted flag.\n    * @type {Boolean}\n    * @protected\n    */\n    this.aborted = false;\n  }\n\n  /**\n  * Trigger an user defined event.\n  *\n  * @throws {Error}\n  */\n\n\n  _createClass(Request, [{\n    key: '_triggerEvent',\n    value: function _triggerEvent(event) {\n      if (typeof this.settings.on[event.type] === 'function') {\n        this.settings.on[event.type](event);\n      }\n    }\n\n    /**\n    * Send the request and return a Promise.\n    *\n    * @return {Promise<RequestEvent>}\n    * @throws {Error}\n    */\n\n  }, {\n    key: '_send',\n    value: function _send() {\n      var _this = this;\n\n      // prevent calling twice\n      if (this.xhr) {\n        throw new Error('You can not send the same request twice.');\n      }\n\n      // increment attempts counter\n      this.attempts++;\n\n      // set send time\n      this.sendTime = Date.now();\n\n      // local settings\n      var settings = Object.assign({}, this.settings);\n\n      // normalize settings\n      settings.url = settings.url.trim();\n      settings.method = settings.method.toUpperCase();\n      settings.data = Request.encodeData(settings.data);\n\n      if (settings.method !== 'POST' && settings.data) {\n        // append data to uri and reset data\n        settings.url = Request.joinUrlData(settings.url, settings.data);\n        settings.data = null;\n      }\n\n      // wrap the request in promise\n      return new Promise(function (resolve, reject) {\n        // create http request object\n        _this.xhr = new XMLHttpRequest();\n\n        // override mime type\n        _this.xhr.overrideMimeType(settings.mimeType);\n\n        // open async request\n        _this.xhr.open(settings.method, settings.url, true);\n\n        // status\n        var rejected = false;\n\n        // create, trigger and return an RequestEvent\n        var createEvent = function createEvent(type, event) {\n          var payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n          var requestEvent = new _request2.default(type, event, _this, payload);\n          !rejected && _this._triggerEvent(requestEvent);\n          return requestEvent;\n        };\n\n        // on abort, error, timeout\n        var _reject = function _reject(type, event, error) {\n          _this.elapsedTime = Date.now() - _this.sendTime;\n          reject(createEvent(type, event, error instanceof Error ? error : new Error(error)));\n          rejected = true;\n        };\n\n        var onAbort = function onAbort(type, event) {\n          _this.aborted = true;\n          _reject(type, event, 'Connection aborted.');\n        };\n\n        var onError = function onError(type, event) {\n          _reject(type, event, 'Unknown network error.');\n        };\n\n        var onTimeout = function onTimeout(type, event) {\n          _reject(type, event, 'Connection timed out (>' + settings.timeout + 'ms).');\n        };\n\n        // on progress\n        var onProgress = function onProgress(type, event) {\n          createEvent(type, event, new _progress2.default(event));\n        };\n\n        // on load\n        var onLoad = function onLoad(type, event) {\n          // check status\n          var status = _this.xhr.status;\n\n          if (!status) {\n            return _reject(_types2.default.DOWNLOAD_ERROR, event, 'Unknown HTTP error.');\n          }\n\n          // let user check the status\n          if (typeof settings.filters.status === 'function') {\n            status = settings.filters.status(status);\n          }\n\n          if (!status) {\n            return _reject(type, event, _this.xhr.status + ' ' + _this.xhr.statusText);\n          }\n\n          // response payload\n          var payload = void 0;\n\n          try {\n            // catch filter error\n            payload = new _response2.default(_this.xhr, settings.filters.response);\n          } catch (error) {\n            return _reject(type, event, error);\n          }\n\n          // set elapsed time\n          _this.elapsedTime = Date.now() - _this.sendTime;\n\n          // resolve the promise\n          resolve(createEvent(type, event, payload));\n        };\n\n        var onUploaLoad = function onUploaLoad(type, event) {\n          createEvent(type, event, settings.data);\n        };\n\n        // download events\n        _this.xhr.onload = function (event) {\n          return onLoad(_types2.default.DOWNLOAD_LOAD, event);\n        };\n        _this.xhr.onabort = function (event) {\n          return onAbort(_types2.default.DOWNLOAD_ABORT, event);\n        };\n        _this.xhr.onerror = function (event) {\n          return onError(_types2.default.DOWNLOAD_ERROR, event);\n        };\n        _this.xhr.ontimeout = function (event) {\n          return onTimeout(_types2.default.DOWNLOAD_TIMEOUT, event);\n        };\n        _this.xhr.onprogress = function (event) {\n          return onProgress(_types2.default.DOWNLOAD_PROGRESS, event);\n        };\n\n        // upload events\n        _this.xhr.upload.onload = function (event) {\n          return onProgress(_types2.default.UPLOAD_LOAD, event);\n        };\n        _this.xhr.upload.onabort = function (event) {\n          return onAbort(_types2.default.UPLOAD_ABORT, event);\n        };\n        _this.xhr.upload.onerror = function (event) {\n          return onError(_types2.default.UPLOAD_ERROR, event);\n        };\n        _this.xhr.upload.ontimeout = function (event) {\n          return onTimeout(_types2.default.UPLOAD_TIMEOUT, event);\n        };\n        _this.xhr.upload.onprogress = function (event) {\n          return onProgress(_types2.default.UPLOAD_PROGRESS, event);\n        };\n\n        // set request headers\n        if (settings.headers) {\n          for (var header in settings.headers) {\n            _this.xhr.setRequestHeader(header, settings.headers[header]);\n          }\n        }\n\n        // set request timeout\n        _this.xhr.timeout = settings.timeout;\n\n        // send the request\n        _this.xhr.send(settings.data);\n\n        // dirty hack ...\n        if (_this.aborted) {\n          _this.xhr.abort();\n        }\n      });\n    }\n\n    /**\n    * Send the request and return a Promise.\n    *\n    * @return {Promise<RequestEvent>}\n    */\n\n  }, {\n    key: 'send',\n    value: function send() {\n      var _this2 = this;\n\n      return this._send().catch(function (event) {\n        // trigger user callback\n        var triggerEvent = function triggerEvent(type, event) {\n          return _this2._triggerEvent(new _request2.default(type, event.event, _this2, new _attempt2.default(_this2)));\n        };\n\n        // retry on timeout error if attempts limit is not reached\n        if (event.type.endsWith('timeout') || event.type.endsWith('error') && event.payload.message.startsWith('Unknown network error')) {\n          if (_this2.attempts < _this2.settings.maxAttempts) {\n            // call user callback\n            triggerEvent(_types2.default.BEFORE_RETRY, event);\n\n            // delayed retry\n            return new Promise(function (resolve, reject) {\n              setTimeout(function () {\n                // reset xhr object\n                _this2.xhr = null;\n\n                // call user callback\n                triggerEvent(_types2.default.RETRY, event);\n\n                // (re)send the request\n                return _this2.send().then(resolve).catch(reject);\n              }, _this2.settings.attemptDelay);\n            });\n          }\n\n          // call user callback\n          triggerEvent(_types2.default.RETRY_LIMIT, event);\n\n          var payload = new Error('Too many attempts (max: ' + _this2.attempts + ').');\n          event = new _request2.default(_types2.default.DOWNLOAD_ERROR, event.event, _this2, payload);\n        }\n\n        return Promise.reject(event);\n      });\n    }\n\n    /**\n    * Abort the this.\n    */\n\n  }, {\n    key: 'abort',\n    value: function abort() {\n      this.aborted = true;\n      this.xhr && this.xhr.abort();\n    }\n  }]);\n\n  return Request;\n}();\n\nexports.default = Request;\nexports.Request = Request;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n* Defaults request settings.\n* @type     {Object<String, Mixed>}\n* @property {String}   [url = '/']               Absolute or relative URL.\n* @property {String}   [method = 'GET']         'GET', 'POST', 'DELETE', ...\n* @property {Mixed}    [data = null]             Data to send with the request.\n* @property {Object}   [headers = {}]            Headers to send with the request.\n* @property {Integer}  [timeout = 5000]          Timeout for this request in milliseconds.\n* @property {Integer}  [maxAttempts = 5]         Maximum number of attemps before rejection.\n* @property {Integer}  [attemptDelay = 5000]     Delay in milliseconds between two attemps.\n* @property {String}   [mimeType = 'text/plain'] Expected response mime type.\n* @property {Object}   [on = {}]                 Collection of function that takes as single parameter an {@link RequestEvent} instance.\n*                                                Ex.: `{ 'download.load': event => { }, 'upload.progress': event => { } }`\n*                                                See {@link src/request/event/types.js} for possible values.\n* @property {Object}   [filters = {}]            Collection of filter functions.\n* @property {Function} [filters.status]          A function that takes as single parameter the request status code and return an boolean to resolve/reject the request.\n* @property {Function} [filters.response]        A function that takes as single parameter the request response and return a new version or throw an {@link Error} to reject the {@link Promise}.\n*/\nvar requestSettings = {\n  url: '/',\n  method: 'GET',\n  data: null,\n  headers: {},\n  timeout: 1000,\n  maxAttempts: 5,\n  attemptDelay: 0,\n  mimeType: 'text/plain',\n  filters: {},\n  on: {}\n};\n\nexports.default = requestSettings;\nexports.requestSettings = requestSettings;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports) {\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(68)))\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(7);\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// smoothie-happy.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 69);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8911e4ba6ddfaa61237b","/**\n* Return normalized path `sd/My///File.ext/   ` => `/sd/my/file.ext`.\n*\n* @param  {String} path\n* @return {String}\n*/\nexport function normalizePath(path) {\n  return '/' + path.trim()\n  .replace(/\\/+/, '/')\n  .replace(/^\\/|\\/$/, '')\n  .toLowerCase()\n}\n\n/**\n* Return filename from path.\n*\n* @param  {String} path\n* @return {String}\n*/\nexport function filename(path) {\n  return path.split('/').pop()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/util.js","/**\n* Board topics.\n*\n* @type {Object<String, String>}\n*/\nconst boardTopics = {\n  INFO_UPDATE    : 'info.update',     // payload: {BoardInfo}\n  FILETREE_UPDATE: 'filetree.update', // payload: {BoardFileList}\n\n  STATE_ALARM: 'state.alarm', // payload: {null}\n  STATE_CLEAR: 'state.clear', // payload: {null}\n  STATE_MRI  : 'state.mri',   // payload: {null}\n\n  COMMAND_QUEUE_ADD   : 'command.queue.add'   , // payload: {BoardCommand}\n  COMMAND_QUEUE_SEND  : 'command.queue.send'  , // payload: {BoardCommand}\n  COMMAND_QUEUE_EMPTY : 'command.queue.empty' , // payload: {null}\n  COMMAND_QUEUE_PAUSE : 'command.queue.pause' , // payload: {Board.commandQueue}\n  COMMAND_QUEUE_RESUME: 'command.queue.resume', // payload: {Board.commandQueue}\n  COMMAND_QUEUE_CLEAR : 'command.queue.clear' , // payload: {Board.commandQueue}\n\n  COMMAND_CREATE  : 'command.create',   // payload: {BoardCommand}\n  COMMAND_SEND    : 'command.send',     // payload: {BoardCommand}\n  COMMAND_ERROR   : 'command.error',    // payload: {RequestEvent}\n  COMMAND_RESPONSE: 'command.response', // payload: {RequestEvent}\n\n  // COMMAND_XXX payload: {RequestEvent}\n  COMMAND_RETRY       : 'command.retry',       // on retry planned\n  COMMAND_RETRY_SEND  : 'command.retry.send',  // juste before retry\n  COMMAND_RETRY_LIMIT : 'command.retry.limit', // on too many attemps\n\n  COMMAND_DOWNLOAD_LOAD    : 'command.download.load',\n  COMMAND_DOWNLOAD_ABORT   : 'command.download.abort',\n  COMMAND_DOWNLOAD_ERROR   : 'command.download.error',\n  COMMAND_DOWNLOAD_TIMEOUT : 'command.download.timeout',\n  COMMAND_DOWNLOAD_PROGRESS: 'command.download.progress',\n\n  COMMAND_UPLOAD_LOAD    : 'command.upload.load',\n  COMMAND_UPLOAD_ABORT   : 'command.upload.abort',\n  COMMAND_UPLOAD_ERROR   : 'command.upload.error',\n  COMMAND_UPLOAD_TIMEOUT : 'command.upload.timeout',\n  COMMAND_UPLOAD_PROGRESS: 'command.upload.progress',\n\n  // REQUEST_XXX payload: {RequestEvent}\n  REQUEST_RETRY       : 'request.retry',       // on retry planned\n  REQUEST_RETRY_SEND  : 'request.retry.send',  // juste before retry\n  REQUEST_RETRY_LIMIT : 'request.retry.limit', // on too many attemps\n\n  REQUEST_DOWNLOAD_LOAD    : 'request.download.load',\n  REQUEST_DOWNLOAD_ABORT   : 'request.download.abort',\n  REQUEST_DOWNLOAD_ERROR   : 'request.download.error',\n  REQUEST_DOWNLOAD_TIMEOUT : 'request.download.timeout',\n  REQUEST_DOWNLOAD_PROGRESS: 'request.download.progress',\n\n  REQUEST_UPLOAD_LOAD    : 'request.upload.load',\n  REQUEST_UPLOAD_ABORT   : 'request.upload.abort',\n  REQUEST_UPLOAD_ERROR   : 'request.upload.error',\n  REQUEST_UPLOAD_TIMEOUT : 'request.upload.timeout',\n  REQUEST_UPLOAD_PROGRESS: 'request.upload.progress'\n}\n\nexport default boardTopics\nexport { boardTopics }\n\n\n\n// WEBPACK FOOTER //\n// ./board/topics/index.js","/**\n* Request event types.\n*\n* @type {Object<String, String>}\n*/\nconst requestEventTypes = {\n  RETRY       : 'retry',       // on retry planned\n  RETRY_SEND  : 'retry.send',  // juste before retry\n  RETRY_LIMIT : 'retry.limit', // on too many attemps\n\n  DOWNLOAD_LOAD    : 'download.load',\n  DOWNLOAD_ABORT   : 'download.abort',\n  DOWNLOAD_ERROR   : 'download.error',\n  DOWNLOAD_TIMEOUT : 'download.timeout',\n  DOWNLOAD_PROGRESS: 'download.progress',\n\n  UPLOAD_LOAD    : 'upload.load',\n  UPLOAD_ABORT   : 'upload.abort',\n  UPLOAD_ERROR   : 'upload.error',\n  UPLOAD_TIMEOUT : 'upload.timeout',\n  UPLOAD_PROGRESS: 'upload.progress'\n}\n\nexport default requestEventTypes\nexport { requestEventTypes }\n\n\n\n// WEBPACK FOOTER //\n// ./request/event/types.js","import { normalizePath } from '../util'\n\n// -----------------------------------------------------------------------------\n// List of commands (12/2016)\n// http://smoothieware.org/console-commands\n// https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp\n// -----------------------------------------------------------------------------\n// # DONE\n// - TODO\n// -----------------------------------------------------------------------------\n// # abort\n// # break\n// # calc_thermistor\n// # cat\n// # cd\n// # config-load\n// # config-get\n// # config-set\n// # dfu\n// # fire\n// # get\n// # help\n// # load\n// # ls\n// # md5sum\n// # mem\n// # mv\n// # mkdir\n// # net\n// # ok\n// # play\n// # progress\n// # pwd\n// # remount\n// # reset\n// # resume\n// # rm\n// # save\n// # set_temp\n// # suspend\n// # switch\n// # test\n// # thermistors\n// - upload (<- not handled by BoardCommand)\n// # version\n//\n// # M999\n// -----------------------------------------------------------------------------\n\nexport { cmd_abort } from './abort'\nexport { cmd_break } from './break'\nexport { cmd_calc_thermistor } from './calc_thermistor'\nexport { cmd_cat } from './cat'\nexport { cmd_cd } from './cd'\nexport { cmd_config_load } from './config_load'\nexport { cmd_config_get } from './config_get'\nexport { cmd_config_set } from './config_set'\nexport { cmd_dfu } from './dfu'\nexport { cmd_fire } from './fire'\nexport { cmd_get } from './get'\nexport { cmd_help } from './help'\nexport { cmd_load } from './load'\nexport { cmd_ls } from './ls'\nexport { cmd_md5sum } from './md5sum'\nexport { cmd_mem } from './mem'\nexport { cmd_mv } from './mv'\nexport { cmd_mkdir } from './mkdir'\nexport { cmd_net } from './net'\nexport { cmd_ok } from './ok'\nexport { cmd_play } from './play'\nexport { cmd_progress } from './progress'\nexport { cmd_pwd } from './pwd'\nexport { cmd_remount } from './remount'\nexport { cmd_reset } from './reset'\nexport { cmd_resume } from './resume'\nexport { cmd_rm } from './rm'\nexport { cmd_save } from './save'\nexport { cmd_set_temp } from './set_temp'\nexport { cmd_suspend } from './suspend'\nexport { cmd_switch } from './switch'\nexport { cmd_test } from './test'\nexport { cmd_thermistors } from './thermistors'\nexport { cmd_version } from './version'\n\nexport { cmd_M999 } from './M999'\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/index.js","import Request from '../request'\n\n/**\n* Board request.\n* @extends {Request}\n*/\nclass BoardRequest extends Request {\n  /**\n  * @param {Board}  board    Board instance.\n  * @param {Object} settings See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  */\n  constructor(board, settings = {}) {\n    // call parent constructor\n    super(Object.assign({}, board.settings.request, settings, {\n      url: 'http://' + board.address + '/' + settings.url\n    }))\n\n    /**\n    * Board instance.\n    * @type {String}\n    * @protected\n    */\n    this.board = board\n  }\n}\n\n// Exports\nexport default BoardRequest\nexport { BoardRequest }\n\n\n\n// WEBPACK FOOTER //\n// ./board/request.js","import Request from './request'\nimport requestEventTypes from './event/types'\n\nexport default Request\nexport { Request, requestEventTypes }\n\n\n\n// WEBPACK FOOTER //\n// ./request/index.js","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uuid/v4.js\n// module id = 6\n// module chunks = 0","/**\n* API version\n* @type {String}\n*/\nexport const VERSION = '2.0.0'\n\n// public interface\nimport * as request from './request'\nimport * as board from './board'\n\nexport { request, board }\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import uuid from 'uuid/v4'\nimport boardSettings from './settings'\nimport BoardRequest from './request'\nimport requestEventTypes from '../request/event/types'\nimport BoardCommand from './command'\nimport boardTopics from './topics'\nimport BoardInfo from './info'\nimport BoardFileTree from './filetree'\nimport { normalizePath } from './util'\n\n/**\n* Board class.\n*/\nclass Board {\n  /**\n  * @param {Object} settings See {@link src/board/settings.js~boardSettings} for defaults keys/values.\n  */\n  constructor(settings = {}) {\n    /**\n    * Board settings, see {@link src/board/settings.js~boardSettings} for defaults keys/values.\n    * @type {Object}\n    * @protected\n    */\n    this.settings = Object.assign({}, boardSettings, settings)\n\n    if (! this.settings.address || typeof this.settings.address !== 'string') {\n      throw new Error('An address must be specified.')\n    }\n\n    /**\n    * Board address.\n    * @type {String}\n    * @protected\n    */\n    this.address = this.settings.address.trim()\n\n    if (this.address.startsWith('http://')) {\n      this.address = this.address.replace('http://')\n    }\n\n    if (this.address.endsWith('/')) {\n      this.address = this.address.replace(/\\/+$/g, '')\n    }\n\n    /**\n    * Unique identifier (uuid/v4).\n    * @type {String}\n    * @protected\n    */\n    this.uuid = uuid()\n\n    /**\n    * Board info parsed from version command.\n    * ```\n    * {\n    *   branch: \"edge\",\n    *   hash  : \"9ab4538\",\n    *   date  : \"Oct 10 2016 04:09:42\",\n    *   mcu   : \"LPC1769\",\n    *   clock : \"120MHz\"\n    * }\n    * ```\n    * @type {BoardInfo|null}\n    * @default null\n    * @protected\n    */\n    this.info = null\n\n    /**\n    * Flat files tree.\n    * @type {BoardFileTree}\n    * @protected\n    */\n    this.fileTree = new BoardFileTree()\n\n    /**\n    * Topic subscriptions.\n    * @type {Map}\n    * @protected\n    */\n    this.subscriptions = new Map()\n\n    /**\n    * Command queue.\n    * @type {Array}\n    * @protected\n    */\n    this.commandQueue = []\n\n    /**\n    * Command queue locked ?.\n    * @type {Boolean}\n    * @protected\n    */\n    this.commandQueueLocked = false\n\n    /**\n    * Command queue in pause ?.\n    * @type {Boolean}\n    * @protected\n    */\n    this.commandQueuePaused = false\n\n    /**\n    * Pending command (from command queue).\n    * @type {BoardCommand|null}\n    * @protected\n    */\n    this.pendingCommand = null\n\n    /**\n    * Is system halted ?\n    * @type {Boolean}\n    * @protected\n    */\n    this.alarm = false\n\n    /**\n    * Is system in MRI debug mode ?\n    * @type {Boolean}\n    * @protected\n    */\n    this.MRIMode = false\n  }\n\n  /**\n  * @typedef  {Object} BoardMessage\n  * @property {Board}  board   Board instance.\n  * @property {String} topic   Topic name, see {@link src/board/topics/index.js} for the topics list.\n  * @property {Mixed}  payload Message payload.\n  */\n\n  /**\n  * Publish message to topic, see {@link src/board/topics/index.js} for the topics list.\n  *\n  * @param  {String} topic See {@link src/board/topics/index.js} for possible values.\n  * @param  {Mixed}  [payload = null]\n  * @see {@link Board#subscribe}\n  * @see {@link Board#unsubscribe}\n  * @see {@link Board#deleteTopic}\n  */\n  publish(topic, payload = null) {\n    // fix topic case\n    topic = topic.trim().toLowerCase()\n\n    // if topic found\n    if (this.subscriptions.has(topic)) {\n      // message payload\n      let message = { board: this, topic, payload }\n\n      // call each registrered callback\n      this.subscriptions.get(topic).forEach(subscription => {\n        subscription.callback.call(subscription.context, message)\n      })\n    }\n  }\n\n  /**\n  * @typedef  {Object} BoardSubscription\n  * @property {String}        uuid     Unique identifier (uuid/v4).\n  * @property {Function}      callback A function that takes as single parameter an {@link BoardMessage} object.\n  * @property {Function|null} context  Callback context to apply on call.\n  */\n\n  /**\n  * Subscribe to topic, see {@link src/board/topics/index.js} for the topics list.\n  *\n  * @param  {String}      topic          Topic name, see {@link src/board/topics/index.js} for the topics list.\n  * @param  {Function}    callback       A function that takes as single parameter an {@link BoardMessage} object.\n  * @param  {Object|null} [context=null] Callback context to apply on call.\n  * @return {BoardSubscription}\n  * @see {@link Board#publish}\n  * @see {@link Board#unsubscribe}\n  * @see {@link Board#deleteTopic}\n  */\n  subscribe(topic, callback, context = null) {\n    // fix topic case\n    topic = topic.trim().toLowerCase()\n\n    // if first subscription, create new topic\n    if (! this.subscriptions.has(topic)) {\n      this.subscriptions.set(topic, new Map())\n    }\n\n    // fix callback context\n    context = context || callback\n\n    // create new subscription\n    let subscription = { uuid: uuid(), callback, context }\n\n    // register new subscription\n    this.subscriptions.get(topic).set(subscription.uuid, subscription)\n\n    // return the subscription\n    return subscription\n  }\n\n  /**\n  * Unsubscribe from topic.\n  *\n  * @param  {BoardSubscription|String|Array} uuid Subscription, subscription uuid or callback function.\n  * @return {Integer} Number of callback removed.\n  * @see {@link Board#publish}\n  * @see {@link Board#subscribe}\n  * @see {@link Board#deleteTopic}\n  */\n  unsubscribe(uuid) {\n    let removed = 0\n\n    // unsubscribe an array of uuid or function\n    if (Array.isArray(uuid)) {\n      uuid.forEach(id => {\n        removed += this.unsubscribe(id)\n      })\n\n      return removed\n    }\n\n    // unsubscribe from function\n    if (typeof uuid === 'function') {\n      for (let subscriptions of this.subscriptions.values()) {\n        subscriptions.forEach(subscription => {\n          if (subscription.callback === uuid) {\n            removed += this.unsubscribe(subscription.uuid)\n          }\n        })\n      }\n\n      return removed\n    }\n\n    // unsubscribe from uuid string\n    for (let topic of this.subscriptions.keys()) {\n      if (this.subscriptions.get(topic).has(uuid)) {\n        removed += this.subscriptions.get(topic).delete(uuid)\n\n        if (this.subscriptions.get(topic).size === 0) {\n          this.deleteTopic(topic)\n        }\n\n        return removed\n      }\n    }\n\n    return removed\n  }\n\n  /**\n  * Delete entire topic.\n  *\n  * @param  {String} topic Topic name, see {@link src/board/topics/index.js} for the topics list.\n  * @return {Boolean} False if not found.\n  * @see {@link Board#publish}\n  * @see {@link Board#subscribe}\n  * @see {@link Board#unsubscribe}\n  */\n  deleteTopic(topic) {\n    if (this.subscriptions.get(topic)) {\n      return this.subscriptions.delete(topic)\n    }\n\n    return false\n  }\n\n  /**\n  * Create an request.\n  *\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardRequest} for more details).\n  * @return {BoardRequest}\n  */\n  createRequest(settings = {}) {\n    return new BoardRequest(this, settings)\n  }\n\n  /**\n  * Send an request to the board (GET by default).\n  *\n  * ```\n  * var board = new Board({ address: '192.168.1.102' });\n  *\n  * board.sendRequest({ url: 'sd/config' })\n  * .then(function(event) {\n  *   console.info('then:', event);\n  * })\n  * .catch(function(event) {\n  *   console.error('catch:', event);\n  * });\n  * ```\n  *\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardRequest} for more details).\n  * @return {Promise<RequestEvent>}\n  */\n  sendRequest(settings = {}) {\n    return this.createRequest(settings).send()\n  }\n\n  /**\n  * Create an command.\n  *\n  * @param  {String} command         Command line.\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n  * @return {BoardCommand}\n  */\n  createCommand(command, settings = {}) {\n    // wrap request events\n    settings.on = settings.on || {}\n\n    for (let key in requestEventTypes) {\n      let topic    = requestEventTypes[key]\n      let callback = settings.on[topic]\n\n      settings.on[topic] = event => {\n        this.publish('command.' + topic, event)\n        callback && callback(event)\n      }\n    }\n\n    let boardCommand = new BoardCommand(this, command, settings)\n    this.publish(boardTopics.COMMAND_CREATE, boardCommand)\n    return boardCommand\n  }\n\n  /**\n  * Send an command to the board.\n  *\n  * @param  {String} boardCommand\n  * @return {Promise<RequestEvent>}\n  */\n  _sendCommand(boardCommand) {\n    this.publish(boardTopics.COMMAND_SEND, boardCommand)\n\n    return boardCommand.send()\n    .then(event => {\n      this.publish(boardTopics.COMMAND_RESPONSE, event)\n      return Promise.resolve(event)\n    })\n    .catch(event => {\n      this.publish(boardTopics.COMMAND_ERROR, event)\n      return Promise.reject(event)\n    })\n  }\n\n  /**\n  * Create and send an command to the board.\n  *\n  * ```\n  * var board = new Board({ address: '192.168.1.102' });\n  *\n  * board.sendCommand('ls -s sd/')\n  * .then(function(event) {\n  *   console.info('then:', event);\n  *   console.info('data:', event.payload.data);\n  * })\n  * .catch(function(event) {\n  *   console.error('catch:', event);\n  * });\n  * ```\n  *\n  * @param  {String} command         Command line.\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n  * @return {Promise<RequestEvent>}\n  * @see {@link Board#addCommand}\n  * @see {@link Board#pushCommand}\n  */\n  sendCommand(command, settings = {}) {\n    return this._sendCommand(this.createCommand(command, settings))\n  }\n\n  /**\n  * Create and add the command in command queue.\n  *\n  * @param  {String} command         Command line.\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n  * @return {BoardCommand}\n  * @see {@link Board#sendCommand}\n  * @see {@link Board#pushCommand}\n  */\n  addCommand(command, settings = {}) {\n    let boardCommand = this.createCommand(command, settings)\n    this.publish(boardTopics.COMMAND_QUEUE_ADD, boardCommand)\n    this.commandQueue.push(boardCommand)\n    return boardCommand\n  }\n\n  /**\n  * Create and add the command in command queue,\n  * then process the command queue if not in pause or locked.\n  *\n  * @param  {String} command         Command line.\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n  * @return {BoardCommand}\n  * @see {@link Board#sendCommand}\n  * @see {@link Board#addCommand}\n  */\n  pushCommand(command, settings = {}) {\n    let boardCommand = this.addCommand(command, settings)\n    this.processCommandQueue()\n    return boardCommand\n  }\n\n  /**\n  * Process command queue.\n  * @see {@link Board#pauseCommandQueue}\n  * @see {@link Board#stopCommandQueue}\n  * @see {@link Board#resumeCommandQueue}\n  * @see {@link Board#clearCommandQueue}\n  */\n  processCommandQueue() {\n    // command queue locked or empty ?\n    if (this.commandQueueLocked\n    || this.commandQueuePaused\n    || ! this.commandQueue.length) {\n      return\n    }\n\n    // lock the command queue\n    this.commandQueueLocked = true\n\n    // get the older command\n    this.pendingCommand = this.commandQueue.shift()\n\n    // end of queue\n    if (! this.pendingCommand) {\n      this.publish(boardTopics.COMMAND_QUEUE_EMPTY)\n      return\n    }\n\n    this.publish(boardTopics.COMMAND_QUEUE_SEND, this.pendingCommand)\n\n    this._sendCommand(this.pendingCommand)\n    .then(event => event)\n    .catch(event => event)\n    .then(event => {\n      // reset pending command\n      this.pendingCommand = null\n\n      // unlock the command queue\n      this.commandQueueLocked = false\n\n      // process next command in queue\n      this.processCommandQueue()\n    })\n  }\n\n  /**\n  * Pause command queue but let the pending command terminate.\n  * @see {@link Board#processCommandQueue}\n  * @see {@link Board#stopCommandQueue}\n  * @see {@link Board#resumeCommandQueue}\n  * @see {@link Board#clearCommandQueue}\n  */\n  pauseCommandQueue() {\n    this.commandQueuePaused = true\n    this.publish(boardTopics.COMMAND_QUEUE_PAUSE, this.commandQueue)\n  }\n\n  /**\n  * Abort the pending command.\n  */\n  abortPendingCommand() {\n    if (this.pendingCommand) {\n      this.pendingCommand.abort()\n      this.pendingCommand = null\n    }\n  }\n\n  /**\n  * Pause command queue and abort the pending command.\n  * @see {@link Board#processCommandQueue}\n  * @see {@link Board#pauseCommandQueue}\n  * @see {@link Board#resumeCommandQueue}\n  * @see {@link Board#clearCommandQueue}\n  */\n  stopCommandQueue() {\n    this.abortPendingCommand()\n    this.pauseCommandQueue()\n  }\n\n  /**\n  * Resume command queue.\n  * @see {@link Board#processCommandQueue}\n  * @see {@link Board#pauseCommandQueue}\n  * @see {@link Board#stopCommandQueue}\n  * @see {@link Board#clearCommandQueue}\n  */\n  resumeCommandQueue() {\n    this.commandQueuePaused = false\n    this.publish(boardTopics.COMMAND_QUEUE_RESUME, this.commandQueue)\n    this.processCommandQueue()\n  }\n\n  /**\n  * Clear command queue and abort the pending command.\n  * @see {@link Board#processCommandQueue}\n  * @see {@link Board#pauseCommandQueue}\n  * @see {@link Board#stopCommandQueue}\n  * @see {@link Board#resumeCommandQueue}\n  */\n  clearCommandQueue() {\n    this.abortPendingCommand()\n    this.publish(boardTopics.COMMAND_QUEUE_CLEAR, this.commandQueue)\n\n    this.commandQueueLocked = false\n    this.commandQueuePaused = false\n    this.commandQueue       = []\n  }\n\n  /**\n  * Get the board informations.\n  *\n  * @param  {Boolean} [refresh = false]\n  * @return {Promise<BoardInfo|RequestEvent|Error>}\n  */\n  getInfo(refresh = false) {\n    return new Promise((resolve, reject) => {\n      if (! refresh && this.info) {\n        resolve(this.info)\n      }\n\n      return this.sendCommand('version').then(event => {\n        if (event.payload.data instanceof Error) {\n          reject(event.payload.data)\n        }\n\n        this.info = new BoardInfo(event.payload.data)\n        this.publish(boardTopics.INFO_UPDATE, this.info)\n        resolve(this.info)\n      })\n      .catch(reject)\n    })\n  }\n\n  /** @typedef {Map<String, BoardFolder|BoardFile>} BoardFileList */\n\n  /**\n  * Return a flat file tree for the given path.\n  *\n  * @param  {String}  [path    = '/']    Path to list file from.\n  * @param  {Boolean} [refresh = false]  Force refresh (no cache).\n  * @param  {Boolean} [firstCall = true] Used internaly for recursion.\n  * @return {Promise<BoardFileList|RequestEvent|Error>}\n  */\n  listFiles(path = '/', refresh = false, firstCall = true) {\n    // from cache\n    path = normalizePath(path)\n\n    let tree = path === '/' ? this.fileTree : this.fileTree.list(path)\n\n    if (tree.size && ! refresh) {\n      return Promise.resolve(tree)\n    }\n\n    // try to get the directory contents\n    return this.sendCommand('ls -s ' + path).then(event => {\n      // recursion...\n      let promises = []\n\n      if (event.payload.data instanceof Error) {\n        return Promise.reject(event.payload.data)\n      }\n\n      // children collection (file or directory)\n      event.payload.data.forEach(child => {\n        // set new child\n        this.fileTree.set(child)\n\n        // get sub-directory contents\n        if (child.type === 'folder') {\n          promises.push(this.listFiles(child.path, true, false))\n        }\n      })\n\n      // wait for all promises done\n      return Promise.all(promises).then(results => {\n        let tree = this.fileTree.list(path)\n\n        if (firstCall) {\n          this.publish(boardTopics.FILETREE_UPDATE, tree)\n        }\n\n        return Promise.resolve(tree)\n      })\n    })\n  }\n\n  /**\n  * Clear state (M999).\n  *\n  * @return {Promise<RequestEvent>}\n  */\n  clearState() {\n    return this.sendCommand('M999').then(event => {\n      this.alarm = false\n      return Promise.resolve(event)\n    })\n  }\n}\n\n// Exports\nexport default Board\nexport { Board }\n\n\n\n// WEBPACK FOOTER //\n// ./board/board.js","import BoardRequest from './request'\nimport * as boardCommands from './commands'\nimport boardTopics from './topics'\n\n/**\n* Board request.\n* @extends {BoardRequest}\n*/\nclass BoardCommand extends BoardRequest {\n  /**\n  * @param {Board}  board       Board instance.\n  * @param {Board}  commandLine Command line, see {@link src/board/commands/index.js} for a list of implemented commands.\n  * @param {Object} settings    See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  * @param {Object} [settings.parseResponse = true] See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  */\n  constructor(board, commandLine, settings = {}) {\n    // Normalize and split the command line\n    commandLine = commandLine.trim().replace(/ +/g, ' ')\n\n    let commandArgs = commandLine.split(' ')\n    let commandName = commandArgs.shift().toLowerCase()\n\n    // parse response by default\n    if (settings.parseResponse === undefined) {\n      settings.parseResponse = true\n    }\n\n    // response...\n    let response = r => {\n      let raw = r.trim()\n\n      if (raw.startsWith('error:Unsupported command')) {\n        throw new Error('Unsupported command \"' + commandName + '\".')\n      }\n\n      // alarm/error ?\n      let test = raw.slice(0, 30).toLowerCase()\n\n      // ! fire return empty string if laser module not enabled, even if state is not in alarm mode... !\n      if (! raw.length && ['fire', 'play', 'progress', 'abort', 'suspend', 'resume'].includes(commandName)) {\n        test = '!!'\n      }\n\n      if (test === '!!' || test.startsWith('alarm')) {\n        if (! board.alarm) {\n          board.alarm = true\n          board.publish(boardTopics.STATE_ALARM)\n        }\n\n        throw new Error('Alarm! System probably halted.')\n      }\n\n      if (commandName === 'M999') {\n        board.publish(boardTopics.STATE_CLEAR, test !== 'ok')\n      }\n\n      // response parser\n      let parserName = commandName\n\n      if (parserName.startsWith('config-')) {\n        parserName = 'config_' + parserName.slice(7)\n      }\n\n      let responseParser = boardCommands['cmd_' + parserName]\n\n      if (! responseParser && settings.parseResponse) {\n        throw new Error('Sorry! The \"' + commandName + '\" command is not (yet) implemented.')\n      }\n\n      // return (parsed) response\n      let args = [].concat(commandArgs) // make a copy\n\n      return settings.parseResponse ? responseParser(r, args) : r\n    }\n\n    // call parent constructor\n    super(board, Object.assign({}, board.settings.request, settings, {\n      data   : commandLine + '\\n',\n      url    : 'command',\n      method : 'POST',\n      filters: { response }\n    }))\n\n    /**\n    * Board instance.\n    * @type {Board}\n    * @protected\n    */\n    this.board = board\n\n    /**\n    * Command line.\n    * @type {String}\n    * @protected\n    */\n    this.commandLine = commandLine\n\n    /**\n    * Command name.\n    * @type {String}\n    * @protected\n    */\n    this.commandName = commandName\n\n    /**\n    * Command arguments.\n    * @type {Array}\n    * @protected\n    */\n    this.commandArgs = commandArgs\n  }\n\n  /**\n  * Send the request and return a Promise.\n  *\n  * @return {Promise<RequestEvent>}\n  */\n  send() {\n    if (this.commandName === 'break') {\n      this.board.MRIMode = true\n      this.board.publish(boardTopics.STATE_MRI)\n      // Fix for break command never respond\n      this.settings.timeout     = 5000 // 5 seconds\n      this.settings.maxAttempts = 1\n    }\n\n    return super.send()\n  }\n}\n\n// Exports\nexport default BoardCommand\nexport { BoardCommand }\n\n\n\n// WEBPACK FOOTER //\n// ./board/command.js","/**\n* Clear state.\n*\n* ### on success\n* ```\n* return true if state cleared or false if state not halted\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Boolean|Error}\n*/\nexport function cmd_M999(raw, args) {\n  return raw.trim() !== 'ok'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/M999.js","/**\r\n* Parse `abort` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return 'Aborted! Please turn any heaters off manually.'\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Not currently playing.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {String|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L359\r\n*/\r\nexport function cmd_abort(raw, args) {\r\n  // raw response\r\n  raw = raw.trim()\r\n\r\n  if (raw.startsWith('Not currently playing')) {\r\n    return new Error('Not currently playing.')\r\n  }\r\n\r\n  if (! raw.startsWith('Aborted playing or paused file')) {\r\n    return new Error('Unknown response string.')\r\n  }\r\n\r\n  return 'Aborted! Please turn any heaters off manually.'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/abort.js","/**\n* Parse `break` command response.\n*\n* !!! Smoothie never respond when calling this command.\n*\n* ### on success\n* ```\n* return 'Entering MRI debug mode...'\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L661\n*/\nexport function cmd_break(raw, args) {\n  raw = raw.trim()\n\n  if (raw !== 'Entering MRI debug mode...') {\n    return new Error('Unknown response string.')\n  }\n\n  return raw\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/break.js","/**\n* Calculate the Steinhart Hart coefficients for a thermistor.\n*\n* ### on success\n* ```\n* return {\n*   \"saved\": false, // true if -s param provided, else false\n*   \"target\": null, // termistor num if -s param provided, else null\n*   \"I\"     : 0.000722376862540841,\n*   \"J\"     : 0.000722376862540841,\n*   \"K\"     : 0.000722376862540841\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: calc_thermistor [-s0] T1,R1,T2,R2,T3,R3.'\n* return Error: 'Unknown response string.'\n* return Error: 'Invalid input values.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see http://smoothieware.org/steinharthart\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#878\n*/\nexport function cmd_calc_thermistor(raw, args) {\n  raw = raw.trim()\n\n  if (raw.startsWith('Usage: calc_thermistor')) {\n    return new Error('Usage: calc_thermistor [-s0] T1,R1,T2,R2,T3,R3.')\n  }\n\n  let matches = raw.match(/Steinhart Hart coefficients: *I(.*)J(.*)K(.*)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  matches.shift()\n\n  matches = matches.map(match => parseFloat(match.trim()))\n\n  if (matches.includes(NaN)) {\n    return new Error('Invalid input values.')\n  }\n\n  let saved  = args[0].startsWith('-s')\n  let target = (saved && args[0][2]) || null\n\n  return { saved, target, I: matches[0], J: matches[0], K: matches[0] }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/calc_thermistor.js","import { normalizePath } from '../util'\n\n/**\n* Get file content.\n*\n* ### on success\n* ```\n* return \"Raw file contents as text.\"\n* ```\n* ### on error\n* ```\n* return Error: 'File not found \"xxx\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L331\n*/\nexport function cmd_cat(raw, args) {\n  let source = normalizePath(args[0] || '')\n\n  if (raw.trim().startsWith('File not found')) {\n    return new Error('File not found \"' + source + '\".')\n  }\n\n  return raw\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/cat.js","import { normalizePath } from '../util'\n\n/**\n* Change current folder.\n*\n* ### on success\n* ```\n* return \"ok\"\n* ```\n* ### on error\n* ```\n* return Error: 'Could not open \"xxx\" directory.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L358\n*/\nexport function cmd_cd(raw, args) {\n  let source = normalizePath(args[0] || '')\n\n  if (raw.trim().startsWith('Could not open directory')) {\n    return new Error('Could not open \"' + source + '\" directory.')\n  }\n\n  return 'ok'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/cd.js","/**\n* Parse `config_get` command response.\n*\n* ### on success\n* ```\n* return {\n*   \"source\" : \"sd\", // or cache\n*   \"setting\": \"default_feed_rate\",\n*   \"value\"  : \"4000\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Undefined \"xxx\" setting in \"yyy\".'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L257\n* @see https://github.com/Smoothieware/Smoothieware/blob/08e30d628e00333e274757bb6feac8b5e5541125/src/modules/utils/configurator/Configurator.cpp#L30\n* @see https://github.com/Smoothieware/Smoothieware/blob/08e30d628e00333e274757bb6feac8b5e5541125/src/libs/Config.cpp#L31\n*/\nexport function cmd_config_get(raw, args) {\n  raw = raw.trim()\n\n  let matches = raw.match(/(.*): (.*) is not in config/)\n\n  if (matches) {\n    let source  = matches[1].trim()\n    let setting = matches[2].trim()\n\n    if (source === 'cached') {\n      source = 'cache'\n    }\n\n    return new Error('Undefined \"' + setting + '\" setting in \"' + source + '\".')\n  }\n\n  matches = raw.match(/(.*): (.*) is set to (.*)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  let source = matches[1].trim()\n\n  if (source === 'cached') {\n      source = 'cache'\n    }\n\n  return {\n    source,\n    setting: matches[2].trim(),\n    value  : matches[3].trim()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/config_get.js","/**\n* Parse `config_load` command response.\n*\n* ### on success\n* ```\n* return '...'\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: config-load load|unload|dump|checksum'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L263\n* @see https://github.com/Smoothieware/Smoothieware/blob/08e30d628e00333e274757bb6feac8b5e5541125/src/modules/utils/configurator/Configurator.cpp#L106\n*/\nexport function cmd_config_load(raw, args) {\n  raw = raw.trim()\n\n  if (raw.startsWith('unsupported option:')) {\n    return new Error('Usage: config-load load|unload|dump|checksum')\n  }\n\n  if (raw.startsWith('config cache loaded') || raw.startsWith('config cache unloaded')) {\n    return true\n  }\n\n  let matches = raw.match(/^checksum of (.*) = (.*)/)\n\n  if (matches) {\n    return {\n      setting : matches[1].trim(),\n      checksum: matches[2].trim()\n    }\n  }\n\n  let config = []\n  let lines  = raw.split('\\n')\n\n  lines.forEach(line => {\n    line    = line.trim()\n    matches = line.match(/^([0-9]+) - (.*) : '(.*)' - found: (.*), default: (.*), default-double: (.*), default-int: (.*)/)\n\n    if (! matches) {\n      return new Error('Unknown response string.')\n    }\n\n    config.push({\n      checksum     : matches[2],\n      value        : matches[3],\n      found        : matches[4],\n      default      : matches[5],\n      defaultDouble: matches[6],\n      defaultInt   : matches[7]\n    })\n  })\n\n  if (config.length) {\n    return config\n  }\n\n  return new Error('Unknown response string.')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/config_load.js","/**\n* Parse `config_set` command response.\n*\n* ### on success\n* ```\n* return return {\n*   \"source\" : \"sd\",\n*   \"setting\": \"default_feed_rate\",\n*   \"value\"  : \"4000\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: config-set source setting value.'\n* return Error: 'Undefined source \"xxx\".'\n* return Error: 'Not enough space in \"xxx\" to overwrite \"yyy\" setting.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L260\n* @see https://github.com/Smoothieware/Smoothieware/blob/08e30d628e00333e274757bb6feac8b5e5541125/src/modules/utils/configurator/Configurator.cpp#L68\n*/\nexport function cmd_config_set(raw, args) {\n  raw = raw.trim()\n\n  if (raw.startsWith('Usage: config-set')) {\n    return new Error('Usage: config-set source setting value')\n  }\n\n  let matches = raw.match(/(.*): (.*) has been set to (.*)/)\n\n  if (matches) {\n    return {\n      source : matches[1].trim(),\n      setting: matches[2].trim(),\n      value  : matches[3].trim()\n    }\n  }\n\n  matches = raw.match(/(.*) source does not exist/)\n\n  if (matches) {\n    return new Error('Undefined source \"' + matches[1] + '\".')\n  }\n\n  matches = raw.match(/(.*): (.*) not enough space/)\n\n  if (matches) {\n    return new Error('Not enough space in \"' + matches[1].trim() + '\" to overwrite \"' + matches[2].trim() + '\" setting.')\n  }\n\n  return new Error('Unknown response string.')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/config_set.js","/**\n* Parse `dfu` command response.\n*\n* ### on success\n* ```\n* return 'Entering boot mode...'\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L661\n*/\nexport function cmd_dfu(raw, args) {\n  raw = raw.trim()\n\n  if (raw !== 'Entering boot mode...') {\n    return new Error('Unknown response string.')\n  }\n\n  return raw\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/dfu.js","/**\n* Fire laser.\n*\n* ! fire return empty string if laser module not enabled, even if state is not in alarm mode... !\n* This parser will never called in this case...\n*\n* ### on success\n* ```\n* return \"...\"\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: Usage: fire power|off.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L269\n* @see https://github.com/Smoothieware/Smoothieware/blob/dcf0252ef5d048f22949c07224e10cc8dde341cc/src/modules/tools/laser/Laser.cpp#L134\n*/\nexport function cmd_fire(raw, args) {\n  raw = raw.trim()\n\n  if (raw.startsWith('Usage: fire power')) {\n    return new Error('Usage: fire power|off.')\n  }\n\n  if (raw.startsWith('turning laser off')) {\n    return { fire: false, power: 0 }\n  }\n\n  // WARNING: Firing laser at %1.2f%% power, entering manual mode use fire off to return to auto mode\n  let matches = raw.match(/^WARNING: Firing laser at ([0-9\\.]+)%/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return { fire: true, power: parseInt(matches[1]) }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/fire.js","import { get_temp } from './get_temp'\nimport { get_pos } from './get_pos'\nimport { get_wcs } from './get_wcs'\nimport { get_state } from './get_state'\nimport { get_status } from './get_status'\nimport { get_ik } from './get_ik'\nimport { get_fk } from './get_fk'\n\n/**\n* Get command `temp|pos|wcs|state|status|fk|ik`.\n*\n* - get temp [bed|hotend]\n* - get fk|ik [-m] x[,y,z]\n*\n* ### on success\n* ```\n* return \"...\"\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown option \"xxx\".'\n* return Error: 'Sorry! The \"get xxx\" command is not (yet) implemented.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Mixed|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#741\n*/\nexport function cmd_get(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  // option\n  let option = (args.shift() || '').toLowerCase()\n\n  // file not found\n  if (raw.startsWith('error:unknown option')) {\n    return new Error('Unknown option \"' + option + '\".')\n  }\n\n  let func\n\n  switch (option) {\n    case 'temp':\n      func = get_temp\n      break\n    case 'pos':\n      func = get_pos\n      break\n    case 'wcs':\n      func = get_wcs\n      break\n    case 'state':\n      func = get_state\n      break\n    case 'status':\n      func = get_status\n      break\n    case 'ik':\n      func = get_ik\n      break\n    case 'fk':\n      func = get_fk\n      break\n    default:\n     return new Error('Sorry! The \"get ' + option + '\" command is not (yet) implemented.')\n  }\n\n  return func(raw, args)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get.js","/**\n* Get forward kinematics.\n*\n* ### on success\n* ```\n* return {\n*   \"move\": false,\n*   \"x\"   : 10,\n*   \"y\"   : 10,\n*   \"z\"   : 10\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: get ik [-m] x[,y,z].'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#771\n*/\nexport function get_fk(raw, args) {\n  let move = args.shift() === '-m'\n\n  // error\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: get fk [-m] x[,y,z].')\n  }\n\n  let matches = raw.match(/cartesian= X ([0-9\\.]+), Y ([0-9\\.]+), Z ([0-9\\.]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    move,\n    x: parseFloat(matches[1]),\n    y: parseFloat(matches[2]),\n    z: parseFloat(matches[3])\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_fk.js","/**\n* Get inverse kinematics.\n*\n* ### on success\n* ```\n* return {\n*   \"move\": false,\n*   \"x\"   : 10,\n*   \"y\"   : 10,\n*   \"z\"   : 10\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: get ik [-m] x[,y,z].'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#771\n*/\nexport function get_ik(raw, args) {\n  let move = args.shift() === '-m'\n\n  // error\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: get ik [-m] x[,y,z].')\n  }\n\n  let matches = raw.match(/actuator= X ([0-9\\.]+), Y ([0-9\\.]+), Z ([0-9\\.]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    move,\n    x: parseFloat(matches[1]),\n    y: parseFloat(matches[2]),\n    z: parseFloat(matches[3])\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_ik.js","/**\n* Get position.\n*\n* ### on success\n* ```\n* return {\n*   \"WCS\": {\n*     \"command\"    : \"M114\",\n*     \"description\": \"Position of all axes\",\n*     \"x\"          : 0,\n*     \"y\"          : 0,\n*     \"z\"          : 0\n*   },\n*   \"WPOS\": {\n*     \"command\"    : \"M114.1\",\n*     \"description\": \"Real time position of all axes\"\n*     // , x, y, z\n*   },\n*   \"MPOS\": {\n*     \"command\"    : \"M114.2\",\n*     \"description\": \"Real time machine position of all axes\"\n*     // , x, y, z\n*   },\n*   \"APOS\": {\n*     \"command\"    : \"M114.3\",\n*     \"description\": \"Real time actuator position of all actuators\"\n*     // , x, y, z\n*   },\n*   \"LMS\": {\n*     \"command\"    : \"M114.4\",\n*     \"description\": \"Last milestone\"\n*     // , x, y, z\n*   },\n*   \"LMP\": {\n*     \"command\"    : \"M114.5\",\n*     \"description\": \"Last machine position\"\n*     // , x, y, z\n*   }\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#818\n*/\nexport function get_pos(raw, args) {\n  // last C: X:0.0000 Y:0.0000 Z:0.0000\n  // realtime WPOS: X:0.0000 Y:0.0000 Z:0.0000\n  // MPOS: X:0.0000 Y:0.0000 Z:0.0000\n  // APOS: X:0.0000 Y:0.0000 Z:0.0000\n  // LMS: X:0.0000 Y:0.0000 Z:0.0000\n  // LMP: X:0.0000 Y:0.0000 Z:0.0000\n  // split on new lines\n  let lines = raw.split('\\n')\n  let key, positions = {}\n\n  lines.forEach(line => {\n    let r = parsePositionString(line)\n    positions[r.key] = r.position\n  })\n\n  // split response text on new lines\n  return positions\n}\n\n// Parse position string.\n// WCS : M114   - Last WCS.\n// WPOS: M114.1 - Realtime WCS.\n// MPOS: M114.2 - Realtime machine coordinate system.\n// APOS: M114.3 - Realtime actuator position.\n// LMS : M114.4 - Last milestone.\n// LMP : M114.5 - Last machine position.\nfunction parsePositionString(line) {\n  let parts  = line.split(':')\n  let key    = parts.shift().replace(' ', '_').toUpperCase()\n  let coords = parts.join(':').trim().split(' ')\n\n  let position = {\n    x  : parseFloat(coords[0].substr(2)),\n    y  : parseFloat(coords[1].substr(2)),\n    z  : parseFloat(coords[2].substr(2))\n  }\n\n  if (key === 'LAST_C') {\n    key = 'WCS'\n  }\n  else if (key === 'REALTIME_WPOS') {\n    key = 'WPOS'\n  }\n\n  switch (key) {\n    case 'WCS':\n      position.command     = 'M114'\n      position.description = 'Position of all axes'\n      break\n    case 'WPOS':\n      position.command     = 'M114.1'\n      position.description = 'Real time position of all axes'\n      break\n    case 'MPOS':\n      position.command     = 'M114.2'\n      position.description = 'Real time machine position of all axes'\n      break\n    case 'APOS':\n      position.command     = 'M114.3'\n      position.description = 'Real time actuator position of all actuators'\n      break\n    case 'LMS':\n      position.command     = 'M114.4'\n      position.description = 'Last milestone'\n      break\n    case 'LMP':\n      position.command     = 'M114.5'\n      position.description = 'Last machine position'\n      break\n    default:\n      position.command     = 'M114.?'\n      position.description = 'Unknown type'\n  }\n\n  return { key, position }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_pos.js","/**\n* Get state.\n*\n* ### on success\n* ```\n* return\n* {\n*   \"modal\"          : \"G0\",\n*   \"wcs\"            : \"G54\",\n*   \"plane_selection\": \"G17\",\n*   \"unit\"           : \"G21\",\n*   \"distance_mode\"  : \"G90\",\n*   \"path_control\"   : \"G94\",\n*   \"program_pause\"  : \"M0\",\n*   \"stop_tool\"      : \"M5\",\n*   \"stop_coolant\"   : \"M9\",\n*   \"tool\"           : \"T0\",\n*   \"feed_rate\"      : \"F4000.0000\",\n*   \"s_value\"        : \"S0.8000\",\n*   \"state\"          : [ \"G0\", \"G54\", \"G17\", \"G21\", \"G90\", \"G94\", \"M0\", \"M5\", \"M9\", \"T0\", \"F4000.0000\", \"S0.8000\" ]\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#832\n*/\nexport function get_state(raw, args) {\n  let state = raw.slice(1, -1).split(' ')\n\n  return {\n    modal          : state[0],\n    wcs            : state[1],\n    plane_selection: state[2],\n    unit           : state[3],\n    distance_mode  : state[4],\n    path_control   : state[5],\n    program_pause  : state[6],\n    stop_tool      : state[7],\n    stop_coolant   : state[8],\n    tool           : state[9],\n    feed_rate      : state[10],\n    s_value        : state[11],\n    state          : state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_state.js","/**\n* Get status.\n*\n* ### on success\n* ```\n* return\n* {\n*   \"status\"   : \"idle\", // [idle, alarm, home, hold, run]\n*   \"machine\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"workspace\": { \"x\": 0, \"y\": 0, \"z\": 0 }\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#847\n* @see https://github.com/Smoothieware/Smoothieware/blob/f7d999cff4a33d83b09ce136c122b3b7b2f1c69a/src/libs/Kernel.cpp#L163\n*/\nexport function get_status(raw, args) {\n  let parts = raw.slice(1, -1).toLowerCase().replace(/(w|m)pos:/g, '').split(',')\n\n  return {\n    status: parts[0],\n    machine: {\n      x: parseFloat(parts[1]),\n      y: parseFloat(parts[2]),\n      z: parseFloat(parts[3])\n    },\n    workspace: {\n      x: parseFloat(parts[4]),\n      y: parseFloat(parts[5]),\n      z: parseFloat(parts[6])\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_status.js","/**\n* Get temperature.\n*\n* ### on success\n* ```\n* // get temp\n* return [\n*   {\n*     \"designator\": \"T\",\n*     \"id\": 57988,\n*     \"current\": null, // null means the sensor is not properly connected, or it is damaged in some way.\n*     \"target\": 0,\n*     \"pwm\": 0\n*   },\n*   {\n*     \"designator\": \"B\",\n*     \"id\": 22060,\n*     \"current\": null,\n*     \"target\": 0,\n*     \"pwm\": 0\n*   }\n* ]\n* ```\n* ```\n* // get temp bed\n* return {\n*   \"designator\": \"bed\",\n*   \"current\": null,\n*   \"target\": 0,\n*   \"pwm\": 0\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'No heaters found.'\n* return Error: 'Unknown response string.'\n* return Error: '\"xxx\" is not a known temperature device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#745\n*/\nexport function get_temp(raw, args) {\n  if (raw.startsWith('no heaters found')) {\n    return new Error('No heaters found.')\n  }\n\n  // device [bed|hotend]\n  let device = (args[0] || 'all').toLowerCase()\n\n  if (raw.endsWith('is not a known temperature device')) {\n    return new Error('\"' + device + '\" is not a known temperature device.')\n  }\n\n  let result\n\n  if (device === 'all') {\n    // [T (57988) temp: inf/0.000000 @0]\n    return raw.split('\\n').map(parseTempString)\n  }\n\n  // \"bed temp: inf/0.000000 @0\"\n  let matches = raw.match(/([a-z]+) temp: (inf|[0-9\\.]+)\\/(inf|[0-9\\.]+) @([0-9]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    device : matches[1],\n    current: parseFloat(matches[2]),\n    target : parseFloat(matches[3]),\n    pwm    : parseInt(matches[4]),\n  }\n}\n\nfunction parseTempString(temp) {\n  // T (57988) temp: inf/0.000000 @0\n  let matches = temp.match(/(T|B) \\(([0-9]+)\\) temp: (inf|[0-9\\.]+)\\/(inf|[0-9\\.]+) @([0-9]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    designator: matches[1],\n    id        : parseInt(matches[2]),\n    current   : parseFloat(matches[3]),\n    target    : parseFloat(matches[4]),\n    pwm       : parseInt(matches[5]),\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_temp.js","/**\n* Get wcs state.\n*\n* ### on success\n* ```\n* return {\n*   \"current\": \"G54\",\n*   \"tool\"   : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"prob\"   : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G54\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G55\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G56\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G57\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G58\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.1\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.2\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.3\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G28\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G30\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G92\"    : { \"x\": 0, \"y\": 0, \"z\": 0 }\n*}\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#828\n*/\nexport function get_wcs(raw, args) {\n  // [current WCS: G54]\n  // [G54:0.0000,0.0000,0.0000]\n  // [G55:0.0000,0.0000,0.0000]\n  // [G56:0.0000,0.0000,0.0000]\n  // [G57:0.0000,0.0000,0.0000]\n  // [G58:0.0000,0.0000,0.0000]\n  // [G59:0.0000,0.0000,0.0000]\n  // [G59.1:0.0000,0.0000,0.0000]\n  // [G59.2:0.0000,0.0000,0.0000]\n  // [G59.3:0.0000,0.0000,0.0000]\n  // [G28:0.0000,0.0000,0.0000]\n  // [G30:0.0000,0.0000,0.0000]\n  // [G92:0.0000,0.0000,0.0000]\n  // [Tool Offset:0.0000,0.0000,0.0000]\n  // [PRB:0.0000,0.0000,0.0000:0]\n  let lines = raw.split('\\n')\n\n  // unwrap line ([...])\n  lines = lines.map(line => line.slice(1, -1))\n\n  let wcs = {\n    current: lines.shift().split(': ').pop()\n  }\n\n  lines.forEach(line => {\n    let parts  = line.split(':')\n    let code   = parts.shift().toUpperCase()\n    let coords = parts.shift().split(',')\n\n    if (code === 'TOOL OFFSET') {\n      code = 'tool'\n    }\n    else if (code === 'PRB') {\n      code = 'prob'\n    }\n\n    wcs[code] = {\n      x: parseFloat(coords[0]),\n      y: parseFloat(coords[1]),\n      z: parseFloat(coords[2])\n    }\n  })\n\n  return wcs\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_wcs.js","/**\n* Get command help list.\n*\n* ### on success\n* ```\n* return \"List of command help. One by line.\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#1124\n*/\nexport function cmd_help(raw, args) {\n  return raw.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/help.js","import { normalizePath } from '../util'\n\n/**\n* Parse `load` command response.\n*\n* ### on success\n* ```\n* return {\n*   \"file\"  : \"/sd/config-override\",\n*   \"config\": [\n*     [\n*      \"Steps per unit\",\n*      \"M92 X80.00000 Y80.00000 Z1600.00000\"\n*     ],\n*     [\n*      \"Acceleration mm/sec^2\",\n*      \"M204 S3000.00000\"\n*     ],\n*     [\n*      \"X- Junction Deviation, Z- Z junction deviation, S - Minimum Planner speed mm/sec\",\n*      \"M205 X0.05000 Z-1.00000 S0.00000\"\n*     ],\n*     [\n*      \"Max cartesian feedrates in mm/sec\",\n*      \"M203 X500.00000 Y500.00000 Z5.00000\"\n*     ],\n*     [\n*      \"Max actuator feedrates in mm/sec\",\n*      \"M203.1 X500.00000 Y500.00000 Z5.00000\"\n*     ],\n*     [\n*      \"WCS setting\",\n*      \"G54\"\n*     ],\n*     [\n*      \"Digipot Motor currents\",\n*      \"M907 X1.50000 Y1.50000 Z1.50000 A1.50000\"\n*     ],\n*     [\n*      \"Home offset (mm)\",\n*      \"M206 X0.00 Y0.00 Z0.00\"\n*     ],\n*     [\n*      \"E Steps per mm\",\n*      \"M92 E140.0000 P57988\"\n*     ],\n*     [\n*      \"E Filament diameter\",\n*      \"M200 D0.0000 P57988\"\n*     ],\n*     [\n*      \"E retract length, feedrate\",\n*      \"M207 S3.0000 F2700.0000 Z0.0000 Q6000.0000 P57988\"\n*     ],\n*     [\n*      \"E retract recover length, feedrate\",\n*      \"M208 S0.0000 F480.0000 P57988\"\n*     ],\n*     [\n*      \"E acceleration mm/sec²\",\n*      \"M204 E500.0000 P57988\"\n*     ],\n*     [\n*      \"E max feed rate mm/sec\",\n*      \"M203 E50.0000 P57988\"\n*     ],\n*     [\n*      \"PID settings\",\n*      \"M301 S0 P10.0000 I0.3000 D200.0000 X255.0000 Y255\"\n*     ],\n*     [\n*      \"Max temperature setting\",\n*      \"M143 S0 P300.0000\"\n*     ],\n*     [\n*      \"PID settings\",\n*      \"M301 S1 P10.0000 I0.3000 D200.0000 X255.0000 Y255\"\n*     ],\n*     [\n*      \"Max temperature setting\",\n*      \"M143 S1 P300.0000\"\n*     ]\n*   ]\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'File not found \"xxx\".'\n* return Error: 'Malformed file \"xxx\".'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L512\n*/\nexport function cmd_load(raw, args) {\n  raw = raw.trim()\n\n  let source = normalizePath(args[0] || '')\n\n  if (raw.startsWith('File not found')) {\n    return new Error('File not found \"' + source + '\".')\n  }\n\n  let matches = raw.match(/^Loading config override file: (.*).../)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  let file  = matches[1]\n  let lines = raw.split('\\n').slice(1, -1).map(l => l.trim())\n  let test  = lines.shift()\n\n  if (! test || test !== '; DO NOT EDIT THIS FILE') {\n    return new Error('Malformed file \"' + source + '\".')\n  }\n\n  let config = []\n\n  for (let i = 0; i < lines.length; i += 2) {\n    config.push([ lines[i].slice(1, -1), lines[i + 1] ])\n  }\n\n  return { file, config }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/load.js","import { normalizePath } from '../util'\n\n/**\n* Parse `ls` command response.\n*\n* ### on success\n* - If the `-s` parameter is not provided, the size is set to 0.\n* - The size is also set to 0 on directories.\n* ```\n* return [\n*   {\"extension\":\"\",\"name\":\"project1\",\"path\":\"/sd/project1\",\"parent\":\"/sd\",\"type\":\"folder\",\"size\":0},\n*   {\"extension\":\".cur\",\"name\":\"firmware.cur\",\"path\":\"/sd/firmware.cur\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":368144},\n*   {\"extension\":\"\",\"name\":\"config\",\"path\":\"/sd/config\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":29417},\n*   {\"extension\":\".gcode\",\"name\":\"file1.gcode\",\"path\":\"/sd/file1.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":1914257},\n*   {\"extension\":\".gcode\",\"name\":\"file2.gcode\",\"path\":\"/sd/file2.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":0},\n*   {\"extension\":\".gcode\",\"name\":\"file3.gcode\",\"path\":\"/sd/file3.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":1062811}\n* ]\n* ```\n* ### on error\n* ```\n* return Error: 'Could not open \"xxx\" directory.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Array|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L284\n*/\nexport function cmd_ls(raw, args) {\n  // size flag\n  let size = args[0] === '-s'\n\n  size && args.shift()\n\n  // extract and normalize path\n  let path = normalizePath(args[0] || '')\n\n  // raw response\n  raw = raw.trim()\n\n  // file not found\n  if (raw.startsWith('Could not open directory')) {\n    return new Error('Could not open \"' + path + '\" directory.')\n  }\n\n  // excluded files\n  let excludes = [\"system volume information/\"]\n\n  // split lines\n  let lines = raw.split('\\n')\n  let info  = null\n\n  // empty files list\n  let files = []\n  let file  = null\n  let isDir = false\n\n  let extension\n  let rootPath = path !== '/' ? path : ''\n\n  // for each lines (file)\n  lines.forEach(line => {\n    // remove trailing spaces\n    line = line.trim()\n\n    if (! excludes.includes(line)) {\n      // extract file/directory info (name/size)\n      info = line.trim().match(/^([a-z0-9_\\-\\.]+) ?(\\/| [0-9]+)?$/, 'gi')\n\n      if (! info) {\n        return new Error('Unknown response string.')\n      }\n\n      // is directory ?\n      isDir = info[2] === '/'\n\n      extension = ''\n\n      if (info[1].includes('.')) {\n        extension = '.' + info[1].split('.').pop()\n      }\n\n      // set file info\n      files.push({\n        name: info[1],\n        extension: extension,\n        parent: rootPath.length ? rootPath : '/',\n        path: rootPath + '/' + info[1],\n        type: isDir ? 'folder' : 'file',\n        size: isDir ? 0 : parseInt(info[2] || 0)\n      })\n    }\n  })\n\n  return files\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/ls.js","import { normalizePath } from '../util'\n\n/**\n* Get md5 sum of the given file.\n*\n* ### on success\n* ```\n* return {\n*   \"md5\" : \"335a4ebbaa1bc6b81cc94fd6e7209ec2\",\n*   \"file\": \"/sd/config\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'File \"xxx\" not found.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L358\n*/\nexport function cmd_md5sum(raw, args) {\n  raw = raw.trim()\n\n  let source = normalizePath(args[0] || '')\n\n  if (raw.startsWith('File not found')) {\n    return new Error('File \"' + source + '\" not found.')\n  }\n\n  var parts = raw.split(' ')\n\n  return {\n    md5 : parts[0].trim(),\n    file: parts[1].trim()\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/md5sum.js","/**\n* Get informations about memory usage.\n*\n* ### on success\n* ```\n* return {\n*   \"BLOCK_SIZE\"    : 100\n*   \"UNUSED_HEAP\"   : 8344,\n*   \"USED_HEAP_SIZE\": 18008,\n*   \"FREE\"          : 2572,\n*   \"ALLOCATED\"     : 14348,\n*   \"TOTAL_FREE_RAM\": 10916,\n*   \"AHB0\": {\n*     \"free\"  : 13652,\n*     \"total\" : 15184, // verbose mode only\n*     \"used\"  : 1532,  // verbose mode only\n*     \"chunks\": [      // verbose mode only\n*        {\n*         \"address\": \"0x2007c4b0\",\n*         \"offset\": 0,\n*         \"bytes\": 268,\n*         \"free\": false\n*        }\n*     //, ...\n*     ]\n*   },\n*   \"AHB1\": {\n*     \"free\"  : 10440,\n*     \"total\" : 10440, // verbose mode only\n*     \"used\"  : 0      // verbose mode only\n*     \"chunks\": [...]  // verbose mode only\n*   },\n*   \"CHUNKS\": [ // verbose mode only\n*     {\n*       \"address\": \"0x10000CF8\",\n*       \"bytes\"  : 32,\n*       \"free\"   : false\n*     }\n*     //, ...\n*   ]\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#578\n*/\nexport function cmd_mem(raw, args) {\n  // trim raw response\n  raw = raw.trim()\n\n  // verbose mode\n  let verbose = args[0] === '-v'\n\n  // // Split on new line\n  let lines = raw.split(/[\\r\\n|\\r|\\n]+/gm)\n\n  let memory = {}\n\n  if (verbose) {\n    memory.CHUNKS = []\n  }\n\n  let setValue = line => {\n    let [key, value] = line.split(': ')\n\n    let bytes = parseInt(value.trim().replace(/ bytes$/, ''))\n\n    key = key.trim().replace(/ +/gm, '_').toUpperCase()\n\n    if (key === 'FREE_AHB0') {\n      key = 'AHB0'\n    }\n\n    if (key.startsWith('AHB')) {\n      memory[key] = { free: bytes }\n    }\n    else {\n      memory[key] = bytes\n    }\n  }\n\n  let target = null\n\n  lines.forEach(line => {\n    line = line.trim()\n\n    if (line.startsWith('Allocated') || line.startsWith('Free AHB0')) {\n      line = line.split(', ')\n      setValue(line[1])\n      line = line[0]\n    }\n\n    if (verbose && line.startsWith('Chunk:')) {\n      // [\"Chunk: 7\", \"Address: 0x10001028\", \"Size: 20\", \"\"]\n      let chunk = line.split('  ')\n\n      memory.CHUNKS.push({\n        address: chunk[1].split(': ')[1],\n        bytes  : parseInt(chunk[2].split(': ')[1]),\n        free   : chunk[3] !== undefined\n      })\n    }\n    else if (verbose && line.startsWith('Start:')) {\n      target = memory['AHB' + (target === null ? '0' : '1')]\n      target.chunks = []\n    }\n    else if (verbose && line.startsWith('Chunk at')) {\n      // \"Chunk at 0x2007c8a8 (+1016): used, 516 bytes\"\n      // \"Chunk at 0x2007caac (+1532): free, 13652 bytes\"\n      let chunk = line.match(/^Chunk at ([0-9a-zA-Z]+) \\( *\\+([0-9]+)\\): (free|used), ([0-9]+) bytes$/)\n\n      target.chunks.push({\n        address: chunk[1],\n        offset : parseInt(chunk[2]),\n        bytes  : parseInt(chunk[4]),\n        free   : chunk[3] === 'free'\n      })\n    }\n    else if (verbose && line.startsWith('End:')) {\n      // total 10440b, free: 10440b\n      let end = line.match(/^End: total ([0-9]+)b, free: ([0-9]+)b$/)\n      target.total = parseInt(end[1])\n      target.used  = target.total - target.free\n    }\n    else {\n      setValue(line)\n    }\n  })\n\n  return memory\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/mem.js","import { normalizePath } from '../util'\n\n/**\n* Parse `mkdir` command response.\n*\n* ### on success\n* ```\n* return '/sd/new_directory'\n* ```\n* ### on error\n* ```\n* return Error: 'Could not create directory \"xxx\".'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L349\n*/\nexport function cmd_mkdir(raw, args) {\n  raw = raw.trim()\n\n  let source = normalizePath(args[0] || '')\n\n  if (raw.startsWith('could not create directory')) {\n    return new Error('Could not create directory \"' + source + '\".')\n  }\n\n  if (! raw.startsWith('created directory')) {\n    return new Error('Unknown response string.')\n  }\n\n  return source\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/mkdir.js","import { normalizePath } from '../util'\n\n/**\n* Move a file.\n*\n* ### on success\n* ```\n* return {\n*   source: '/sd/source.gcode',\n*   target: '/sd/target.gcode'\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Could not move \"xxx\" to \"yyy\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L339\n*/\nexport function cmd_mv(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  let source = normalizePath(args[0] || '')\n  let target = normalizePath(args[1] || '')\n\n  // file not found\n  if (raw.startsWith('Could not rename')) {\n    return new Error('Could not move \"' + source + '\" to \"' + target + '\".')\n  }\n\n  return { source, target }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/mv.js","/**\n* Get network config.\n*\n* ### on success\n* ```\n* return {\n*   \"ip\"     : \"192.168.1.102\",\n*   \"gateway\": \"192.168.1.1\",\n*   \"mask\"   : \"255.255.255.0\",\n*   \"mac\"    : \"00:00:00:00:00:00\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#616\n*/\nexport function cmd_net(raw, args) {\n  let matches = raw.trim().match(/IP Addr:([^\\n]+)\\nIP GW:([^\\n]+)\\nIP mask:([^\\n]+)\\nMAC Address:([^\\n]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    ip     : matches[1].trim(),\n    gateway: matches[2].trim(),\n    mask   : matches[3].trim(),\n    mac    : matches[4].trim()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/net.js","/**\n* Parse `ok` command response.\n*\n* ### on success\n* ```\n* return \"ok\"\n* ```\n* ### on error\n* ```\n* return Error: 'ko'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L272\n*/\nexport function cmd_ok(raw, args) {\n  if (raw.trim() === 'ok') {\n    return 'ok'\n  }\n\n  return new Error('ko')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/ok.js","import { normalizePath } from '../util'\r\n\r\n/**\r\n* Parse `play` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return {\r\n*   file: \"/sd/my_file.gcode\",\r\n*   size: 8600 // or null if not computable\r\n* }\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'File \"xxx\" not found.'\r\n* return Error: 'Currently printing, abort print first.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {Object|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L267\r\n*/\r\nexport function cmd_play(raw, args) {\r\n  // raw response\r\n  raw = raw.trim()\r\n\r\n  // file file\r\n  let file = normalizePath(args[0] || '')\r\n\r\n  if (raw.startsWith('File not found')) {\r\n    return new Error('File \"' + file + '\" not found.')\r\n  }\r\n\r\n  if (raw.startsWith('Currently printing')) {\r\n    return new Error('Currently printing, abort print first.')\r\n  }\r\n\r\n  if (! raw.startsWith('Playing')) {\r\n    return new Error('Unknown response string.')\r\n  }\r\n\r\n  let lines = raw.split('\\n')\r\n  let size  = parseInt(lines[1].trim().split(' ').pop())\r\n\r\n  return { file, size }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/play.js","/**\r\n* Parse `progress` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return {\r\n*   \"paused\"   : false,\r\n*   \"file\"     : \"/sd/file.gcode\",\r\n*   \"complete\" : 85, // percent\r\n*   \"elapsed\"  : \"00:13:43\",\r\n*   \"estimated\": \"00:02:14\" // undefined if elapsed <= 10 seconds\r\n* }\r\n*\r\n* // or if paused\r\n* return {\r\n*   \"paused\": true,\r\n*   \"played\": 150,\r\n*   \"total\" : 380\r\n* }\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Not currently playing.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {Object|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L315\r\n*/\r\nexport function cmd_progress(raw, args) {\r\n  // raw response\r\n  raw = raw.trim()\r\n\r\n  if (raw.startsWith('Not currently playing')) {\r\n    return new Error('Not currently playing.')\r\n  }\r\n\r\n  if (raw.startsWith('SD print is paused at')) {\r\n    let matches = raw.match(/SD print is paused at ([0-9]+)\\/([0-9]+)/)\r\n\r\n    if (! matches) {\r\n      return new Error('Unknown response string.')\r\n    }\r\n\r\n    return {\r\n      paused: true,\r\n      played: parseInt(matches[1]),\r\n      total : parseInt(matches[2])\r\n    }\r\n  }\r\n\r\n  // file: /sd/skate.gcode, 27 % complete, elapsed time: 7 s\r\n  // file: /sd/skate.gcode, 27 % complete, elapsed time: 13 s, est time: 33 s\r\n\r\n  // Since -> https://github.com/Smoothieware/Smoothieware/commit/7f7d84293841e659d436b8f833e90d6f8cbdf281\r\n  // file: /sd/tag.gcode, 6 % complete, elapsed time: 00:01:42, est time: 00:25:23\r\n  let matches = raw.match(/file: ([^,]+), ([0-9]+) % complete, elapsed time: ([0-9\\:]+)(?: s)?(?:, est time: ([0-9\\:]+)( s)?)?/)\r\n\r\n  if (! matches) {\r\n    return new Error('Unknown response string.')\r\n  }\r\n\r\n  // https://github.com/Smoothieware/Smoothieware/commit/7f7d84293841e659d436b8f833e90d6f8cbdf281\r\n  let elapsed   = matches[3]\r\n  let estimated = matches[4]\r\n\r\n  if (matches[5]) {\r\n    elapsed   = timeFormat(elapsed)\r\n    estimated = timeFormat(estimated)\r\n  }\r\n\r\n  return {\r\n    paused   : false,\r\n    file     : matches[1],\r\n    complete : parseInt(matches[2]),\r\n    elapsed,\r\n    estimated\r\n  }\r\n}\r\n\r\n// seconds -> 00:00:00\r\nfunction timeFormat(time) {\r\n  time = parseInt(time)\r\n  return [time / 3600, (time % 3600) / 60, time % 60].join(':')\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/progress.js","/**\n* Get current working directory.\n*\n* ### on success\n* ```\n* return \"/sd/folder\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L373\n*/\nexport function cmd_pwd(raw, args) {\n  return raw.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/pwd.js","/**\n* Remount SD card.\n*\n* ### on success\n* ```\n* return \"remounted\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#324\n*/\nexport function cmd_remount(raw, args) {\n  return raw.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/remount.js","/**\n* Reset the board.\n*\n* ### on success\n* ```\n* return \"Smoothie out. Peace. Rebooting in 5 seconds...\\r\\n\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L647\n*/\nexport function cmd_reset(raw, args) {\n  return raw.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/reset.js","/**\n* Parse `resume` command response.\n*\n* ### on success\n* ```\n* return [\n*   \"Restoring saved XYZ positions and state...\",\n*   \"Resuming print\",\n*   ...\n* ]\n* ```\n* ### on error\n* ```\n* return Error: 'Not suspended.'\n* return Error: 'Resume aborted by kill.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L594\n*/\nexport function cmd_resume(raw, args) {\n  raw = raw.trim()\n\n  if (raw.startsWith('Not suspended')) {\n    return new Error('Not suspended.')\n  }\n\n  if (! raw.startsWith('resuming print...')) {\n    return new Error('Unknown response string.')\n  }\n\n  if (raw.indexOf('Resume aborted by kill') !== -1) {\n    return new Error('Resume aborted by kill.')\n  }\n\n  let lines = raw.split('\\n').map(line => line.trim())\n\n  lines.shift()\n\n  return lines\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/resume.js","import { normalizePath } from '../util'\n\n/**\n* Remove a file.\n*\n* ### on success\n* ```\n* return \"/sd/removed_file.gcode\"\n* ```\n* ### on error\n* ```\n* return Error: 'Could not remove \"xxx\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L331\n*/\nexport function cmd_rm(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  let source = normalizePath(args[0] || '')\n\n  // file not found\n  if (raw.startsWith('Could not delete')) {\n    return new Error('Could not remove \"' + source + '\".')\n  }\n\n  return source\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/rm.js","/**\n* Parse `save` command response.\n*\n* ### on success\n* ```\n* return {\n*   stored: true,\n*   file  : '/sd/config-override'\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L542\n*/\nexport function cmd_save(raw, args) {\n  raw = raw.trim()\n\n  let matches = raw.match(/^Settings Stored to (.*)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return { stored: true, file: matches[1] }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/save.js","/**\n* Set temperature.\n*\n* - set_temp [bed|hotend]\n*\n* ### on success\n* ```\n* return {\n*   \"device\": \"bed\",\n*   \"target\": 180\n* }\n* ```\n* ### on error\n* ```\n* return Error: '\"xxx\" is not a known temperature device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#857\n*/\nexport function cmd_set_temp(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  // device\n  let device = (args.shift() || '').toLowerCase()\n\n  // error\n  if (raw.endsWith('is not a known temperature device')) {\n    return new Error('\"' + device + '\" is not a known temperature device.')\n  }\n\n  // new temperature\n  let target = parseInt(args.shift() || 0)\n\n  return { device, target }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/set_temp.js","/**\r\n* Parse `suspend` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return 'Suspending print, waiting for queue to empty...'\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Already suspended.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {String|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L359\r\n*/\r\nexport function cmd_suspend(raw, args) {\r\n  // raw response\r\n  raw = raw.trim()\r\n\r\n  if (raw.startsWith('Already suspended')) {\r\n    return new Error('Already suspended.')\r\n  }\r\n\r\n  if (! raw.startsWith('Suspending print')) {\r\n    return new Error('Unknown response string.')\r\n  }\r\n\r\n  return 'Suspending print, waiting for queue to empty...'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/suspend.js","/**\n* Switch module.\n*\n* `switch fan on` or `switch fan 150`\n*\n* ### on success\n* ```\n* return {\n*   \"device\": \"fan\",\n*   \"value\" : \"on\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: '\"xxx\" is not a known switch device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L916\n*/\nexport function cmd_switch(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  // device\n  let device = args.shift() || ''\n\n  // error\n  if (raw.endsWith('is not a known switch device')) {\n    return new Error('\"' + device + '\" is not a known switch device.')\n  }\n\n  return { device, value: args.shift() || '' }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/switch.js","import { test_jog } from './test_jog'\nimport { test_circle } from './test_circle'\nimport { test_square } from './test_square'\nimport { test_raw } from './test_raw'\n\n/**\n* Parse `break` command response.\n*\n* !!! Smoothie never respond when calling this command.\n*\n* ### on success\n* ```\n* return 'Entering MRI debug mode...'\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test <jog|circle|square|raw> <options>'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L958\n*/\nexport function cmd_test(raw, args) {\n  raw = raw.trim()\n\n  if (raw.startsWith('usage:')) {\n    return new Error('Usage: test jog|circle|square|raw options')\n  }\n\n  // option\n  let option = (args.shift() || '').toLowerCase()\n\n  let func\n\n  switch (option) {\n    case 'jog':\n    func = test_jog\n    break\n    case 'circle':\n    func = test_circle\n    break\n    case 'square':\n    func = test_square\n    break\n    case 'raw':\n    func = test_raw\n    break\n    default:\n    return new Error('Sorry! The \"test ' + option + '\" command is not (yet) implemented.')\n  }\n\n  return func(raw, args)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/test.js","/**\n* Parse \"test circle\" response.\n*\n* ### on success\n* ```\n* return [gcode, gcode, ..., 'done']\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test circle radius iterations [feedrate]'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#989\n*/\nexport function test_circle(raw, args) {\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: test circle radius iterations [feedrate]')\n  }\n\n  return raw.split('\\n')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/test_circle.js","/**\n* Parse \"test jog\" response.\n*\n* ### on success\n* ```\n* return [gcode, gcode, ..., 'done']\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test jog axis distance iterations [feedrate]'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#962\n*/\nexport function test_jog(raw, args) {\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: test jog axis distance iterations [feedrate]')\n  }\n\n  return raw.split('\\n')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/test_jog.js","/**\n* Parse \"test raw\" response.\n*\n* ### on success\n* ```\n* return [gcode, gcode, ..., 'done']\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test raw axis steps steps/sec'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#1074\n*/\nexport function test_raw(raw, args) {\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: test raw axis steps steps/sec')\n  }\n\n  return raw.split('\\n')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/test_raw.js","/**\n* Parse \"test square\" response.\n*\n* ### on success\n* ```\n* return [gcode, gcode, ..., 'done']\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: test square size iterations [feedrate]'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#1030\n*/\nexport function test_square(raw, args) {\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: test square size iterations [feedrate]')\n  }\n\n  return raw.split('\\n')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/test_square.js","/**\n* Get the predefined thermistors.\n*\n* ### on success\n* ```\n* return {\n*   \"table\": {\n*     \"EPCOS100K\"    : 1,\n*     \"Vishay100K\"   : 2,\n*     \"Honeywell100K\": 3,\n*     \"Semitec\"      : 4,\n*     \"Honeywell-QAD\": 5\n*   },\n*   \"beta\": {\n*     \"EPCOS100K\"    : 129,\n*     \"RRRF100K\"     : 130,\n*     \"RRRF10K\"      : 131,\n*     \"Honeywell100K\": 132,\n*     \"Semitec\"      : 133,\n*     \"HT100K\"       : 134\n*   }\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L272\n*/\nexport function cmd_thermistors(raw, args) {\n  let lines   = raw.trim().split('\\n')\n  let result  = { table: {}, beta: {} }\n  let pointer = result.table\n\n  let matches, name, value\n\n  lines.shift() // remove \"S/H table\"\n\n  lines.forEach(line => {\n    line = line.trim()\n\n    if (line.startsWith('Beta table')) {\n      pointer = result.beta\n    }\n    else {\n      matches = line.match(/^([0-9]+) - (.*)/)\n\n      if (! matches) {\n        return new Error('Unknown response string.')\n      }\n\n      name  = matches[2].trim()\n      value = parseFloat(matches[1].trim())\n\n      pointer[name] = value\n    }\n  })\n\n  return result\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/thermistors.js","/**\n* Parse version command response.\n*\n* ### on success\n* ```\n* return {\n*   branch: \"edge\",\n*   hash  : \"9ab4538\",\n*   date  : \"Oct 10 2016 04:09:42\",\n*   mcu   : \"LPC1769\",\n*   clock : \"120MHz\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n*/\nexport function cmd_version(raw, args) {\n  // version pattern\n  let pattern = /Build version: (.*), Build date: (.*), MCU: (.*), System Clock: (.*)/\n\n  // test the pattern\n  let info = raw.trim().match(pattern)\n\n  if (info) {\n    // split branch-hash on dash\n    let branch = info[1].split('-')\n\n    // resolve\n    return {\n      branch: branch[0].trim(),\n      hash  : branch[1].trim(),\n      date  : info[2].trim(),\n      mcu   : info[3].trim(),\n      clock : info[4].trim()\n    }\n  }\n\n  // reject\n  return new Error('Unknown response string')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/version.js","import { normalizePath, filename } from './util'\n\n/**\n* Board file class.\n*/\nclass BoardFile {\n  /**\n  * @param {Object} file File object from `ls -s` command.\n  */\n  constructor(file) {\n    /**\n    * Parent folder path `/sd/my_folder`.\n    * @type {String}\n    */\n    this.parent = file.parent\n\n    /**\n    * File size (bytes).\n    * @type {Integer}\n    */\n    this.size = file.size\n\n    /**\n    * File path `/sd/my_folder/my_file.ext`.\n    * @type {String}\n    */\n    this.path = file.path\n\n    /**\n    * File name with extension `my_file.ext`.\n    * @type {String}\n    */\n    this.name = file.name\n\n    /**\n    * File extension with starting dot `.gcode`.\n    * @type {String}\n    */\n    this.extension = file.extension\n  }\n}\n\n/**\n* Board folder class.\n*/\nclass BoardFolder {\n  /**\n  * @param {Object} folder Folder object from `ls -s` command.\n  */\n  constructor(folder) {\n    /**\n    * Parent folder path `/sd`.\n    * @type {String}\n    */\n    this.parent = file.parent\n\n    /**\n    * Folder size (bytes).\n    * @type {Integer}\n    */\n    this.size = file.size\n\n    /**\n    * Folder path `/sd/my_folder`.\n    * @type {String}\n    */\n    this.path = file.path\n\n    /**\n    * Folder name `my_folder`.\n    * @type {String}\n    */\n    this.name = file.name\n  }\n}\n\n/**\n* Board file tree class.\n*/\nclass BoardFileTree {\n  /**\n  * Constructor...\n  */\n  constructor() {\n    /**\n    * Flat file tree.\n    * @type {Map}\n    */\n    this.tree = new Map()\n\n    /**\n    * File tree size (bytes).\n    * @type {Integer}\n    */\n    this.size = 0\n  }\n\n  /**\n  * Make and return a child object.\n  *\n  * @param  {Object} child Child object from `ls -s` command.\n  * @return {BoardFile|BoardFolder}\n  * @protected\n  */\n  makeChild(child) {\n    return child.type === 'file' ? new BoardFile(child) : new BoardFolder(child)\n  }\n\n  /**\n  * Update tree size.\n  *\n  * @param  {BoardFile|BoardFolder} child\n  * @param  {Integer} size\n  * @protected\n  */\n  updateSize(child, size) {\n    this.size += size\n\n    let parent = this.tree.get(child.parent)\n\n    while (parent) {\n      parent.size += size\n      parent = this.tree.get(parent.parent)\n    }\n  }\n\n  /**\n  * Remove a child and all of his children.\n  *\n  * @param  {BoardFile|BoardFolder} child Child name or object to remove.\n  * @return {Integer|null} Number of child removed.\n  */\n  remove(child) {\n    let path = child.path || normalizePath(child)\n    let file = this.tree.get(path)\n\n    if (! file) {\n      return null\n    }\n\n    let removed = 1\n\n    this.tree.delete(file.path)\n    this.updateSize(file, -file.size)\n\n    if (file instanceof BoardFolder) {\n      for (let childPath of this.tree.keys()) {\n        if (childPath.startsWith(file.path + '/')) {\n          this.tree.delete(childPath)\n          removed++\n        }\n      }\n    }\n\n    return removed\n  }\n\n  /**\n  * Set a new child.\n  *\n  * @param {Object} child Child object from `ls -s` command.\n  */\n  set(child) {\n    let file = this.makeChild(child)\n\n    this.remove(file.path)\n    this.tree.set(file.path, file)\n    this.updateSize(file, file.size)\n  }\n\n  /**\n  * Return if child path exists.\n  *\n  * @param  {String} path\n  * @return {Boolean}\n  */\n  has(path) {\n    return this.tree.has(normalizePath(path))\n  }\n\n  /**\n  * Return a child from path if exists.\n  *\n  * @param  {String} path\n  * @return {BoardFile|BoardFolder|null}\n  */\n  get(path) {\n    return this.tree.get(normalizePath(path))\n  }\n\n  /**\n  * Return all children from path.\n  *\n  * @param  {String} path\n  * @return {Map}\n  */\n  list(path) {\n    let tree = new Map()\n\n    path = normalizePath(path)\n\n    if (path !== '/') {\n      path += '/'\n    }\n\n    for (let childPath of this.tree.keys()) {\n      if (childPath.startsWith(path)) {\n        tree.set(childPath, this.tree.get(childPath))\n      }\n    }\n\n    return tree\n  }\n}\n\n// Exports\nexport default BoardFileTree\nexport { BoardFileTree, BoardFolder, BoardFile }\n\n\n\n// WEBPACK FOOTER //\n// ./board/filetree.js","import Board from './board'\nimport boardTopics from './topics'\nimport * as boardCommands from './commands'\n\nexport default Board\nexport { Board, boardTopics, boardCommands }\n\n\n\n// WEBPACK FOOTER //\n// ./board/index.js","/**\n* Board info.\n*/\nclass BoardInfo {\n  /**\n  * @param {Object} info Object from the `version` command.\n  */\n  constructor(info) {\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.branch = null\n\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.hash = null\n\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.date = null\n\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.mcu = null\n\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.clock = null\n\n    // merge info object\n    Object.assign(this, info)\n  }\n}\n\n// Exports\nexport default BoardInfo\nexport { BoardInfo }\n\n\n\n// WEBPACK FOOTER //\n// ./board/info.js","/**\r\n* Defaults board settings.\r\n* @type     {Object<String, Mixed>}\r\n* @property {String}   address                       IP or hostname without protocol prefix.\r\n* @property {Object}   request                       Request settings, see {@link src/request/settings.js~requestSettings} for defaults keys/values.\r\n* @property {Integer}  [request.timeout      = 0]    Timeout for this request in milliseconds.\r\n* @property {Integer}  [request.maxAttempts  = 3]    Maximum number of attemps before rejection.\r\n* @property {Integer}  [request.attemptDelay = 1000] Delay in milliseconds between two attemps.\r\n* @property {Function} [request.filters.status]      Default to 200 OK `function(s) { return s === 200 }`.\r\n*/\r\nconst boardSettings = {\r\n  address: undefined,\r\n  request: {\r\n    timeout     : 0,\r\n    maxAttempts : 3,\r\n    attemptDelay: 1000,\r\n    filters     : { status: status => status === 200 }\r\n  }\r\n}\r\n\r\nexport default boardSettings\r\nexport { boardSettings }\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/settings.js","/**\n* @external {ProgressEvent} https://developer.mozilla.org/fr/docs/Web/API/ProgressEvent\n*/\n\n/**\n* Request event.\n*/\nclass RequestEvent {\n  /**\n  * @param {String}        type    Event type, see {@link src/request/event/types.js} for possible values.\n  * @param {ProgressEvent} event   Original progress event.\n  * @param {Request}       request Request instance.\n  * @param {RequestProgressPayload|RequestResponsePayload|RequestAttemptPayload|Error}\n  *                        payload Request payload.\n  */\n  constructor(type, event, request, payload = null) {\n    /**\n    * Event type, see {@link src/request/event/types.js} for possible values.\n    * @type {String}\n    * @protected\n    */\n    this.type = type\n\n    /**\n    * Original progress event.\n    * @type {ProgressEvent}\n    * @protected\n    */\n    this.event = event\n\n    /**\n    * Request instance.\n    * @type {Request}\n    * @protected\n    */\n    this.request = request\n\n    /**\n    * Event payload.\n    * @type {RequestProgressPayload|RequestResponsePayload|RequestAttemptPayload|Error}\n    * @protected\n    */\n    this.payload = payload\n  }\n}\n\n// Exports\nexport default RequestEvent\nexport { RequestEvent }\n\n\n\n// WEBPACK FOOTER //\n// ./request/event/request.js","/**\n* Attempt payload.\n*/\nclass RequestAttemptPayload {\n  /**\n  * @param {Request} request\n  */\n  constructor(request) {\n    /**\n    * Number of executed attempts.\n    * @type {Integer}\n    * @protected\n    */\n    this.done = request.attempts\n\n    /**\n    * Attempts number.\n    * @type {Integer}\n    * @protected\n    */\n    this.num = this.done + 1\n\n    /**\n    * Maximum number of attempts.\n    * @type {Integer}\n    * @protected\n    */\n    this.max = request.settings.maxAttempts\n\n    /**\n    * Delay between two attempt.\n    * @type {Integer}\n    * @protected\n    */\n    this.delay = request.settings.attemptDelay\n  }\n}\n\n// Exports\nexport default RequestAttemptPayload\nexport { RequestAttemptPayload }\n\n\n\n// WEBPACK FOOTER //\n// ./request/payload/attempt.js","/**\n* Progression payload.\n*/\nclass RequestProgressPayload {\n  /**\n  * @param {ProgressEvent} event Original progress event.\n  */\n  constructor(event) {\n    /**\n    * Total bytes.\n    * @type {Integer}\n    * @protected\n    */\n    this.total = event.total || 0\n\n    /**\n    * Loaded bytes.\n    * @type {Integer}\n    * @protected\n    */\n    this.loaded = event.loaded || 0\n\n    /**\n    * Is computable.\n    * @type {Boolean}\n    * @protected\n    */\n    this.computable = event.lengthComputable\n\n    /**\n    * Loaded percent.\n    * @type {Integer}\n    * @protected\n    */\n    this.percent = this.computable ? parseInt(this.loaded / this.total * 100) : 0\n  }\n}\n\n// Exports\nexport default RequestProgressPayload\nexport { RequestProgressPayload }\n\n\n\n// WEBPACK FOOTER //\n// ./request/payload/progress.js","/**\n* Response payload.\n*/\nclass RequestResponsePayload {\n  /**\n  * @param {XMLHttpRequest} xhr    An `XMLHttpRequest` instance.\n  * @param {Function}       filter Response filter.\n  */\n  constructor(xhr, filter = null) {\n    /**\n    * Response status code.\n    * @type {Integer}\n    * @protected\n    */\n    this.status = xhr.status\n\n    /**\n    * Respons status text.\n    * @type {String}\n    * @protected\n    */\n    this.message = xhr.statusText\n\n    /**\n    * Response data.\n    * @type {Mixed}\n    * @protected\n    */\n    this.data = xhr.response\n\n    if (typeof filter === 'function') {\n      this.data = filter(this.data)\n    }\n  }\n}\n\n// Exports\nexport default RequestResponsePayload\nexport { RequestResponsePayload }\n\n\n\n// WEBPACK FOOTER //\n// ./request/payload/response.js","import uuid from 'uuid/v4'\nimport requestSettings from './settings'\nimport requestEventTypes from './event/types'\nimport RequestEvent from './event/request'\nimport RequestProgressPayload from './payload/progress'\nimport RequestResponsePayload from './payload/response'\nimport RequestAttemptPayload from './payload/attempt'\n\n/**\n* `XMLHttpRequest` wrapper with `Promise` logic.\n*\n* @example\n* function on(event) {\n*   console.info('on:', event.type, event);\n* }\n*\n* new Request({\n*   url   : 'http://192.168.1.102/command',\n*   method: 'POST',\n*   data  : 'version\\n',\n*   on    : {\n*     'retry'            : on,\n*     'retry.send'       : on,\n*     'retry.limit'      : on,\n*\n*     'download.load'    : on,\n*     'download.error'   : on,\n*     'download.abort'   : on,\n*     'download.timeout' : on,\n*     'download.progress': on,\n*\n*     'upload.load'      : on,\n*     'upload.error'     : on,\n*     'upload.abort'     : on,\n*     'upload.timeout'   : on,\n*     'upload.progress'  : on\n*   },\n*   filters: {\n*     status  : status => status === 200,\n*     response: response => JSON.stringify(response)\n*   }\n* })\n* .send()\n* .then(event => {\n*   console.info('then:', event);\n* })\n* .catch(event => {\n*   console.error('catch:', event);\n* });\n*\n* @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n* @see https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\n*/\nclass Request {\n  /**\n  * Encode data object to uri string `key_1=value_1&key_2=value_2`.\n  *\n  * @param  {Object<String, String>} data\n  * @return {String}\n  */\n  static encodeData(data) {\n    // no data\n    if (data) {\n      // stringify data object\n      if (typeof data === 'object') {\n        data = Object.keys(data).map(key => {\n          return encodeURIComponent(key) + '=' + encodeURIComponent(data[key])\n        }).join('&')\n      }\n\n      // remove the first char if it is an '?'\n      if (data.startsWith('?')) {\n        data = data.substr(1)\n      }\n    }\n\n    return data\n  }\n\n  /**\n  * Join data to url.\n  *\n  * @param  {String}                        url\n  * @param  {String|Object<String, String>} data\n  * @return {String}\n  */\n  static joinUrlData(url, data) {\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + Request.encodeData(data)\n  }\n\n  /**\n  * @param {Object} settings See {@link src/request/settings.js~requestSettings} for defaults keys/values.\n  */\n  constructor(settings = {}) {\n    /**\n    * Request settings, see {@link src/request/settings.js~requestSettings} for defaults keys/values.\n    * @type {Object}\n    * @protected\n    */\n    this.settings = Object.assign({}, requestSettings, settings)\n\n    /**\n    * Unique identifier (uuid/v4).\n    * @type {String}\n    * @protected\n    */\n    this.uuid = uuid()\n\n    /**\n    * Creation time.\n    * @type {Integer}\n    * @protected\n    */\n    this.time = Date.now()\n\n    /**\n    * Send time.\n    * @type {Integer}\n    * @protected\n    */\n    this.sendTime = null\n\n    /**\n    * Elapsed time.\n    * @type {Integer}\n    * @protected\n    */\n    this.elapsedTime = null\n\n    /**\n    * Number of attempts.\n    * @type {Integer}\n    * @protected\n    */\n    this.attempts = 0\n\n    /**\n    * `XMLHttpRequest` instance.\n    * @type {XMLHttpRequest}\n    * @protected\n    */\n    this.xhr = null\n\n    /**\n    * Aborted flag.\n    * @type {Boolean}\n    * @protected\n    */\n    this.aborted = false\n  }\n\n  /**\n  * Trigger an user defined event.\n  *\n  * @throws {Error}\n  */\n  _triggerEvent(event) {\n    if (typeof this.settings.on[event.type] === 'function') {\n      this.settings.on[event.type](event)\n    }\n  }\n\n  /**\n  * Send the request and return a Promise.\n  *\n  * @return {Promise<RequestEvent>}\n  * @throws {Error}\n  */\n  _send() {\n    // prevent calling twice\n    if (this.xhr) {\n      throw new Error('You can not send the same request twice.')\n    }\n\n    // increment attempts counter\n    this.attempts++\n\n    // set send time\n    this.sendTime = Date.now()\n\n    // local settings\n    let settings = Object.assign({}, this.settings)\n\n    // normalize settings\n    settings.url    = settings.url.trim()\n    settings.method = settings.method.toUpperCase()\n    settings.data   = Request.encodeData(settings.data)\n\n    if (settings.method !== 'POST' && settings.data) {\n      // append data to uri and reset data\n      settings.url  = Request.joinUrlData(settings.url, settings.data)\n      settings.data = null\n    }\n\n    // wrap the request in promise\n    return new Promise((resolve, reject) => {\n      // create http request object\n      this.xhr = new XMLHttpRequest()\n\n      // override mime type\n      this.xhr.overrideMimeType(settings.mimeType)\n\n      // open async request\n      this.xhr.open(settings.method, settings.url, true)\n\n      // status\n      let rejected = false\n\n      // create, trigger and return an RequestEvent\n      let createEvent = (type, event, payload = null) => {\n        let requestEvent = new RequestEvent(type, event, this, payload)\n        ! rejected && this._triggerEvent(requestEvent)\n        return requestEvent\n      }\n\n      // on abort, error, timeout\n      let _reject = (type, event, error) => {\n        this.elapsedTime = Date.now() - this.sendTime\n        reject(createEvent(type, event, error instanceof Error ? error : new Error(error)))\n        rejected = true\n      }\n\n      let onAbort = (type, event) => {\n        this.aborted = true\n        _reject(type, event, 'Connection aborted.')\n      }\n\n      let onError = (type, event) => {\n        _reject(type, event, 'Unknown network error.')\n      }\n\n      let onTimeout = (type, event) => {\n        _reject(type, event, 'Connection timed out (>' + settings.timeout + 'ms).')\n      }\n\n      // on progress\n      let onProgress = (type, event) => {\n        createEvent(type, event, new RequestProgressPayload(event))\n      }\n\n      // on load\n      let onLoad = (type, event) => {\n        // check status\n        let status = this.xhr.status\n\n        if (! status) {\n          return _reject(requestEventTypes.DOWNLOAD_ERROR, event, 'Unknown HTTP error.')\n        }\n\n        // let user check the status\n        if (typeof settings.filters.status === 'function') {\n          status = settings.filters.status(status)\n        }\n\n        if (! status) {\n          return _reject(type, event, this.xhr.status + ' ' + this.xhr.statusText)\n        }\n\n        // response payload\n        let payload\n\n        try { // catch filter error\n          payload = new RequestResponsePayload(this.xhr, settings.filters.response)\n        }\n        catch (error) {\n          return _reject(type, event, error)\n        }\n\n        // set elapsed time\n        this.elapsedTime = Date.now() - this.sendTime\n\n        // resolve the promise\n        resolve(createEvent(type, event, payload))\n      }\n\n      let onUploaLoad = (type, event) => {\n        createEvent(type, event, settings.data)\n      }\n\n      // download events\n      this.xhr.onload     = event => onLoad(requestEventTypes.DOWNLOAD_LOAD, event)\n      this.xhr.onabort    = event => onAbort(requestEventTypes.DOWNLOAD_ABORT, event)\n      this.xhr.onerror    = event => onError(requestEventTypes.DOWNLOAD_ERROR, event)\n      this.xhr.ontimeout  = event => onTimeout(requestEventTypes.DOWNLOAD_TIMEOUT, event)\n      this.xhr.onprogress = event => onProgress(requestEventTypes.DOWNLOAD_PROGRESS, event)\n\n      // upload events\n      this.xhr.upload.onload     = event => onProgress(requestEventTypes.UPLOAD_LOAD, event)\n      this.xhr.upload.onabort    = event => onAbort(requestEventTypes.UPLOAD_ABORT, event)\n      this.xhr.upload.onerror    = event => onError(requestEventTypes.UPLOAD_ERROR, event)\n      this.xhr.upload.ontimeout  = event => onTimeout(requestEventTypes.UPLOAD_TIMEOUT, event)\n      this.xhr.upload.onprogress = event => onProgress(requestEventTypes.UPLOAD_PROGRESS, event)\n\n      // set request headers\n      if (settings.headers) {\n        for (let header in settings.headers) {\n          this.xhr.setRequestHeader(header, settings.headers[header])\n        }\n      }\n\n      // set request timeout\n      this.xhr.timeout = settings.timeout\n\n      // send the request\n      this.xhr.send(settings.data)\n\n      // dirty hack ...\n      if (this.aborted) {\n        this.xhr.abort()\n      }\n    })\n  }\n\n  /**\n  * Send the request and return a Promise.\n  *\n  * @return {Promise<RequestEvent>}\n  */\n  send() {\n    return this._send().catch(event => {\n      // trigger user callback\n      let triggerEvent = (type, event) => this._triggerEvent(\n        new RequestEvent(type, event.event, this, new RequestAttemptPayload(this))\n      )\n\n      // retry on timeout error if attempts limit is not reached\n      if (event.type.endsWith('timeout') || (event.type.endsWith('error') && event.payload.message.startsWith('Unknown network error'))) {\n        if (this.attempts < this.settings.maxAttempts) {\n          // call user callback\n          triggerEvent(requestEventTypes.BEFORE_RETRY, event)\n\n          // delayed retry\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              // reset xhr object\n              this.xhr = null\n\n              // call user callback\n              triggerEvent(requestEventTypes.RETRY, event)\n\n              // (re)send the request\n              return this.send().then(resolve).catch(reject)\n            }, this.settings.attemptDelay)\n          })\n        }\n\n        // call user callback\n        triggerEvent(requestEventTypes.RETRY_LIMIT, event)\n\n        let payload = new Error('Too many attempts (max: ' + this.attempts + ').')\n        event       = new RequestEvent(requestEventTypes.DOWNLOAD_ERROR, event.event, this, payload)\n      }\n\n      return Promise.reject(event)\n    })\n  }\n\n  /**\n  * Abort the this.\n  */\n  abort() {\n    this.aborted = true\n    this.xhr && this.xhr.abort()\n  }\n}\n\nexport default Request\nexport { Request }\n\n\n\n// WEBPACK FOOTER //\n// ./request/request.js","/**\n* Defaults request settings.\n* @type     {Object<String, Mixed>}\n* @property {String}   [url = '/']               Absolute or relative URL.\n* @property {String}   [method = 'GET']         'GET', 'POST', 'DELETE', ...\n* @property {Mixed}    [data = null]             Data to send with the request.\n* @property {Object}   [headers = {}]            Headers to send with the request.\n* @property {Integer}  [timeout = 5000]          Timeout for this request in milliseconds.\n* @property {Integer}  [maxAttempts = 5]         Maximum number of attemps before rejection.\n* @property {Integer}  [attemptDelay = 5000]     Delay in milliseconds between two attemps.\n* @property {String}   [mimeType = 'text/plain'] Expected response mime type.\n* @property {Object}   [on = {}]                 Collection of function that takes as single parameter an {@link RequestEvent} instance.\n*                                                Ex.: `{ 'download.load': event => { }, 'upload.progress': event => { } }`\n*                                                See {@link src/request/event/types.js} for possible values.\n* @property {Object}   [filters = {}]            Collection of filter functions.\n* @property {Function} [filters.status]          A function that takes as single parameter the request status code and return an boolean to resolve/reject the request.\n* @property {Function} [filters.response]        A function that takes as single parameter the request response and return a new version or throw an {@link Error} to reject the {@link Promise}.\n*/\nconst requestSettings = {\n  url         : '/',\n  method      : 'GET',\n  data        : null,\n  headers     : {},\n  timeout     : 1000,\n  maxAttempts : 5,\n  attemptDelay: 0,\n  mimeType    : 'text/plain',\n  filters     : {},\n  on          : {}\n}\n\nexport default requestSettings\nexport { requestSettings }\n\n\n\n// WEBPACK FOOTER //\n// ./request/settings.js","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uuid/lib/bytesToUuid.js\n// module id = 66\n// module chunks = 0","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uuid/lib/rng-browser.js\n// module id = 67\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/buildin/global.js\n// module id = 68\n// module chunks = 0"],"sourceRoot":""}