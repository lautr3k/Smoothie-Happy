{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///smoothie-happy.js","webpack:///webpack/bootstrap 02a6fe472c4ff02fd89a","webpack:///./board/util.js","webpack:///./board/topics/index.js","webpack:///./request/event/types.js","webpack:///./board/commands/index.js","webpack:///./board/request.js","webpack:///./request/index.js","webpack:///../~/uuid/v4.js","webpack:///./index.js","webpack:///./board/board.js","webpack:///./board/command.js","webpack:///./board/commands/M999.js","webpack:///./board/commands/abort.js","webpack:///./board/commands/calc_thermistor.js","webpack:///./board/commands/cat.js","webpack:///./board/commands/cd.js","webpack:///./board/commands/get.js","webpack:///./board/commands/get_fk.js","webpack:///./board/commands/get_ik.js","webpack:///./board/commands/get_pos.js","webpack:///./board/commands/get_state.js","webpack:///./board/commands/get_status.js","webpack:///./board/commands/get_temp.js","webpack:///./board/commands/get_wcs.js","webpack:///./board/commands/help.js","webpack:///./board/commands/ls.js","webpack:///./board/commands/md5sum.js","webpack:///./board/commands/mem.js","webpack:///./board/commands/mv.js","webpack:///./board/commands/net.js","webpack:///./board/commands/ok.js","webpack:///./board/commands/play.js","webpack:///./board/commands/progress.js","webpack:///./board/commands/pwd.js","webpack:///./board/commands/remount.js","webpack:///./board/commands/reset.js","webpack:///./board/commands/resume.js","webpack:///./board/commands/rm.js","webpack:///./board/commands/set_temp.js","webpack:///./board/commands/suspend.js","webpack:///./board/commands/switch.js","webpack:///./board/commands/thermistors.js","webpack:///./board/commands/version.js","webpack:///./board/filetree.js","webpack:///./board/index.js","webpack:///./board/info.js","webpack:///./board/settings.js","webpack:///./request/event/request.js","webpack:///./request/payload/attempt.js","webpack:///./request/payload/progress.js","webpack:///./request/payload/response.js","webpack:///./request/request.js","webpack:///./request/settings.js","webpack:///../~/uuid/lib/bytesToUuid.js","webpack:///../~/uuid/lib/rng-browser.js","webpack:///../~/webpack/buildin/global.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","normalizePath","path","trim","replace","toLowerCase","filename","split","pop","boardTopics","INFO_UPDATE","FILETREE_UPDATE","STATE_ALARM","STATE_CLEAR","COMMAND_QUEUE_ADD","COMMAND_QUEUE_SEND","COMMAND_QUEUE_EMPTY","COMMAND_QUEUE_PAUSE","COMMAND_QUEUE_RESUME","COMMAND_QUEUE_CLEAR","COMMAND_CREATE","COMMAND_SEND","COMMAND_ERROR","COMMAND_RESPONSE","COMMAND_RETRY","COMMAND_RETRY_SEND","COMMAND_RETRY_LIMIT","COMMAND_DOWNLOAD_LOAD","COMMAND_DOWNLOAD_ABORT","COMMAND_DOWNLOAD_ERROR","COMMAND_DOWNLOAD_TIMEOUT","COMMAND_DOWNLOAD_PROGRESS","COMMAND_UPLOAD_LOAD","COMMAND_UPLOAD_ABORT","COMMAND_UPLOAD_ERROR","COMMAND_UPLOAD_TIMEOUT","COMMAND_UPLOAD_PROGRESS","REQUEST_RETRY","REQUEST_RETRY_SEND","REQUEST_RETRY_LIMIT","REQUEST_DOWNLOAD_LOAD","REQUEST_DOWNLOAD_ABORT","REQUEST_DOWNLOAD_ERROR","REQUEST_DOWNLOAD_TIMEOUT","REQUEST_DOWNLOAD_PROGRESS","REQUEST_UPLOAD_LOAD","REQUEST_UPLOAD_ABORT","REQUEST_UPLOAD_ERROR","REQUEST_UPLOAD_TIMEOUT","REQUEST_UPLOAD_PROGRESS","default","requestEventTypes","RETRY","RETRY_SEND","RETRY_LIMIT","DOWNLOAD_LOAD","DOWNLOAD_ABORT","DOWNLOAD_ERROR","DOWNLOAD_TIMEOUT","DOWNLOAD_PROGRESS","UPLOAD_LOAD","UPLOAD_ABORT","UPLOAD_ERROR","UPLOAD_TIMEOUT","UPLOAD_PROGRESS","cmd_M999","cmd_version","cmd_thermistors","cmd_switch","cmd_suspend","cmd_set_temp","cmd_rm","cmd_resume","cmd_reset","cmd_remount","cmd_pwd","cmd_progress","cmd_play","cmd_ok","cmd_net","cmd_mv","cmd_mem","cmd_md5sum","cmd_ls","cmd_help","cmd_get","cmd_cd","cmd_cat","cmd_calc_thermistor","cmd_abort","undefined","_abort","_calc_thermistor","_cat","_cd","_get","_help","_ls","_md5sum","_mem","_mv","_net","_ok","_play","_progress","_pwd","_remount","_reset","_resume","_rm","_set_temp","_suspend","_switch","_thermistors","_version","_M","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","BoardRequest","_request","_request2","obj","_Request","board","settings","arguments","length","_this","getPrototypeOf","assign","request","url","address","_interopRequireDefault","Request","_types","_types2","v4","options","buf","offset","Array","rnds","random","rng","ii","bytesToUuid","_interopRequireWildcard","newObj","key","VERSION","_board","Board","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_v","_v2","_settings","_settings2","_command","_command2","_topics","_topics2","_info","_info2","_filetree","_filetree2","_util","Error","startsWith","endsWith","uuid","info","fileTree","subscriptions","Map","commandQueue","commandQueueLocked","commandQueuePaused","pendingCommand","alarm","topic","payload","has","message","forEach","subscription","callback","context","set","removed","isArray","id","unsubscribe","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","values","Symbol","iterator","next","done","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","keys","delete","size","deleteTopic","createRequest","send","command","_this2","on","event","publish","boardCommand","_this3","then","Promise","resolve","catch","reject","_sendCommand","createCommand","push","addCommand","processCommandQueue","_this4","shift","abort","abortPendingCommand","pauseCommandQueue","_this5","refresh","sendCommand","data","_this6","firstCall","tree","list","promises","child","type","listFiles","all","results","_this7","BoardCommand","_commands","boardCommands","_BoardRequest","commandLine","commandArgs","commandName","parseResponse","response","r","raw","test","slice","responseParser","args","concat","method","filters","matches","match","map","parseFloat","includes","NaN","saved","I","J","K","source","option","func","_get_temp","_get_pos","_get_wcs","_get_state","_get_status","_get_ik","_get_fk","get_fk","move","x","y","z","get_ik","get_pos","lines","positions","line","parsePositionString","position","parts","toUpperCase","coords","join","substr","description","get_state","state","modal","wcs","plane_selection","unit","distance_mode","path_control","program_pause","stop_tool","stop_coolant","tool","feed_rate","s_value","get_status","status","machine","workspace","get_temp","device","parseTempString","current","pwm","parseInt","temp","designator","get_wcs","code","excludes","files","isDir","extension","rootPath","parent","md5","file","verbose","memory","CHUNKS","setValue","_line$split","_line$split2","_slicedToArray","bytes","free","chunk","chunks","end","total","used","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","ip","gateway","mask","mac","paused","played","elapsed","estimated","timeFormat","complete","time","indexOf","result","table","beta","pointer","branch","hash","date","mcu","clock","BoardFile","BoardFolder","BoardFileTree","folder","updateSize","childPath","makeChild","remove","_board2","BoardInfo","boardSettings","timeout","maxAttempts","attemptDelay","_status","RequestEvent","RequestAttemptPayload","attempts","num","max","delay","RequestProgressPayload","loaded","computable","lengthComputable","percent","RequestResponsePayload","xhr","filter","statusText","_typeof","_progress2","_response","_response2","_attempt","_attempt2","Date","now","sendTime","elapsedTime","aborted","encodeURIComponent","encodeData","joinUrlData","XMLHttpRequest","overrideMimeType","mimeType","open","rejected","createEvent","requestEvent","_triggerEvent","_reject","error","onAbort","onError","onTimeout","onProgress","onLoad","onload","onabort","onerror","ontimeout","onprogress","upload","headers","header","setRequestHeader","_send","triggerEvent","BEFORE_RETRY","setTimeout","requestSettings","bth","byteToHex","toString","global","crypto","msCrypto","getRandomValues","rnds8","Uint8Array","Math","g","Function","eval","e","window"],"mappings":"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","file":"smoothie-happy.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SmoothieHappy\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SmoothieHappy\"] = factory();\n\telse\n\t\troot[\"SmoothieHappy\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"SmoothieHappy\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SmoothieHappy\"] = factory();\n\telse\n\t\troot[\"SmoothieHappy\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 55);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizePath = normalizePath;\nexports.filename = filename;\n/**\n* Return normalized path `sd/My///File.ext/   ` => `/sd/my/file.ext`.\n*\n* @param  {String} path\n* @return {String}\n*/\nfunction normalizePath(path) {\n  return '/' + path.trim().replace(/\\/+/, '/').replace(/^\\/|\\/$/, '').toLowerCase();\n}\n\n/**\n* Return filename from path.\n*\n* @param  {String} path\n* @return {String}\n*/\nfunction filename(path) {\n  return path.split('/').pop();\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n* Board topics.\n*\n* @type {Object<String, String>}\n*/\nvar boardTopics = {\n  INFO_UPDATE: 'info.update', // payload: {BoardInfo}\n  FILETREE_UPDATE: 'filetree.update', // payload: {BoardFileList}\n\n  STATE_ALARM: 'state.alarm', // payload: {null}\n  STATE_CLEAR: 'state.clear', // payload: {null}\n\n  COMMAND_QUEUE_ADD: 'command.queue.add', // payload: {BoardCommand}\n  COMMAND_QUEUE_SEND: 'command.queue.send', // payload: {BoardCommand}\n  COMMAND_QUEUE_EMPTY: 'command.queue.empty', // payload: {null}\n  COMMAND_QUEUE_PAUSE: 'command.queue.pause', // payload: {Board.commandQueue}\n  COMMAND_QUEUE_RESUME: 'command.queue.resume', // payload: {Board.commandQueue}\n  COMMAND_QUEUE_CLEAR: 'command.queue.clear', // payload: {Board.commandQueue}\n\n  COMMAND_CREATE: 'command.create', // payload: {BoardCommand}\n  COMMAND_SEND: 'command.send', // payload: {BoardCommand}\n  COMMAND_ERROR: 'command.error', // payload: {RequestEvent}\n  COMMAND_RESPONSE: 'command.response', // payload: {RequestEvent}\n\n  // COMMAND_XXX payload: {RequestEvent}\n  COMMAND_RETRY: 'command.retry', // on retry planned\n  COMMAND_RETRY_SEND: 'command.retry.send', // juste before retry\n  COMMAND_RETRY_LIMIT: 'command.retry.limit', // on too many attemps\n\n  COMMAND_DOWNLOAD_LOAD: 'command.download.load',\n  COMMAND_DOWNLOAD_ABORT: 'command.download.abort',\n  COMMAND_DOWNLOAD_ERROR: 'command.download.error',\n  COMMAND_DOWNLOAD_TIMEOUT: 'command.download.timeout',\n  COMMAND_DOWNLOAD_PROGRESS: 'command.download.progress',\n\n  COMMAND_UPLOAD_LOAD: 'command.upload.load',\n  COMMAND_UPLOAD_ABORT: 'command.upload.abort',\n  COMMAND_UPLOAD_ERROR: 'command.upload.error',\n  COMMAND_UPLOAD_TIMEOUT: 'command.upload.timeout',\n  COMMAND_UPLOAD_PROGRESS: 'command.upload.progress',\n\n  // REQUEST_XXX payload: {RequestEvent}\n  REQUEST_RETRY: 'request.retry', // on retry planned\n  REQUEST_RETRY_SEND: 'request.retry.send', // juste before retry\n  REQUEST_RETRY_LIMIT: 'request.retry.limit', // on too many attemps\n\n  REQUEST_DOWNLOAD_LOAD: 'request.download.load',\n  REQUEST_DOWNLOAD_ABORT: 'request.download.abort',\n  REQUEST_DOWNLOAD_ERROR: 'request.download.error',\n  REQUEST_DOWNLOAD_TIMEOUT: 'request.download.timeout',\n  REQUEST_DOWNLOAD_PROGRESS: 'request.download.progress',\n\n  REQUEST_UPLOAD_LOAD: 'request.upload.load',\n  REQUEST_UPLOAD_ABORT: 'request.upload.abort',\n  REQUEST_UPLOAD_ERROR: 'request.upload.error',\n  REQUEST_UPLOAD_TIMEOUT: 'request.upload.timeout',\n  REQUEST_UPLOAD_PROGRESS: 'request.upload.progress'\n};\n\nexports.default = boardTopics;\nexports.boardTopics = boardTopics;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n* Request event types.\n*\n* @type {Object<String, String>}\n*/\nvar requestEventTypes = {\n  RETRY: 'retry', // on retry planned\n  RETRY_SEND: 'retry.send', // juste before retry\n  RETRY_LIMIT: 'retry.limit', // on too many attemps\n\n  DOWNLOAD_LOAD: 'download.load',\n  DOWNLOAD_ABORT: 'download.abort',\n  DOWNLOAD_ERROR: 'download.error',\n  DOWNLOAD_TIMEOUT: 'download.timeout',\n  DOWNLOAD_PROGRESS: 'download.progress',\n\n  UPLOAD_LOAD: 'upload.load',\n  UPLOAD_ABORT: 'upload.abort',\n  UPLOAD_ERROR: 'upload.error',\n  UPLOAD_TIMEOUT: 'upload.timeout',\n  UPLOAD_PROGRESS: 'upload.progress'\n};\n\nexports.default = requestEventTypes;\nexports.requestEventTypes = requestEventTypes;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_M999 = exports.cmd_version = exports.cmd_thermistors = exports.cmd_switch = exports.cmd_suspend = exports.cmd_set_temp = exports.cmd_rm = exports.cmd_resume = exports.cmd_reset = exports.cmd_remount = exports.cmd_pwd = exports.cmd_progress = exports.cmd_play = exports.cmd_ok = exports.cmd_net = exports.cmd_mv = exports.cmd_mem = exports.cmd_md5sum = exports.cmd_ls = exports.cmd_help = exports.cmd_get = exports.cmd_cd = exports.cmd_cat = exports.cmd_calc_thermistor = exports.cmd_abort = undefined;\n\nvar _abort = __webpack_require__(11);\n\nObject.defineProperty(exports, 'cmd_abort', {\n  enumerable: true,\n  get: function get() {\n    return _abort.cmd_abort;\n  }\n});\n\nvar _calc_thermistor = __webpack_require__(12);\n\nObject.defineProperty(exports, 'cmd_calc_thermistor', {\n  enumerable: true,\n  get: function get() {\n    return _calc_thermistor.cmd_calc_thermistor;\n  }\n});\n\nvar _cat = __webpack_require__(13);\n\nObject.defineProperty(exports, 'cmd_cat', {\n  enumerable: true,\n  get: function get() {\n    return _cat.cmd_cat;\n  }\n});\n\nvar _cd = __webpack_require__(14);\n\nObject.defineProperty(exports, 'cmd_cd', {\n  enumerable: true,\n  get: function get() {\n    return _cd.cmd_cd;\n  }\n});\n\nvar _get = __webpack_require__(15);\n\nObject.defineProperty(exports, 'cmd_get', {\n  enumerable: true,\n  get: function get() {\n    return _get.cmd_get;\n  }\n});\n\nvar _help = __webpack_require__(23);\n\nObject.defineProperty(exports, 'cmd_help', {\n  enumerable: true,\n  get: function get() {\n    return _help.cmd_help;\n  }\n});\n\nvar _ls = __webpack_require__(24);\n\nObject.defineProperty(exports, 'cmd_ls', {\n  enumerable: true,\n  get: function get() {\n    return _ls.cmd_ls;\n  }\n});\n\nvar _md5sum = __webpack_require__(25);\n\nObject.defineProperty(exports, 'cmd_md5sum', {\n  enumerable: true,\n  get: function get() {\n    return _md5sum.cmd_md5sum;\n  }\n});\n\nvar _mem = __webpack_require__(26);\n\nObject.defineProperty(exports, 'cmd_mem', {\n  enumerable: true,\n  get: function get() {\n    return _mem.cmd_mem;\n  }\n});\n\nvar _mv = __webpack_require__(27);\n\nObject.defineProperty(exports, 'cmd_mv', {\n  enumerable: true,\n  get: function get() {\n    return _mv.cmd_mv;\n  }\n});\n\nvar _net = __webpack_require__(28);\n\nObject.defineProperty(exports, 'cmd_net', {\n  enumerable: true,\n  get: function get() {\n    return _net.cmd_net;\n  }\n});\n\nvar _ok = __webpack_require__(29);\n\nObject.defineProperty(exports, 'cmd_ok', {\n  enumerable: true,\n  get: function get() {\n    return _ok.cmd_ok;\n  }\n});\n\nvar _play = __webpack_require__(30);\n\nObject.defineProperty(exports, 'cmd_play', {\n  enumerable: true,\n  get: function get() {\n    return _play.cmd_play;\n  }\n});\n\nvar _progress = __webpack_require__(31);\n\nObject.defineProperty(exports, 'cmd_progress', {\n  enumerable: true,\n  get: function get() {\n    return _progress.cmd_progress;\n  }\n});\n\nvar _pwd = __webpack_require__(32);\n\nObject.defineProperty(exports, 'cmd_pwd', {\n  enumerable: true,\n  get: function get() {\n    return _pwd.cmd_pwd;\n  }\n});\n\nvar _remount = __webpack_require__(33);\n\nObject.defineProperty(exports, 'cmd_remount', {\n  enumerable: true,\n  get: function get() {\n    return _remount.cmd_remount;\n  }\n});\n\nvar _reset = __webpack_require__(34);\n\nObject.defineProperty(exports, 'cmd_reset', {\n  enumerable: true,\n  get: function get() {\n    return _reset.cmd_reset;\n  }\n});\n\nvar _resume = __webpack_require__(35);\n\nObject.defineProperty(exports, 'cmd_resume', {\n  enumerable: true,\n  get: function get() {\n    return _resume.cmd_resume;\n  }\n});\n\nvar _rm = __webpack_require__(36);\n\nObject.defineProperty(exports, 'cmd_rm', {\n  enumerable: true,\n  get: function get() {\n    return _rm.cmd_rm;\n  }\n});\n\nvar _set_temp = __webpack_require__(37);\n\nObject.defineProperty(exports, 'cmd_set_temp', {\n  enumerable: true,\n  get: function get() {\n    return _set_temp.cmd_set_temp;\n  }\n});\n\nvar _suspend = __webpack_require__(38);\n\nObject.defineProperty(exports, 'cmd_suspend', {\n  enumerable: true,\n  get: function get() {\n    return _suspend.cmd_suspend;\n  }\n});\n\nvar _switch = __webpack_require__(39);\n\nObject.defineProperty(exports, 'cmd_switch', {\n  enumerable: true,\n  get: function get() {\n    return _switch.cmd_switch;\n  }\n});\n\nvar _thermistors = __webpack_require__(40);\n\nObject.defineProperty(exports, 'cmd_thermistors', {\n  enumerable: true,\n  get: function get() {\n    return _thermistors.cmd_thermistors;\n  }\n});\n\nvar _version = __webpack_require__(41);\n\nObject.defineProperty(exports, 'cmd_version', {\n  enumerable: true,\n  get: function get() {\n    return _version.cmd_version;\n  }\n});\n\nvar _M = __webpack_require__(10);\n\nObject.defineProperty(exports, 'cmd_M999', {\n  enumerable: true,\n  get: function get() {\n    return _M.cmd_M999;\n  }\n});\n\nvar _util = __webpack_require__(0);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BoardRequest = undefined;\n\nvar _request = __webpack_require__(5);\n\nvar _request2 = _interopRequireDefault(_request);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n* Board request.\n* @extends {Request}\n*/\nvar BoardRequest = function (_Request) {\n  _inherits(BoardRequest, _Request);\n\n  /**\n  * @param {Board}  board    Board instance.\n  * @param {Object} settings See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  */\n  function BoardRequest(board) {\n    var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, BoardRequest);\n\n    /**\n    * Board instance.\n    * @type {String}\n    * @protected\n    */\n    var _this = _possibleConstructorReturn(this, (BoardRequest.__proto__ || Object.getPrototypeOf(BoardRequest)).call(this, Object.assign({}, board.settings.request, settings, {\n      url: 'http://' + board.address + '/' + settings.url\n    })));\n    // call parent constructor\n\n\n    _this.board = board;\n    return _this;\n  }\n\n  return BoardRequest;\n}(_request2.default);\n\n// Exports\n\n\nexports.default = BoardRequest;\nexports.BoardRequest = BoardRequest;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.requestEventTypes = exports.Request = undefined;\n\nvar _request = __webpack_require__(50);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _types = __webpack_require__(2);\n\nvar _types2 = _interopRequireDefault(_types);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _request2.default;\nexports.Request = _request2.default;\nexports.requestEventTypes = _types2.default;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar rng = __webpack_require__(53);\nvar bytesToUuid = __webpack_require__(52);\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.board = exports.request = exports.VERSION = undefined;\n\nvar _request = __webpack_require__(5);\n\nvar request = _interopRequireWildcard(_request);\n\nvar _board = __webpack_require__(43);\n\nvar board = _interopRequireWildcard(_board);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n* API version\n* @type {String}\n*/\nvar VERSION = exports.VERSION = '2.0.0';\n\n// public interface\nexports.request = request;\nexports.board = board;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Board = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _v = __webpack_require__(6);\n\nvar _v2 = _interopRequireDefault(_v);\n\nvar _settings = __webpack_require__(45);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _request = __webpack_require__(4);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _types = __webpack_require__(2);\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _command = __webpack_require__(9);\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _topics = __webpack_require__(1);\n\nvar _topics2 = _interopRequireDefault(_topics);\n\nvar _info = __webpack_require__(44);\n\nvar _info2 = _interopRequireDefault(_info);\n\nvar _filetree = __webpack_require__(42);\n\nvar _filetree2 = _interopRequireDefault(_filetree);\n\nvar _util = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Board class.\n*/\nvar Board = function () {\n  /**\n  * @param {Object} settings See {@link src/board/settings.js~boardSettings} for defaults keys/values.\n  */\n  function Board() {\n    var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Board);\n\n    /**\n    * Board settings, see {@link src/board/settings.js~boardSettings} for defaults keys/values.\n    * @type {Object}\n    * @protected\n    */\n    this.settings = Object.assign({}, _settings2.default, settings);\n\n    if (!this.settings.address || typeof this.settings.address !== 'string') {\n      throw new Error('An address must be specified.');\n    }\n\n    /**\n    * Board address.\n    * @type {String}\n    * @protected\n    */\n    this.address = this.settings.address.trim();\n\n    if (this.address.startsWith('http://')) {\n      this.address = this.address.replace('http://');\n    }\n\n    if (this.address.endsWith('/')) {\n      this.address = this.address.replace(/\\/+$/g, '');\n    }\n\n    /**\n    * Unique identifier (uuid/v4).\n    * @type {String}\n    * @protected\n    */\n    this.uuid = (0, _v2.default)();\n\n    /**\n    * Board info parsed from version command.\n    * ```\n    * {\n    *   branch: \"edge\",\n    *   hash  : \"9ab4538\",\n    *   date  : \"Oct 10 2016 04:09:42\",\n    *   mcu   : \"LPC1769\",\n    *   clock : \"120MHz\"\n    * }\n    * ```\n    * @type {BoardInfo|null}\n    * @default null\n    * @protected\n    */\n    this.info = null;\n\n    /**\n    * Flat files tree.\n    * @type {BoardFileTree}\n    * @protected\n    */\n    this.fileTree = new _filetree2.default();\n\n    /**\n    * Topic subscriptions.\n    * @type {Map}\n    * @protected\n    */\n    this.subscriptions = new Map();\n\n    /**\n    * Command queue.\n    * @type {Array}\n    * @protected\n    */\n    this.commandQueue = [];\n\n    /**\n    * Command queue locked ?.\n    * @type {Boolean}\n    * @protected\n    */\n    this.commandQueueLocked = false;\n\n    /**\n    * Command queue in pause ?.\n    * @type {Boolean}\n    * @protected\n    */\n    this.commandQueuePaused = false;\n\n    /**\n    * Pending command (from command queue).\n    * @type {BoardCommand|null}\n    * @protected\n    */\n    this.pendingCommand = null;\n\n    /**\n    * Is system halted ?\n    * @type {Boolean}\n    * @protected\n    */\n    this.alarm = false;\n  }\n\n  /**\n  * @typedef  {Object} BoardMessage\n  * @property {Board}  board   Board instance.\n  * @property {String} topic   Topic name, see {@link src/board/topics/index.js} for the topics list.\n  * @property {Mixed}  payload Message payload.\n  */\n\n  /**\n  * Publish message to topic, see {@link src/board/topics/index.js} for the topics list.\n  *\n  * @param  {String} topic See {@link src/board/topics/index.js} for possible values.\n  * @param  {Mixed}  [payload = null]\n  * @see {@link Board#subscribe}\n  * @see {@link Board#unsubscribe}\n  * @see {@link Board#deleteTopic}\n  */\n\n\n  _createClass(Board, [{\n    key: 'publish',\n    value: function publish(topic) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      // fix topic case\n      topic = topic.trim().toLowerCase();\n\n      // if topic found\n      if (this.subscriptions.has(topic)) {\n        // message payload\n        var message = { board: this, topic: topic, payload: payload };\n\n        // call each registrered callback\n        this.subscriptions.get(topic).forEach(function (subscription) {\n          subscription.callback.call(subscription.context, message);\n        });\n      }\n    }\n\n    /**\n    * @typedef  {Object} BoardSubscription\n    * @property {String}        uuid     Unique identifier (uuid/v4).\n    * @property {Function}      callback A function that takes as single parameter an {@link BoardMessage} object.\n    * @property {Function|null} context  Callback context to apply on call.\n    */\n\n    /**\n    * Subscribe to topic, see {@link src/board/topics/index.js} for the topics list.\n    *\n    * @param  {String}      topic          Topic name, see {@link src/board/topics/index.js} for the topics list.\n    * @param  {Function}    callback       A function that takes as single parameter an {@link BoardMessage} object.\n    * @param  {Object|null} [context=null] Callback context to apply on call.\n    * @return {BoardSubscription}\n    * @see {@link Board#publish}\n    * @see {@link Board#unsubscribe}\n    * @see {@link Board#deleteTopic}\n    */\n\n  }, {\n    key: 'subscribe',\n    value: function subscribe(topic, callback) {\n      var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      // fix topic case\n      topic = topic.trim().toLowerCase();\n\n      // if first subscription, create new topic\n      if (!this.subscriptions.has(topic)) {\n        this.subscriptions.set(topic, new Map());\n      }\n\n      // fix callback context\n      context = context || callback;\n\n      // create new subscription\n      var subscription = { uuid: (0, _v2.default)(), callback: callback, context: context };\n\n      // register new subscription\n      this.subscriptions.get(topic).set(subscription.uuid, subscription);\n\n      // return the subscription\n      return subscription;\n    }\n\n    /**\n    * Unsubscribe from topic.\n    *\n    * @param  {BoardSubscription|String|Array} uuid Subscription, subscription uuid or callback function.\n    * @return {Integer} Number of callback removed.\n    * @see {@link Board#publish}\n    * @see {@link Board#subscribe}\n    * @see {@link Board#deleteTopic}\n    */\n\n  }, {\n    key: 'unsubscribe',\n    value: function unsubscribe(uuid) {\n      var _this = this;\n\n      var removed = 0;\n\n      // unsubscribe an array of uuid or function\n      if (Array.isArray(uuid)) {\n        uuid.forEach(function (id) {\n          removed += _this.unsubscribe(id);\n        });\n\n        return removed;\n      }\n\n      // unsubscribe from function\n      if (typeof uuid === 'function') {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.subscriptions.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var subscriptions = _step.value;\n\n            subscriptions.forEach(function (subscription) {\n              if (subscription.callback === uuid) {\n                removed += _this.unsubscribe(subscription.uuid);\n              }\n            });\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return removed;\n      }\n\n      // unsubscribe from uuid string\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.subscriptions.keys()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var topic = _step2.value;\n\n          if (this.subscriptions.get(topic).has(uuid)) {\n            removed += this.subscriptions.get(topic).delete(uuid);\n\n            if (this.subscriptions.get(topic).size === 0) {\n              this.deleteTopic(topic);\n            }\n\n            return removed;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return removed;\n    }\n\n    /**\n    * Delete entire topic.\n    *\n    * @param  {String} topic Topic name, see {@link src/board/topics/index.js} for the topics list.\n    * @return {Boolean} False if not found.\n    * @see {@link Board#publish}\n    * @see {@link Board#subscribe}\n    * @see {@link Board#unsubscribe}\n    */\n\n  }, {\n    key: 'deleteTopic',\n    value: function deleteTopic(topic) {\n      if (this.subscriptions.get(topic)) {\n        return this.subscriptions.delete(topic);\n      }\n\n      return false;\n    }\n\n    /**\n    * Create an request.\n    *\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardRequest} for more details).\n    * @return {BoardRequest}\n    */\n\n  }, {\n    key: 'createRequest',\n    value: function createRequest() {\n      var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return new _request2.default(this, settings);\n    }\n\n    /**\n    * Send an request to the board (GET by default).\n    *\n    * ```\n    * var board = new Board({ address: '192.168.1.102' });\n    *\n    * board.sendRequest({ url: 'sd/config' })\n    * .then(function(event) {\n    *   console.info('then:', event);\n    * })\n    * .catch(function(event) {\n    *   console.error('catch:', event);\n    * });\n    * ```\n    *\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardRequest} for more details).\n    * @return {Promise<RequestEvent>}\n    */\n\n  }, {\n    key: 'sendRequest',\n    value: function sendRequest() {\n      var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this.createRequest(settings).send();\n    }\n\n    /**\n    * Create an command.\n    *\n    * @param  {String} command         Command line.\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n    * @return {BoardCommand}\n    */\n\n  }, {\n    key: 'createCommand',\n    value: function createCommand(command) {\n      var _this2 = this;\n\n      var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      // wrap request events\n      settings.on = settings.on || {};\n\n      var _loop = function _loop(key) {\n        var topic = _types2.default[key];\n        var callback = settings.on[topic];\n\n        settings.on[topic] = function (event) {\n          _this2.publish('command.' + topic, event);\n          callback && callback(event);\n        };\n      };\n\n      for (var key in _types2.default) {\n        _loop(key);\n      }\n\n      var boardCommand = new _command2.default(this, command, settings);\n      this.publish(_topics2.default.COMMAND_CREATE, boardCommand);\n      return boardCommand;\n    }\n\n    /**\n    * Send an command to the board.\n    *\n    * @param  {String} boardCommand\n    * @return {Promise<RequestEvent>}\n    */\n\n  }, {\n    key: '_sendCommand',\n    value: function _sendCommand(boardCommand) {\n      var _this3 = this;\n\n      this.publish(_topics2.default.COMMAND_SEND, boardCommand);\n\n      return boardCommand.send().then(function (event) {\n        _this3.publish(_topics2.default.COMMAND_RESPONSE, event);\n        return Promise.resolve(event);\n      }).catch(function (event) {\n        _this3.publish(_topics2.default.COMMAND_ERROR, event);\n        return Promise.reject(event);\n      });\n    }\n\n    /**\n    * Create and send an command to the board.\n    *\n    * ```\n    * var board = new Board({ address: '192.168.1.102' });\n    *\n    * board.sendCommand('ls -s sd/')\n    * .then(function(event) {\n    *   console.info('then:', event);\n    *   console.info('data:', event.payload.data);\n    * })\n    * .catch(function(event) {\n    *   console.error('catch:', event);\n    * });\n    * ```\n    *\n    * @param  {String} command         Command line.\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n    * @return {Promise<RequestEvent>}\n    * @see {@link Board#addCommand}\n    * @see {@link Board#pushCommand}\n    */\n\n  }, {\n    key: 'sendCommand',\n    value: function sendCommand(command) {\n      var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return this._sendCommand(this.createCommand(command, settings));\n    }\n\n    /**\n    * Create and add the command in command queue.\n    *\n    * @param  {String} command         Command line.\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n    * @return {BoardCommand}\n    * @see {@link Board#sendCommand}\n    * @see {@link Board#pushCommand}\n    */\n\n  }, {\n    key: 'addCommand',\n    value: function addCommand(command) {\n      var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var boardCommand = this.createCommand(command, settings);\n      this.publish(_topics2.default.COMMAND_QUEUE_ADD, boardCommand);\n      this.commandQueue.push(boardCommand);\n      return boardCommand;\n    }\n\n    /**\n    * Create and add the command in command queue,\n    * then process the command queue if not in pause or locked.\n    *\n    * @param  {String} command         Command line.\n    * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n    * @return {BoardCommand}\n    * @see {@link Board#sendCommand}\n    * @see {@link Board#addCommand}\n    */\n\n  }, {\n    key: 'pushCommand',\n    value: function pushCommand(command) {\n      var settings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var boardCommand = this.addCommand(command, settings);\n      this.processCommandQueue();\n      return boardCommand;\n    }\n\n    /**\n    * Process command queue.\n    * @see {@link Board#pauseCommandQueue}\n    * @see {@link Board#stopCommandQueue}\n    * @see {@link Board#resumeCommandQueue}\n    * @see {@link Board#clearCommandQueue}\n    */\n\n  }, {\n    key: 'processCommandQueue',\n    value: function processCommandQueue() {\n      var _this4 = this;\n\n      // command queue locked or empty ?\n      if (this.commandQueueLocked || this.commandQueuePaused || !this.commandQueue.length) {\n        return;\n      }\n\n      // lock the command queue\n      this.commandQueueLocked = true;\n\n      // get the older command\n      this.pendingCommand = this.commandQueue.shift();\n\n      // end of queue\n      if (!this.pendingCommand) {\n        this.publish(_topics2.default.COMMAND_QUEUE_EMPTY);\n        return;\n      }\n\n      this.publish(_topics2.default.COMMAND_QUEUE_SEND, this.pendingCommand);\n\n      this._sendCommand(this.pendingCommand).then(function (event) {\n        return event;\n      }).catch(function (event) {\n        return event;\n      }).then(function (event) {\n        // reset pending command\n        _this4.pendingCommand = null;\n\n        // unlock the command queue\n        _this4.commandQueueLocked = false;\n\n        // process next command in queue\n        _this4.processCommandQueue();\n      });\n    }\n\n    /**\n    * Pause command queue but let the pending command terminate.\n    * @see {@link Board#processCommandQueue}\n    * @see {@link Board#stopCommandQueue}\n    * @see {@link Board#resumeCommandQueue}\n    * @see {@link Board#clearCommandQueue}\n    */\n\n  }, {\n    key: 'pauseCommandQueue',\n    value: function pauseCommandQueue() {\n      this.commandQueuePaused = true;\n      this.publish(_topics2.default.COMMAND_QUEUE_PAUSE, this.commandQueue);\n    }\n\n    /**\n    * Abort the pending command.\n    */\n\n  }, {\n    key: 'abortPendingCommand',\n    value: function abortPendingCommand() {\n      if (this.pendingCommand) {\n        this.pendingCommand.abort();\n        this.pendingCommand = null;\n      }\n    }\n\n    /**\n    * Pause command queue and abort the pending command.\n    * @see {@link Board#processCommandQueue}\n    * @see {@link Board#pauseCommandQueue}\n    * @see {@link Board#resumeCommandQueue}\n    * @see {@link Board#clearCommandQueue}\n    */\n\n  }, {\n    key: 'stopCommandQueue',\n    value: function stopCommandQueue() {\n      this.abortPendingCommand();\n      this.pauseCommandQueue();\n    }\n\n    /**\n    * Resume command queue.\n    * @see {@link Board#processCommandQueue}\n    * @see {@link Board#pauseCommandQueue}\n    * @see {@link Board#stopCommandQueue}\n    * @see {@link Board#clearCommandQueue}\n    */\n\n  }, {\n    key: 'resumeCommandQueue',\n    value: function resumeCommandQueue() {\n      this.commandQueuePaused = false;\n      this.publish(_topics2.default.COMMAND_QUEUE_RESUME, this.commandQueue);\n      this.processCommandQueue();\n    }\n\n    /**\n    * Clear command queue and abort the pending command.\n    * @see {@link Board#processCommandQueue}\n    * @see {@link Board#pauseCommandQueue}\n    * @see {@link Board#stopCommandQueue}\n    * @see {@link Board#resumeCommandQueue}\n    */\n\n  }, {\n    key: 'clearCommandQueue',\n    value: function clearCommandQueue() {\n      this.abortPendingCommand();\n      this.publish(_topics2.default.COMMAND_QUEUE_CLEAR, this.commandQueue);\n\n      this.commandQueueLocked = false;\n      this.commandQueuePaused = false;\n      this.commandQueue = [];\n    }\n\n    /**\n    * Get the board informations.\n    *\n    * @param  {Boolean} [refresh = false]\n    * @return {Promise<BoardInfo|RequestEvent|Error>}\n    */\n\n  }, {\n    key: 'getInfo',\n    value: function getInfo() {\n      var _this5 = this;\n\n      var refresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      return new Promise(function (resolve, reject) {\n        if (!refresh && _this5.info) {\n          resolve(_this5.info);\n        }\n\n        return _this5.sendCommand('version').then(function (event) {\n          if (event.payload.data instanceof Error) {\n            reject(event.payload.data);\n          }\n\n          _this5.info = new _info2.default(event.payload.data);\n          _this5.publish(_topics2.default.INFO_UPDATE, _this5.info);\n          resolve(_this5.info);\n        }).catch(reject);\n      });\n    }\n\n    /** @typedef {Map<String, BoardFolder|BoardFile>} BoardFileList */\n\n    /**\n    * Return a flat file tree for the given path.\n    *\n    * @param  {String}  [path    = '/']    Path to list file from.\n    * @param  {Boolean} [refresh = false]  Force refresh (no cache).\n    * @param  {Boolean} [firstCall = true] Used internaly for recursion.\n    * @return {Promise<BoardFileList|RequestEvent|Error>}\n    */\n\n  }, {\n    key: 'listFiles',\n    value: function listFiles() {\n      var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/';\n\n      var _this6 = this;\n\n      var refresh = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var firstCall = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      // from cache\n      path = (0, _util.normalizePath)(path);\n\n      var tree = path === '/' ? this.fileTree : this.fileTree.list(path);\n\n      if (tree.size && !refresh) {\n        return Promise.resolve(tree);\n      }\n\n      // try to get the directory contents\n      return this.sendCommand('ls -s ' + path).then(function (event) {\n        // recursion...\n        var promises = [];\n\n        if (event.payload.data instanceof Error) {\n          return Promise.reject(event.payload.data);\n        }\n\n        // children collection (file or directory)\n        event.payload.data.forEach(function (child) {\n          // set new child\n          _this6.fileTree.set(child);\n\n          // get sub-directory contents\n          if (child.type === 'folder') {\n            promises.push(_this6.listFiles(child.path, true, false));\n          }\n        });\n\n        // wait for all promises done\n        return Promise.all(promises).then(function (results) {\n          var tree = _this6.fileTree.list(path);\n\n          if (firstCall) {\n            _this6.publish(_topics2.default.FILETREE_UPDATE, tree);\n          }\n\n          return Promise.resolve(tree);\n        });\n      });\n    }\n\n    /**\n    * Clear state (M999).\n    *\n    * @return {Promise<RequestEvent>}\n    */\n\n  }, {\n    key: 'clearState',\n    value: function clearState() {\n      var _this7 = this;\n\n      return this.sendCommand('M999').then(function (event) {\n        _this7.alarm = false;\n        return Promise.resolve(event);\n      });\n    }\n  }]);\n\n  return Board;\n}();\n\n// Exports\n\n\nexports.default = Board;\nexports.Board = Board;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BoardCommand = undefined;\n\nvar _request = __webpack_require__(4);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _commands = __webpack_require__(3);\n\nvar boardCommands = _interopRequireWildcard(_commands);\n\nvar _topics = __webpack_require__(1);\n\nvar _topics2 = _interopRequireDefault(_topics);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n* Board request.\n* @extends {BoardRequest}\n*/\nvar BoardCommand = function (_BoardRequest) {\n  _inherits(BoardCommand, _BoardRequest);\n\n  /**\n  * @param {Board}  board       Board instance.\n  * @param {Board}  commandLine Command line, see {@link src/board/commands/index.js} for a list of implemented commands.\n  * @param {Object} settings    See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  * @param {Object} [settings.parseResponse = true] See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  */\n  function BoardCommand(board, commandLine) {\n    var settings = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    _classCallCheck(this, BoardCommand);\n\n    // Normalize and split the command line\n    commandLine = commandLine.trim().replace(/ +/g, ' ');\n\n    var commandArgs = commandLine.split(' ');\n    var commandName = commandArgs.shift();\n\n    // parse response by default\n    if (settings.parseResponse === undefined) {\n      settings.parseResponse = true;\n    }\n\n    // response...\n    var response = function response(r) {\n      var raw = r.trim();\n\n      if (raw.startsWith('error:Unsupported command')) {\n        throw new Error('Unsupported command \"' + commandName + '\".');\n      }\n\n      // alarm/error ?\n      var test = raw.slice(0, 30).toLowerCase();\n\n      if (!raw.length || test === '!!' || test.startsWith('alarm') || test.startsWith('error')) {\n        if (!board.alarm) {\n          board.alarm = true;\n          board.publish(_topics2.default.STATE_ALARM);\n        }\n\n        throw new Error('Alarm! System probably halted.');\n      }\n\n      if (commandName === 'M999') {\n        board.publish(_topics2.default.STATE_CLEAR, test !== 'ok');\n      }\n\n      // response parser\n      var responseParser = boardCommands['cmd_' + commandName];\n\n      if (!responseParser && settings.parseResponse) {\n        throw new Error('Sorry! The \"' + commandName + '\" command is not (yet) implemented.');\n      }\n\n      // return (parsed) response\n      var args = [].concat(commandArgs); // make a copy\n\n      return settings.parseResponse ? responseParser(r, args) : r;\n    };\n\n    // call parent constructor\n\n    /**\n    * Command line.\n    * @type {String}\n    * @protected\n    */\n    var _this = _possibleConstructorReturn(this, (BoardCommand.__proto__ || Object.getPrototypeOf(BoardCommand)).call(this, board, Object.assign({}, board.settings.request, settings, {\n      data: commandLine + '\\n',\n      url: 'command',\n      method: 'POST',\n      filters: { response: response }\n    })));\n\n    _this.commandLine = commandLine;\n\n    /**\n    * Command name.\n    * @type {String}\n    * @protected\n    */\n    _this.commandName = commandName;\n\n    /**\n    * Command arguments.\n    * @type {Array}\n    * @protected\n    */\n    _this.commandArgs = commandArgs;\n    return _this;\n  }\n\n  return BoardCommand;\n}(_request2.default);\n\n// Exports\n\n\nexports.default = BoardCommand;\nexports.BoardCommand = BoardCommand;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_M999 = cmd_M999;\n/**\n* Clear state.\n*\n* ### on success\n* ```\n* return true if state cleared or false if state not halted\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Boolean|Error}\n*/\nfunction cmd_M999(raw, args) {\n  return raw.trim() !== 'ok';\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_abort = cmd_abort;\n/**\r\n* Parse `abort` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return 'Aborted! Please turn any heaters off manually.'\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Not currently playing.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {String|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L359\r\n*/\nfunction cmd_abort(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  if (raw.startsWith('Not currently playing')) {\n    return new Error('Not currently playing.');\n  }\n\n  if (!raw.startsWith('Aborted playing or paused file')) {\n    return new Error('Unknown response string.');\n  }\n\n  return 'Aborted! Please turn any heaters off manually.';\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_calc_thermistor = cmd_calc_thermistor;\n/**\n* Calculate the Steinhart Hart coefficients for a thermistor.\n*\n* ### on success\n* ```\n* return {\n*   \"saved\": false, // true if -s param provided, else false\n*   \"target\": null, // termistor num if -s param provided, else null\n*   \"I\"     : 0.000722376862540841,\n*   \"J\"     : 0.000722376862540841,\n*   \"K\"     : 0.000722376862540841\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: calc_thermistor [-s0] T1,R1,T2,R2,T3,R3.'\n* return Error: 'Unknown response string.'\n* return Error: 'Invalid input values.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see http://smoothieware.org/steinharthart\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#878\n*/\nfunction cmd_calc_thermistor(raw, args) {\n  raw = raw.trim();\n\n  if (raw.startsWith('Usage: calc_thermistor')) {\n    return new Error('Usage: calc_thermistor [-s0] T1,R1,T2,R2,T3,R3.');\n  }\n\n  var matches = raw.match(/Steinhart Hart coefficients: *I(.*)J(.*)K(.*)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  matches.shift();\n\n  matches = matches.map(function (match) {\n    return parseFloat(match.trim());\n  });\n\n  if (matches.includes(NaN)) {\n    return new Error('Invalid input values.');\n  }\n\n  var saved = args[0].startsWith('-s');\n  var target = saved && args[0][2] || null;\n\n  return { saved: saved, target: target, I: matches[0], J: matches[0], K: matches[0] };\n}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_cat = cmd_cat;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Get file content.\n*\n* ### on success\n* ```\n* return \"Raw file contents as text.\"\n* ```\n* ### on error\n* ```\n* return Error: 'File not found \"xxx\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L331\n*/\nfunction cmd_cat(raw, args) {\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.trim().startsWith('File not found')) {\n    return new Error('File not found \"' + source + '\".');\n  }\n\n  return raw;\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_cd = cmd_cd;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Change current folder.\n*\n* ### on success\n* ```\n* return \"ok\"\n* ```\n* ### on error\n* ```\n* return Error: 'Could not open \"xxx\" directory.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L358\n*/\nfunction cmd_cd(raw, args) {\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.trim().startsWith('Could not open directory')) {\n    return new Error('Could not open \"' + source + '\" directory.');\n  }\n\n  return 'ok';\n}\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_get = cmd_get;\n\nvar _get_temp = __webpack_require__(21);\n\nvar _get_pos = __webpack_require__(18);\n\nvar _get_wcs = __webpack_require__(22);\n\nvar _get_state = __webpack_require__(19);\n\nvar _get_status = __webpack_require__(20);\n\nvar _get_ik = __webpack_require__(17);\n\nvar _get_fk = __webpack_require__(16);\n\n/**\n* Get command `temp|pos|wcs|state|status|fk|ik`.\n*\n* - get temp [bed|hotend]\n* - get fk|ik [-m] x[,y,z]\n*\n* ### on success\n* ```\n* return \"...\"\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown option \"xxx\".'\n* return Error: 'Sorry! The \"get xxx\" command is not (yet) implemented.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Mixed|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#741\n*/\nfunction cmd_get(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  // option\n  var option = (args.shift() || '').toLowerCase();\n\n  // file not found\n  if (raw.startsWith('error:unknown option')) {\n    return new Error('Unknown option \"' + option + '\".');\n  }\n\n  var func = void 0;\n\n  switch (option) {\n    case 'temp':\n      func = _get_temp.get_temp;\n      break;\n    case 'pos':\n      func = _get_pos.get_pos;\n      break;\n    case 'wcs':\n      func = _get_wcs.get_wcs;\n      break;\n    case 'state':\n      func = _get_state.get_state;\n      break;\n    case 'status':\n      func = _get_status.get_status;\n      break;\n    case 'ik':\n      func = _get_ik.get_ik;\n      break;\n    case 'fk':\n      func = _get_fk.get_fk;\n      break;\n    default:\n      return new Error('Sorry! The \"get ' + option + '\" command is not (yet) implemented.');\n  }\n\n  return func(raw, args);\n}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_fk = get_fk;\n/**\n* Get forward kinematics.\n*\n* ### on success\n* ```\n* return {\n*   \"move\": false,\n*   \"x\"   : 10,\n*   \"y\"   : 10,\n*   \"z\"   : 10\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: get ik [-m] x[,y,z].'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#771\n*/\nfunction get_fk(raw, args) {\n  var move = args.shift() === '-m';\n\n  // error\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: get fk [-m] x[,y,z].');\n  }\n\n  var matches = raw.match(/cartesian= X ([0-9\\.]+), Y ([0-9\\.]+), Z ([0-9\\.]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    move: move,\n    x: parseFloat(matches[1]),\n    y: parseFloat(matches[2]),\n    z: parseFloat(matches[3])\n  };\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_ik = get_ik;\n/**\n* Get inverse kinematics.\n*\n* ### on success\n* ```\n* return {\n*   \"move\": false,\n*   \"x\"   : 10,\n*   \"y\"   : 10,\n*   \"z\"   : 10\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: get ik [-m] x[,y,z].'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#771\n*/\nfunction get_ik(raw, args) {\n  var move = args.shift() === '-m';\n\n  // error\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: get ik [-m] x[,y,z].');\n  }\n\n  var matches = raw.match(/actuator= X ([0-9\\.]+), Y ([0-9\\.]+), Z ([0-9\\.]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    move: move,\n    x: parseFloat(matches[1]),\n    y: parseFloat(matches[2]),\n    z: parseFloat(matches[3])\n  };\n}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_pos = get_pos;\n/**\n* Get position.\n*\n* ### on success\n* ```\n* return {\n*   \"WCS\": {\n*     \"command\"    : \"M114\",\n*     \"description\": \"Position of all axes\",\n*     \"x\"          : 0,\n*     \"y\"          : 0,\n*     \"z\"          : 0\n*   },\n*   \"WPOS\": {\n*     \"command\"    : \"M114.1\",\n*     \"description\": \"Real time position of all axes\"\n*     // , x, y, z\n*   },\n*   \"MPOS\": {\n*     \"command\"    : \"M114.2\",\n*     \"description\": \"Real time machine position of all axes\"\n*     // , x, y, z\n*   },\n*   \"APOS\": {\n*     \"command\"    : \"M114.3\",\n*     \"description\": \"Real time actuator position of all actuators\"\n*     // , x, y, z\n*   },\n*   \"LMS\": {\n*     \"command\"    : \"M114.4\",\n*     \"description\": \"Last milestone\"\n*     // , x, y, z\n*   },\n*   \"LMP\": {\n*     \"command\"    : \"M114.5\",\n*     \"description\": \"Last machine position\"\n*     // , x, y, z\n*   }\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#818\n*/\nfunction get_pos(raw, args) {\n  // last C: X:0.0000 Y:0.0000 Z:0.0000\n  // realtime WPOS: X:0.0000 Y:0.0000 Z:0.0000\n  // MPOS: X:0.0000 Y:0.0000 Z:0.0000\n  // APOS: X:0.0000 Y:0.0000 Z:0.0000\n  // LMS: X:0.0000 Y:0.0000 Z:0.0000\n  // LMP: X:0.0000 Y:0.0000 Z:0.0000\n  // split on new lines\n  var lines = raw.split('\\n');\n  var key = void 0,\n      positions = {};\n\n  lines.forEach(function (line) {\n    var r = parsePositionString(line);\n    positions[r.key] = r.position;\n  });\n\n  // split response text on new lines\n  return positions;\n}\n\n// Parse position string.\n// WCS : M114   - Last WCS.\n// WPOS: M114.1 - Realtime WCS.\n// MPOS: M114.2 - Realtime machine coordinate system.\n// APOS: M114.3 - Realtime actuator position.\n// LMS : M114.4 - Last milestone.\n// LMP : M114.5 - Last machine position.\nfunction parsePositionString(line) {\n  var parts = line.split(':');\n  var key = parts.shift().replace(' ', '_').toUpperCase();\n  var coords = parts.join(':').trim().split(' ');\n\n  var position = {\n    x: parseFloat(coords[0].substr(2)),\n    y: parseFloat(coords[1].substr(2)),\n    z: parseFloat(coords[2].substr(2))\n  };\n\n  if (key === 'LAST_C') {\n    key = 'WCS';\n  } else if (key === 'REALTIME_WPOS') {\n    key = 'WPOS';\n  }\n\n  switch (key) {\n    case 'WCS':\n      position.command = 'M114';\n      position.description = 'Position of all axes';\n      break;\n    case 'WPOS':\n      position.command = 'M114.1';\n      position.description = 'Real time position of all axes';\n      break;\n    case 'MPOS':\n      position.command = 'M114.2';\n      position.description = 'Real time machine position of all axes';\n      break;\n    case 'APOS':\n      position.command = 'M114.3';\n      position.description = 'Real time actuator position of all actuators';\n      break;\n    case 'LMS':\n      position.command = 'M114.4';\n      position.description = 'Last milestone';\n      break;\n    case 'LMP':\n      position.command = 'M114.5';\n      position.description = 'Last machine position';\n      break;\n    default:\n      position.command = 'M114.?';\n      position.description = 'Unknown type';\n  }\n\n  return { key: key, position: position };\n}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_state = get_state;\n/**\n* Get state.\n*\n* ### on success\n* ```\n* return\n* {\n*   \"modal\"          : \"G0\",\n*   \"wcs\"            : \"G54\",\n*   \"plane_selection\": \"G17\",\n*   \"unit\"           : \"G21\",\n*   \"distance_mode\"  : \"G90\",\n*   \"path_control\"   : \"G94\",\n*   \"program_pause\"  : \"M0\",\n*   \"stop_tool\"      : \"M5\",\n*   \"stop_coolant\"   : \"M9\",\n*   \"tool\"           : \"T0\",\n*   \"feed_rate\"      : \"F4000.0000\",\n*   \"s_value\"        : \"S0.8000\",\n*   \"state\"          : [ \"G0\", \"G54\", \"G17\", \"G21\", \"G90\", \"G94\", \"M0\", \"M5\", \"M9\", \"T0\", \"F4000.0000\", \"S0.8000\" ]\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#832\n*/\nfunction get_state(raw, args) {\n  var state = raw.slice(1, -1).split(' ');\n\n  return {\n    modal: state[0],\n    wcs: state[1],\n    plane_selection: state[2],\n    unit: state[3],\n    distance_mode: state[4],\n    path_control: state[5],\n    program_pause: state[6],\n    stop_tool: state[7],\n    stop_coolant: state[8],\n    tool: state[9],\n    feed_rate: state[10],\n    s_value: state[11],\n    state: state\n  };\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_status = get_status;\n/**\n* Get status.\n*\n* ### on success\n* ```\n* return\n* {\n*   \"status\"   : \"idle\", // [idle, alarm, home, hold, run]\n*   \"machine\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"workspace\": { \"x\": 0, \"y\": 0, \"z\": 0 }\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#847\n* @see https://github.com/Smoothieware/Smoothieware/blob/f7d999cff4a33d83b09ce136c122b3b7b2f1c69a/src/libs/Kernel.cpp#L163\n*/\nfunction get_status(raw, args) {\n  var parts = raw.slice(1, -1).toLowerCase().replace(/(w|m)pos:/g, '').split(',');\n\n  return {\n    status: parts[0],\n    machine: {\n      x: parseFloat(parts[1]),\n      y: parseFloat(parts[2]),\n      z: parseFloat(parts[3])\n    },\n    workspace: {\n      x: parseFloat(parts[4]),\n      y: parseFloat(parts[5]),\n      z: parseFloat(parts[6])\n    }\n  };\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_temp = get_temp;\n/**\n* Get temperature.\n*\n* ### on success\n* ```\n* // get temp\n* return [\n*   {\n*     \"designator\": \"T\",\n*     \"id\": 57988,\n*     \"current\": null, // null means the sensor is not properly connected, or it is damaged in some way.\n*     \"target\": 0,\n*     \"pwm\": 0\n*   },\n*   {\n*     \"designator\": \"B\",\n*     \"id\": 22060,\n*     \"current\": null,\n*     \"target\": 0,\n*     \"pwm\": 0\n*   }\n* ]\n* ```\n* ```\n* // get temp bed\n* return {\n*   \"designator\": \"bed\",\n*   \"current\": null,\n*   \"target\": 0,\n*   \"pwm\": 0\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'No heaters found.'\n* return Error: 'Unknown response string.'\n* return Error: '\"xxx\" is not a known temperature device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#745\n*/\nfunction get_temp(raw, args) {\n  if (raw.startsWith('no heaters found')) {\n    return new Error('No heaters found.');\n  }\n\n  // device [bed|hotend]\n  var device = (args[0] || 'all').toLowerCase();\n\n  if (raw.endsWith('is not a known temperature device')) {\n    return new Error('\"' + device + '\" is not a known temperature device.');\n  }\n\n  var result = void 0;\n\n  if (device === 'all') {\n    // [T (57988) temp: inf/0.000000 @0]\n    return raw.split('\\n').map(parseTempString);\n  }\n\n  // \"bed temp: inf/0.000000 @0\"\n  var matches = raw.match(/([a-z]+) temp: (inf|[0-9\\.]+)\\/(inf|[0-9\\.]+) @([0-9]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    device: matches[1],\n    current: parseFloat(matches[2]),\n    target: parseFloat(matches[3]),\n    pwm: parseInt(matches[4])\n  };\n}\n\nfunction parseTempString(temp) {\n  // T (57988) temp: inf/0.000000 @0\n  var matches = temp.match(/(T|B) \\(([0-9]+)\\) temp: (inf|[0-9\\.]+)\\/(inf|[0-9\\.]+) @([0-9]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    designator: matches[1],\n    id: parseInt(matches[2]),\n    current: parseFloat(matches[3]),\n    target: parseFloat(matches[4]),\n    pwm: parseInt(matches[5])\n  };\n}\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get_wcs = get_wcs;\n/**\n* Get wcs state.\n*\n* ### on success\n* ```\n* return {\n*   \"current\": \"G54\",\n*   \"tool\"   : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"prob\"   : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G54\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G55\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G56\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G57\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G58\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.1\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.2\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.3\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G28\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G30\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G92\"    : { \"x\": 0, \"y\": 0, \"z\": 0 }\n*}\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#828\n*/\nfunction get_wcs(raw, args) {\n  // [current WCS: G54]\n  // [G54:0.0000,0.0000,0.0000]\n  // [G55:0.0000,0.0000,0.0000]\n  // [G56:0.0000,0.0000,0.0000]\n  // [G57:0.0000,0.0000,0.0000]\n  // [G58:0.0000,0.0000,0.0000]\n  // [G59:0.0000,0.0000,0.0000]\n  // [G59.1:0.0000,0.0000,0.0000]\n  // [G59.2:0.0000,0.0000,0.0000]\n  // [G59.3:0.0000,0.0000,0.0000]\n  // [G28:0.0000,0.0000,0.0000]\n  // [G30:0.0000,0.0000,0.0000]\n  // [G92:0.0000,0.0000,0.0000]\n  // [Tool Offset:0.0000,0.0000,0.0000]\n  // [PRB:0.0000,0.0000,0.0000:0]\n  var lines = raw.split('\\n');\n\n  // unwrap line ([...])\n  lines = lines.map(function (line) {\n    return line.slice(1, -1);\n  });\n\n  var wcs = {\n    current: lines.shift().split(': ').pop()\n  };\n\n  lines.forEach(function (line) {\n    var parts = line.split(':');\n    var code = parts.shift().toUpperCase();\n    var coords = parts.shift().split(',');\n\n    if (code === 'TOOL OFFSET') {\n      code = 'tool';\n    } else if (code === 'PRB') {\n      code = 'prob';\n    }\n\n    wcs[code] = {\n      x: parseFloat(coords[0]),\n      y: parseFloat(coords[1]),\n      z: parseFloat(coords[2])\n    };\n  });\n\n  return wcs;\n}\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_help = cmd_help;\n/**\n* Get command help list.\n*\n* ### on success\n* ```\n* return \"List of command help. One by line.\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#1124\n*/\nfunction cmd_help(raw, args) {\n  return raw.trim();\n}\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_ls = cmd_ls;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Parse `ls` command response.\n*\n* ### on success\n* - If the `-s` parameter is not provided, the size is set to 0.\n* - The size is also set to 0 on directories.\n* ```\n* return [\n*   {\"extension\":\"\",\"name\":\"project1\",\"path\":\"/sd/project1\",\"parent\":\"/sd\",\"type\":\"folder\",\"size\":0},\n*   {\"extension\":\".cur\",\"name\":\"firmware.cur\",\"path\":\"/sd/firmware.cur\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":368144},\n*   {\"extension\":\"\",\"name\":\"config\",\"path\":\"/sd/config\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":29417},\n*   {\"extension\":\".gcode\",\"name\":\"file1.gcode\",\"path\":\"/sd/file1.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":1914257},\n*   {\"extension\":\".gcode\",\"name\":\"file2.gcode\",\"path\":\"/sd/file2.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":0},\n*   {\"extension\":\".gcode\",\"name\":\"file3.gcode\",\"path\":\"/sd/file3.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":1062811}\n* ]\n* ```\n* ### on error\n* ```\n* return Error: 'Could not open \"xxx\" directory.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Array|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L284\n*/\nfunction cmd_ls(raw, args) {\n  // size flag\n  var size = args[0] === '-s';\n\n  size && args.shift();\n\n  // extract and normalize path\n  var path = (0, _util.normalizePath)(args[0] || '');\n\n  // raw response\n  raw = raw.trim();\n\n  // file not found\n  if (raw.startsWith('Could not open directory')) {\n    return new Error('Could not open \"' + path + '\" directory.');\n  }\n\n  // excluded files\n  var excludes = [\"system volume information/\"];\n\n  // split lines\n  var lines = raw.split('\\n');\n  var info = null;\n\n  // empty files list\n  var files = [];\n  var file = null;\n  var isDir = false;\n\n  var extension = void 0;\n  var rootPath = path !== '/' ? path : '';\n\n  // for each lines (file)\n  lines.forEach(function (line) {\n    // remove trailing spaces\n    line = line.trim();\n\n    if (!excludes.includes(line)) {\n      // extract file/directory info (name/size)\n      info = line.trim().match(/^([a-z0-9_\\-\\.]+) ?(\\/| [0-9]+)?$/, 'gi');\n\n      if (!info) {\n        return new Error('Unknown response string.');\n      }\n\n      // is directory ?\n      isDir = info[2] === '/';\n\n      extension = '';\n\n      if (info[1].includes('.')) {\n        extension = '.' + info[1].split('.').pop();\n      }\n\n      // set file info\n      files.push({\n        name: info[1],\n        extension: extension,\n        parent: rootPath.length ? rootPath : '/',\n        path: rootPath + '/' + info[1],\n        type: isDir ? 'folder' : 'file',\n        size: isDir ? 0 : parseInt(info[2] || 0)\n      });\n    }\n  });\n\n  return files;\n}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_md5sum = cmd_md5sum;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Get md5 sum of the given file.\n*\n* ### on success\n* ```\n* return {\n*   \"md5\" : \"335a4ebbaa1bc6b81cc94fd6e7209ec2\",\n*   \"file\": \"/sd/config\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'File \"xxx\" not found.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L358\n*/\nfunction cmd_md5sum(raw, args) {\n  raw = raw.trim();\n\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.startsWith('File not found')) {\n    return new Error('File \"' + source + '\" not found.');\n  }\n\n  var parts = raw.split(' ');\n\n  return {\n    md5: parts[0].trim(),\n    file: parts[1].trim()\n  };\n}\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.cmd_mem = cmd_mem;\n/**\n* Get informations about memory usage.\n*\n* ### on success\n* ```\n* return {\n*   \"BLOCK_SIZE\"    : 100\n*   \"UNUSED_HEAP\"   : 8344,\n*   \"USED_HEAP_SIZE\": 18008,\n*   \"FREE\"          : 2572,\n*   \"ALLOCATED\"     : 14348,\n*   \"TOTAL_FREE_RAM\": 10916,\n*   \"AHB0\": {\n*     \"free\"  : 13652,\n*     \"total\" : 15184, // verbose mode only\n*     \"used\"  : 1532,  // verbose mode only\n*     \"chunks\": [      // verbose mode only\n*        {\n*         \"address\": \"0x2007c4b0\",\n*         \"offset\": 0,\n*         \"bytes\": 268,\n*         \"free\": false\n*        }\n*     //, ...\n*     ]\n*   },\n*   \"AHB1\": {\n*     \"free\"  : 10440,\n*     \"total\" : 10440, // verbose mode only\n*     \"used\"  : 0      // verbose mode only\n*     \"chunks\": [...]  // verbose mode only\n*   },\n*   \"CHUNKS\": [ // verbose mode only\n*     {\n*       \"address\": \"0x10000CF8\",\n*       \"bytes\"  : 32,\n*       \"free\"   : false\n*     }\n*     //, ...\n*   ]\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#578\n*/\nfunction cmd_mem(raw, args) {\n  // trim raw response\n  raw = raw.trim();\n\n  // verbose mode\n  var verbose = args[0] === '-v';\n\n  // // Split on new line\n  var lines = raw.split(/[\\r\\n|\\r|\\n]+/gm);\n\n  var memory = {};\n\n  if (verbose) {\n    memory.CHUNKS = [];\n  }\n\n  var setValue = function setValue(line) {\n    var _line$split = line.split(': '),\n        _line$split2 = _slicedToArray(_line$split, 2),\n        key = _line$split2[0],\n        value = _line$split2[1];\n\n    var bytes = parseInt(value.trim().replace(/ bytes$/, ''));\n\n    key = key.trim().replace(/ +/gm, '_').toUpperCase();\n\n    if (key === 'FREE_AHB0') {\n      key = 'AHB0';\n    }\n\n    if (key.startsWith('AHB')) {\n      memory[key] = { free: bytes };\n    } else {\n      memory[key] = bytes;\n    }\n  };\n\n  var target = null;\n\n  lines.forEach(function (line) {\n    line = line.trim();\n\n    if (line.startsWith('Allocated') || line.startsWith('Free AHB0')) {\n      line = line.split(', ');\n      setValue(line[1]);\n      line = line[0];\n    }\n\n    if (verbose && line.startsWith('Chunk:')) {\n      // [\"Chunk: 7\", \"Address: 0x10001028\", \"Size: 20\", \"\"]\n      var chunk = line.split('  ');\n\n      memory.CHUNKS.push({\n        address: chunk[1].split(': ')[1],\n        bytes: parseInt(chunk[2].split(': ')[1]),\n        free: chunk[3] !== undefined\n      });\n    } else if (verbose && line.startsWith('Start:')) {\n      target = memory['AHB' + (target === null ? '0' : '1')];\n      target.chunks = [];\n    } else if (verbose && line.startsWith('Chunk at')) {\n      // \"Chunk at 0x2007c8a8 (+1016): used, 516 bytes\"\n      // \"Chunk at 0x2007caac (+1532): free, 13652 bytes\"\n      var _chunk = line.match(/^Chunk at ([0-9a-zA-Z]+) \\( *\\+([0-9]+)\\): (free|used), ([0-9]+) bytes$/);\n\n      target.chunks.push({\n        address: _chunk[1],\n        offset: parseInt(_chunk[2]),\n        bytes: parseInt(_chunk[4]),\n        free: _chunk[3] === 'free'\n      });\n    } else if (verbose && line.startsWith('End:')) {\n      // total 10440b, free: 10440b\n      var end = line.match(/^End: total ([0-9]+)b, free: ([0-9]+)b$/);\n      target.total = parseInt(end[1]);\n      target.used = target.total - target.free;\n    } else {\n      setValue(line);\n    }\n  });\n\n  return memory;\n}\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_mv = cmd_mv;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Move a file.\n*\n* ### on success\n* ```\n* return {\n*   source: '/sd/source.gcode',\n*   target: '/sd/target.gcode'\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Could not move \"xxx\" to \"yyy\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L339\n*/\nfunction cmd_mv(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  var source = (0, _util.normalizePath)(args[0] || '');\n  var target = (0, _util.normalizePath)(args[1] || '');\n\n  // file not found\n  if (raw.startsWith('Could not rename')) {\n    return new Error('Could not move \"' + source + '\" to \"' + target + '\".');\n  }\n\n  return { source: source, target: target };\n}\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_net = cmd_net;\n/**\n* Get network config.\n*\n* ### on success\n* ```\n* return {\n*   \"ip\"     : \"192.168.1.102\",\n*   \"gateway\": \"192.168.1.1\",\n*   \"mask\"   : \"255.255.255.0\",\n*   \"mac\"    : \"00:00:00:00:00:00\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#616\n*/\nfunction cmd_net(raw, args) {\n  var matches = raw.trim().match(/IP Addr:([^\\n]+)\\nIP GW:([^\\n]+)\\nIP mask:([^\\n]+)\\nMAC Address:([^\\n]+)/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  return {\n    ip: matches[1].trim(),\n    gateway: matches[2].trim(),\n    mask: matches[3].trim(),\n    mac: matches[4].trim()\n  };\n}\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_ok = cmd_ok;\n/**\n* Parse `ok` command response.\n*\n* ### on success\n* ```\n* return \"ok\"\n* ```\n* ### on error\n* ```\n* return Error: 'ko'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L272\n*/\nfunction cmd_ok(raw, args) {\n  if (raw.trim() === 'ok') {\n    return 'ok';\n  }\n\n  return new Error('ko');\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_play = cmd_play;\n\nvar _util = __webpack_require__(0);\n\n/**\r\n* Parse `play` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return {\r\n*   file: \"/sd/my_file.gcode\",\r\n*   size: 8600 // or null if not computable\r\n* }\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'File \"xxx\" not found.'\r\n* return Error: 'Currently printing, abort print first.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {Object|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L267\r\n*/\nfunction cmd_play(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  // file file\n  var file = (0, _util.normalizePath)(args[0] || '');\n\n  if (raw.startsWith('File not found')) {\n    return new Error('File \"' + file + '\" not found.');\n  }\n\n  if (raw.startsWith('Currently printing')) {\n    return new Error('Currently printing, abort print first.');\n  }\n\n  if (!raw.startsWith('Playing')) {\n    return new Error('Unknown response string.');\n  }\n\n  var lines = raw.split('\\n');\n  var size = parseInt(lines[1].trim().split(' ').pop());\n\n  return { file: file, size: size };\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_progress = cmd_progress;\n/**\r\n* Parse `progress` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return {\r\n*   \"paused\"   : false,\r\n*   \"file\"     : \"/sd/file.gcode\",\r\n*   \"complete\" : 85, // percent\r\n*   \"elapsed\"  : \"00:13:43\",\r\n*   \"estimated\": \"00:02:14\" // undefined if elapsed <= 10 seconds\r\n* }\r\n*\r\n* // or if paused\r\n* return {\r\n*   \"paused\": true,\r\n*   \"played\": 150,\r\n*   \"total\" : 380\r\n* }\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Not currently playing.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {Object|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L315\r\n*/\nfunction cmd_progress(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  if (raw.startsWith('Not currently playing')) {\n    return new Error('Not currently playing.');\n  }\n\n  if (raw.startsWith('SD print is paused at')) {\n    var _matches = raw.match(/SD print is paused at ([0-9]+)\\/([0-9]+)/);\n\n    if (!_matches) {\n      return new Error('Unknown response string.');\n    }\n\n    return {\n      paused: true,\n      played: parseInt(_matches[1]),\n      total: parseInt(_matches[2])\n    };\n  }\n\n  // file: /sd/skate.gcode, 27 % complete, elapsed time: 7 s\n  // file: /sd/skate.gcode, 27 % complete, elapsed time: 13 s, est time: 33 s\n\n  // Since -> https://github.com/Smoothieware/Smoothieware/commit/7f7d84293841e659d436b8f833e90d6f8cbdf281\n  // file: /sd/tag.gcode, 6 % complete, elapsed time: 00:01:42, est time: 00:25:23\n  var matches = raw.match(/file: ([^,]+), ([0-9]+) % complete, elapsed time: ([0-9\\:]+)(?: s)?(?:, est time: ([0-9\\:]+)( s)?)?/);\n\n  if (!matches) {\n    return new Error('Unknown response string.');\n  }\n\n  // https://github.com/Smoothieware/Smoothieware/commit/7f7d84293841e659d436b8f833e90d6f8cbdf281\n  var elapsed = matches[3];\n  var estimated = matches[4];\n\n  if (matches[5]) {\n    elapsed = timeFormat(elapsed);\n    estimated = timeFormat(estimated);\n  }\n\n  return {\n    paused: false,\n    file: matches[1],\n    complete: parseInt(matches[2]),\n    elapsed: elapsed,\n    estimated: estimated\n  };\n}\n\n// seconds -> 00:00:00\nfunction timeFormat(time) {\n  time = parseInt(time);\n  return [time / 3600, time % 3600 / 60, time % 60].join(':');\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_pwd = cmd_pwd;\n/**\n* Get current working directory.\n*\n* ### on success\n* ```\n* return \"/sd/folder\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L373\n*/\nfunction cmd_pwd(raw, args) {\n  return raw.trim();\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_remount = cmd_remount;\n/**\n* Remount SD card.\n*\n* ### on success\n* ```\n* return \"remounted\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#324\n*/\nfunction cmd_remount(raw, args) {\n  return raw.trim();\n}\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_reset = cmd_reset;\n/**\n* Reset the board.\n*\n* ### on success\n* ```\n* return \"Smoothie out. Peace. Rebooting in 5 seconds...\\r\\n\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L647\n*/\nfunction cmd_reset(raw, args) {\n  return raw.trim();\n}\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_resume = cmd_resume;\n/**\n* Parse `resume` command response.\n*\n* ### on success\n* ```\n* return [\n*   \"Restoring saved XYZ positions and state...\",\n*   \"Resuming print\",\n*   ...\n* ]\n* ```\n* ### on error\n* ```\n* return Error: 'Not suspended.'\n* return Error: 'Resume aborted by kill.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L594\n*/\nfunction cmd_resume(raw, args) {\n  raw = raw.trim();\n\n  if (raw.startsWith('Not suspended')) {\n    return new Error('Not suspended.');\n  }\n\n  if (!raw.startsWith('resuming print...')) {\n    return new Error('Unknown response string.');\n  }\n\n  if (raw.indexOf('Resume aborted by kill') !== -1) {\n    return new Error('Resume aborted by kill.');\n  }\n\n  var lines = raw.split('\\n').map(function (line) {\n    return line.trim();\n  });\n\n  lines.shift();\n\n  return lines;\n}\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_rm = cmd_rm;\n\nvar _util = __webpack_require__(0);\n\n/**\n* Remove a file.\n*\n* ### on success\n* ```\n* return \"/sd/removed_file.gcode\"\n* ```\n* ### on error\n* ```\n* return Error: 'Could not remove \"xxx\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L331\n*/\nfunction cmd_rm(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  var source = (0, _util.normalizePath)(args[0] || '');\n\n  // file not found\n  if (raw.startsWith('Could not delete')) {\n    return new Error('Could not remove \"' + source + '\".');\n  }\n\n  return source;\n}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_set_temp = cmd_set_temp;\n/**\n* Set temperature.\n*\n* - set_temp [bed|hotend]\n*\n* ### on success\n* ```\n* return {\n*   \"device\": \"bed\",\n*   \"target\": 180\n* }\n* ```\n* ### on error\n* ```\n* return Error: '\"xxx\" is not a known temperature device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#857\n*/\nfunction cmd_set_temp(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  // device\n  var device = (args.shift() || '').toLowerCase();\n\n  // error\n  if (raw.endsWith('is not a known temperature device')) {\n    return new Error('\"' + device + '\" is not a known temperature device.');\n  }\n\n  // new temperature\n  var target = parseInt(args.shift() || 0);\n\n  return { device: device, target: target };\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_suspend = cmd_suspend;\n/**\r\n* Parse `suspend` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return 'Suspending print, waiting for queue to empty...'\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Already suspended.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {String|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L359\r\n*/\nfunction cmd_suspend(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  if (raw.startsWith('Already suspended')) {\n    return new Error('Already suspended.');\n  }\n\n  if (!raw.startsWith('Suspending print')) {\n    return new Error('Unknown response string.');\n  }\n\n  return 'Suspending print, waiting for queue to empty...';\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_switch = cmd_switch;\n/**\n* Switch module.\n*\n* `switch fan on` or `switch fan 150`\n*\n* ### on success\n* ```\n* return {\n*   \"device\": \"fan\",\n*   \"value\" : \"on\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: '\"xxx\" is not a known switch device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L916\n*/\nfunction cmd_switch(raw, args) {\n  // raw response\n  raw = raw.trim();\n\n  // device\n  var device = args.shift() || '';\n\n  // error\n  if (raw.endsWith('is not a known switch device')) {\n    return new Error('\"' + device + '\" is not a known switch device.');\n  }\n\n  return { device: device, value: args.shift() || '' };\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_thermistors = cmd_thermistors;\n/**\n* Get the predefined thermistors.\n*\n* ### on success\n* ```\n* return {\n*   \"table\": {\n*     \"EPCOS100K\"    : 1,\n*     \"Vishay100K\"   : 2,\n*     \"Honeywell100K\": 3,\n*     \"Semitec\"      : 4,\n*     \"Honeywell-QAD\": 5\n*   },\n*   \"beta\": {\n*     \"EPCOS100K\"    : 129,\n*     \"RRRF100K\"     : 130,\n*     \"RRRF10K\"      : 131,\n*     \"Honeywell100K\": 132,\n*     \"Semitec\"      : 133,\n*     \"HT100K\"       : 134\n*   }\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L272\n*/\nfunction cmd_thermistors(raw, args) {\n  var lines = raw.trim().split('\\n');\n  var result = { table: {}, beta: {} };\n  var pointer = result.table;\n\n  var matches = void 0,\n      name = void 0,\n      value = void 0;\n\n  lines.shift(); // remove \"S/H table\"\n\n  lines.forEach(function (line) {\n    line = line.trim();\n\n    if (line.startsWith('Beta table')) {\n      pointer = result.beta;\n    } else {\n      matches = line.match(/^([0-9]+) - (.*)/);\n\n      if (!matches) {\n        return new Error('Unknown response string.');\n      }\n\n      name = matches[2].trim();\n      value = parseFloat(matches[1].trim());\n\n      pointer[name] = value;\n    }\n  });\n\n  return result;\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cmd_version = cmd_version;\n/**\n* Parse version command response.\n*\n* ### on success\n* ```\n* return {\n*   branch: \"edge\",\n*   hash  : \"9ab4538\",\n*   date  : \"Oct 10 2016 04:09:42\",\n*   mcu   : \"LPC1769\",\n*   clock : \"120MHz\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n*/\nfunction cmd_version(raw, args) {\n  // version pattern\n  var pattern = /Build version: (.*), Build date: (.*), MCU: (.*), System Clock: (.*)/;\n\n  // test the pattern\n  var info = raw.trim().match(pattern);\n\n  if (info) {\n    // split branch-hash on dash\n    var branch = info[1].split('-');\n\n    // resolve\n    return {\n      branch: branch[0].trim(),\n      hash: branch[1].trim(),\n      date: info[2].trim(),\n      mcu: info[3].trim(),\n      clock: info[4].trim()\n    };\n  }\n\n  // reject\n  return new Error('Unknown response string');\n}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BoardFile = exports.BoardFolder = exports.BoardFileTree = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Board file class.\n*/\nvar BoardFile =\n/**\n* @param {Object} file File object from `ls -s` command.\n*/\nfunction BoardFile(file) {\n  _classCallCheck(this, BoardFile);\n\n  /**\n  * Parent folder path `/sd/my_folder`.\n  * @type {String}\n  */\n  this.parent = file.parent;\n\n  /**\n  * File size (bytes).\n  * @type {Integer}\n  */\n  this.size = file.size;\n\n  /**\n  * File path `/sd/my_folder/my_file.ext`.\n  * @type {String}\n  */\n  this.path = file.path;\n\n  /**\n  * File name with extension `my_file.ext`.\n  * @type {String}\n  */\n  this.name = file.name;\n\n  /**\n  * File extension with starting dot `.gcode`.\n  * @type {String}\n  */\n  this.extension = file.extension;\n};\n\n/**\n* Board folder class.\n*/\n\n\nvar BoardFolder =\n/**\n* @param {Object} folder Folder object from `ls -s` command.\n*/\nfunction BoardFolder(folder) {\n  _classCallCheck(this, BoardFolder);\n\n  /**\n  * Parent folder path `/sd`.\n  * @type {String}\n  */\n  this.parent = file.parent;\n\n  /**\n  * Folder size (bytes).\n  * @type {Integer}\n  */\n  this.size = file.size;\n\n  /**\n  * Folder path `/sd/my_folder`.\n  * @type {String}\n  */\n  this.path = file.path;\n\n  /**\n  * Folder name `my_folder`.\n  * @type {String}\n  */\n  this.name = file.name;\n};\n\n/**\n* Board file tree class.\n*/\n\n\nvar BoardFileTree = function () {\n  /**\n  * Constructor...\n  */\n  function BoardFileTree() {\n    _classCallCheck(this, BoardFileTree);\n\n    /**\n    * Flat file tree.\n    * @type {Map}\n    */\n    this.tree = new Map();\n\n    /**\n    * File tree size (bytes).\n    * @type {Integer}\n    */\n    this.size = 0;\n  }\n\n  /**\n  * Make and return a child object.\n  *\n  * @param  {Object} child Child object from `ls -s` command.\n  * @return {BoardFile|BoardFolder}\n  * @protected\n  */\n\n\n  _createClass(BoardFileTree, [{\n    key: 'makeChild',\n    value: function makeChild(child) {\n      return child.type === 'file' ? new BoardFile(child) : new BoardFolder(child);\n    }\n\n    /**\n    * Update tree size.\n    *\n    * @param  {BoardFile|BoardFolder} child\n    * @param  {Integer} size\n    * @protected\n    */\n\n  }, {\n    key: 'updateSize',\n    value: function updateSize(child, size) {\n      this.size += size;\n\n      var parent = this.tree.get(child.parent);\n\n      while (parent) {\n        parent.size += size;\n        parent = this.tree.get(parent.parent);\n      }\n    }\n\n    /**\n    * Remove a child and all of his children.\n    *\n    * @param  {BoardFile|BoardFolder} child Child name or object to remove.\n    * @return {Integer|null} Number of child removed.\n    */\n\n  }, {\n    key: 'remove',\n    value: function remove(child) {\n      var path = child.path || (0, _util.normalizePath)(child);\n      var file = this.tree.get(path);\n\n      if (!file) {\n        return null;\n      }\n\n      var removed = 1;\n\n      this.tree.delete(file.path);\n      this.updateSize(file, -file.size);\n\n      if (file instanceof BoardFolder) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.tree.keys()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var childPath = _step.value;\n\n            if (childPath.startsWith(file.path + '/')) {\n              this.tree.delete(childPath);\n              removed++;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n\n      return removed;\n    }\n\n    /**\n    * Set a new child.\n    *\n    * @param {Object} child Child object from `ls -s` command.\n    */\n\n  }, {\n    key: 'set',\n    value: function set(child) {\n      var file = this.makeChild(child);\n\n      this.remove(file.path);\n      this.tree.set(file.path, file);\n      this.updateSize(file, file.size);\n    }\n\n    /**\n    * Return if child path exists.\n    *\n    * @param  {String} path\n    * @return {Boolean}\n    */\n\n  }, {\n    key: 'has',\n    value: function has(path) {\n      return this.tree.has((0, _util.normalizePath)(path));\n    }\n\n    /**\n    * Return a child from path if exists.\n    *\n    * @param  {String} path\n    * @return {BoardFile|BoardFolder|null}\n    */\n\n  }, {\n    key: 'get',\n    value: function get(path) {\n      return this.tree.get((0, _util.normalizePath)(path));\n    }\n\n    /**\n    * Return all children from path.\n    *\n    * @param  {String} path\n    * @return {Map}\n    */\n\n  }, {\n    key: 'list',\n    value: function list(path) {\n      var tree = new Map();\n\n      path = (0, _util.normalizePath)(path);\n\n      if (path !== '/') {\n        path += '/';\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.tree.keys()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var childPath = _step2.value;\n\n          if (childPath.startsWith(path)) {\n            tree.set(childPath, this.tree.get(childPath));\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return tree;\n    }\n  }]);\n\n  return BoardFileTree;\n}();\n\n// Exports\n\n\nexports.default = BoardFileTree;\nexports.BoardFileTree = BoardFileTree;\nexports.BoardFolder = BoardFolder;\nexports.BoardFile = BoardFile;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.boardCommands = exports.boardTopics = exports.Board = undefined;\n\nvar _board = __webpack_require__(8);\n\nvar _board2 = _interopRequireDefault(_board);\n\nvar _topics = __webpack_require__(1);\n\nvar _topics2 = _interopRequireDefault(_topics);\n\nvar _commands = __webpack_require__(3);\n\nvar boardCommands = _interopRequireWildcard(_commands);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _board2.default;\nexports.Board = _board2.default;\nexports.boardTopics = _topics2.default;\nexports.boardCommands = boardCommands;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Board info.\n*/\nvar BoardInfo =\n/**\n* @param {Object} info Object from the `version` command.\n*/\nfunction BoardInfo(info) {\n  _classCallCheck(this, BoardInfo);\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.branch = null;\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.hash = null;\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.date = null;\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.mcu = null;\n\n  /**\n  * @type {String}\n  * @protected\n  */\n  this.clock = null;\n\n  // merge info object\n  Object.assign(this, info);\n};\n\n// Exports\n\n\nexports.default = BoardInfo;\nexports.BoardInfo = BoardInfo;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\r\n* Defaults board settings.\r\n* @type     {Object<String, Mixed>}\r\n* @property {String}   address                       IP or hostname without protocol prefix.\r\n* @property {Object}   request                       Request settings, see {@link src/request/settings.js~requestSettings} for defaults keys/values.\r\n* @property {Integer}  [request.timeout      = 0]    Timeout for this request in milliseconds.\r\n* @property {Integer}  [request.maxAttempts  = 3]    Maximum number of attemps before rejection.\r\n* @property {Integer}  [request.attemptDelay = 1000] Delay in milliseconds between two attemps.\r\n* @property {Function} [request.filters.status]      Default to 200 OK `function(s) { return s === 200 }`.\r\n*/\nvar boardSettings = {\n  address: undefined,\n  request: {\n    timeout: 0,\n    maxAttempts: 3,\n    attemptDelay: 1000,\n    filters: { status: function status(_status) {\n        return _status === 200;\n      } }\n  }\n};\n\nexports.default = boardSettings;\nexports.boardSettings = boardSettings;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* @external {ProgressEvent} https://developer.mozilla.org/fr/docs/Web/API/ProgressEvent\n*/\n\n/**\n* Request event.\n*/\nvar RequestEvent =\n/**\n* @param {String}        type    Event type, see {@link src/request/event/types.js} for possible values.\n* @param {ProgressEvent} event   Original progress event.\n* @param {Request}       request Request instance.\n* @param {RequestProgressPayload|RequestResponsePayload|RequestAttemptPayload|Error}\n*                        payload Request payload.\n*/\nfunction RequestEvent(type, event, request) {\n  var payload = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  _classCallCheck(this, RequestEvent);\n\n  /**\n  * Event type, see {@link src/request/event/types.js} for possible values.\n  * @type {String}\n  * @protected\n  */\n  this.type = type;\n\n  /**\n  * Original progress event.\n  * @type {ProgressEvent}\n  * @protected\n  */\n  this.event = event;\n\n  /**\n  * Request instance.\n  * @type {Request}\n  * @protected\n  */\n  this.request = request;\n\n  /**\n  * Event payload.\n  * @type {RequestProgressPayload|RequestResponsePayload|RequestAttemptPayload|Error}\n  * @protected\n  */\n  this.payload = payload;\n};\n\n// Exports\n\n\nexports.default = RequestEvent;\nexports.RequestEvent = RequestEvent;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Attempt payload.\n*/\nvar RequestAttemptPayload =\n/**\n* @param {Request} request\n*/\nfunction RequestAttemptPayload(request) {\n  _classCallCheck(this, RequestAttemptPayload);\n\n  /**\n  * Number of executed attempts.\n  * @type {Integer}\n  * @protected\n  */\n  this.done = request.attempts;\n\n  /**\n  * Attempts number.\n  * @type {Integer}\n  * @protected\n  */\n  this.num = this.done + 1;\n\n  /**\n  * Maximum number of attempts.\n  * @type {Integer}\n  * @protected\n  */\n  this.max = request.settings.maxAttempts;\n\n  /**\n  * Delay between two attempt.\n  * @type {Integer}\n  * @protected\n  */\n  this.delay = request.settings.attemptDelay;\n};\n\n// Exports\n\n\nexports.default = RequestAttemptPayload;\nexports.RequestAttemptPayload = RequestAttemptPayload;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Progression payload.\n*/\nvar RequestProgressPayload =\n/**\n* @param {ProgressEvent} event Original progress event.\n*/\nfunction RequestProgressPayload(event) {\n  _classCallCheck(this, RequestProgressPayload);\n\n  /**\n  * Total bytes.\n  * @type {Integer}\n  * @protected\n  */\n  this.total = event.total || 0;\n\n  /**\n  * Loaded bytes.\n  * @type {Integer}\n  * @protected\n  */\n  this.loaded = event.loaded || 0;\n\n  /**\n  * Is computable.\n  * @type {Boolean}\n  * @protected\n  */\n  this.computable = event.lengthComputable;\n\n  /**\n  * Loaded percent.\n  * @type {Integer}\n  * @protected\n  */\n  this.percent = this.computable ? parseInt(this.loaded / this.total * 100) : 0;\n};\n\n// Exports\n\n\nexports.default = RequestProgressPayload;\nexports.RequestProgressPayload = RequestProgressPayload;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* Response payload.\n*/\nvar RequestResponsePayload =\n/**\n* @param {XMLHttpRequest} xhr    An `XMLHttpRequest` instance.\n* @param {Function}       filter Response filter.\n*/\nfunction RequestResponsePayload(xhr) {\n  var filter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  _classCallCheck(this, RequestResponsePayload);\n\n  /**\n  * Response status code.\n  * @type {Integer}\n  * @protected\n  */\n  this.status = xhr.status;\n\n  /**\n  * Respons status text.\n  * @type {String}\n  * @protected\n  */\n  this.message = xhr.statusText;\n\n  /**\n  * Response data.\n  * @type {Mixed}\n  * @protected\n  */\n  this.data = xhr.response;\n\n  if (typeof filter === 'function') {\n    this.data = filter(this.data);\n  }\n};\n\n// Exports\n\n\nexports.default = RequestResponsePayload;\nexports.RequestResponsePayload = RequestResponsePayload;\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Request = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _v = __webpack_require__(6);\n\nvar _v2 = _interopRequireDefault(_v);\n\nvar _settings = __webpack_require__(51);\n\nvar _settings2 = _interopRequireDefault(_settings);\n\nvar _types = __webpack_require__(2);\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _request = __webpack_require__(46);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _progress = __webpack_require__(48);\n\nvar _progress2 = _interopRequireDefault(_progress);\n\nvar _response = __webpack_require__(49);\n\nvar _response2 = _interopRequireDefault(_response);\n\nvar _attempt = __webpack_require__(47);\n\nvar _attempt2 = _interopRequireDefault(_attempt);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n* `XMLHttpRequest` wrapper with `Promise` logic.\n*\n* @example\n* function on(event) {\n*   console.info('on:', event.type, event);\n* }\n*\n* new Request({\n*   url   : 'http://192.168.1.102/command',\n*   method: 'POST',\n*   data  : 'version\\n',\n*   on    : {\n*     'retry'            : on,\n*     'retry.send'       : on,\n*     'retry.limit'      : on,\n*\n*     'download.load'    : on,\n*     'download.error'   : on,\n*     'download.abort'   : on,\n*     'download.timeout' : on,\n*     'download.progress': on,\n*\n*     'upload.load'      : on,\n*     'upload.error'     : on,\n*     'upload.abort'     : on,\n*     'upload.timeout'   : on,\n*     'upload.progress'  : on\n*   },\n*   filters: {\n*     status  : status => status === 200,\n*     response: response => JSON.stringify(response)\n*   }\n* })\n* .send()\n* .then(event => {\n*   console.info('then:', event);\n* })\n* .catch(event => {\n*   console.error('catch:', event);\n* });\n*\n* @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n* @see https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\n*/\nvar Request = function () {\n  _createClass(Request, null, [{\n    key: 'encodeData',\n\n    /**\n    * Encode data object to uri string `key_1=value_1&key_2=value_2`.\n    *\n    * @param  {Object<String, String>} data\n    * @return {String}\n    */\n    value: function encodeData(data) {\n      // no data\n      if (data) {\n        // stringify data object\n        if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n          data = Object.keys(data).map(function (key) {\n            return encodeURIComponent(key) + '=' + encodeURIComponent(data[key]);\n          }).join('&');\n        }\n\n        // remove the first char if it is an '?'\n        if (data.startsWith('?')) {\n          data = data.substr(1);\n        }\n      }\n\n      return data;\n    }\n\n    /**\n    * Join data to url.\n    *\n    * @param  {String}                        url\n    * @param  {String|Object<String, String>} data\n    * @return {String}\n    */\n\n  }, {\n    key: 'joinUrlData',\n    value: function joinUrlData(url, data) {\n      return url + (url.indexOf('?') === -1 ? '?' : '&') + Request.encodeData(data);\n    }\n\n    /**\n    * @param {Object} settings See {@link src/request/settings.js~requestSettings} for defaults keys/values.\n    */\n\n  }]);\n\n  function Request() {\n    var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Request);\n\n    /**\n    * Request settings, see {@link src/request/settings.js~requestSettings} for defaults keys/values.\n    * @type {Object}\n    * @protected\n    */\n    this.settings = Object.assign({}, _settings2.default, settings);\n\n    /**\n    * Unique identifier (uuid/v4).\n    * @type {String}\n    * @protected\n    */\n    this.uuid = (0, _v2.default)();\n\n    /**\n    * Creation time.\n    * @type {Integer}\n    * @protected\n    */\n    this.time = Date.now();\n\n    /**\n    * Send time.\n    * @type {Integer}\n    * @protected\n    */\n    this.sendTime = null;\n\n    /**\n    * Elapsed time.\n    * @type {Integer}\n    * @protected\n    */\n    this.elapsedTime = null;\n\n    /**\n    * Number of attempts.\n    * @type {Integer}\n    * @protected\n    */\n    this.attempts = 0;\n\n    /**\n    * `XMLHttpRequest` instance.\n    * @type {XMLHttpRequest}\n    * @protected\n    */\n    this.xhr = null;\n\n    /**\n    * Aborted flag.\n    * @type {Boolean}\n    * @protected\n    */\n    this.aborted = false;\n  }\n\n  /**\n  * Trigger an user defined event.\n  *\n  * @throws {Error}\n  */\n\n\n  _createClass(Request, [{\n    key: '_triggerEvent',\n    value: function _triggerEvent(event) {\n      if (typeof this.settings.on[event.type] === 'function') {\n        this.settings.on[event.type](event);\n      }\n    }\n\n    /**\n    * Send the request and return a Promise.\n    *\n    * @return {Promise<RequestEvent>}\n    * @throws {Error}\n    */\n\n  }, {\n    key: '_send',\n    value: function _send() {\n      var _this = this;\n\n      // prevent calling twice\n      if (this.xhr) {\n        throw new Error('You can not send the same request twice.');\n      }\n\n      // increment attempts counter\n      this.attempts++;\n\n      // set send time\n      this.sendTime = Date.now();\n\n      // local settings\n      var settings = Object.assign({}, this.settings);\n\n      // normalize settings\n      settings.url = settings.url.trim();\n      settings.method = settings.method.toUpperCase();\n      settings.data = Request.encodeData(settings.data);\n\n      if (settings.method !== 'POST' && settings.data) {\n        // append data to uri and reset data\n        settings.url = Request.joinUrlData(settings.url, settings.data);\n        settings.data = null;\n      }\n\n      // wrap the request in promise\n      return new Promise(function (resolve, reject) {\n        // create http request object\n        _this.xhr = new XMLHttpRequest();\n\n        // override mime type\n        _this.xhr.overrideMimeType(settings.mimeType);\n\n        // open async request\n        _this.xhr.open(settings.method, settings.url, true);\n\n        // status\n        var rejected = false;\n\n        // create, trigger and return an RequestEvent\n        var createEvent = function createEvent(type, event) {\n          var payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n          var requestEvent = new _request2.default(type, event, _this, payload);\n          !rejected && _this._triggerEvent(requestEvent);\n          return requestEvent;\n        };\n\n        // on abort, error, timeout\n        var _reject = function _reject(type, event, error) {\n          _this.elapsedTime = Date.now() - _this.sendTime;\n          reject(createEvent(type, event, error instanceof Error ? error : new Error(error)));\n          rejected = true;\n        };\n\n        var onAbort = function onAbort(type, event) {\n          _this.aborted = true;\n          _reject(type, event, 'Connection aborted.');\n        };\n\n        var onError = function onError(type, event) {\n          _reject(type, event, 'Unknown network error.');\n        };\n\n        var onTimeout = function onTimeout(type, event) {\n          _reject(type, event, 'Connection timed out (>' + settings.timeout + 'ms).');\n        };\n\n        // on progress\n        var onProgress = function onProgress(type, event) {\n          createEvent(type, event, new _progress2.default(event));\n        };\n\n        // on load\n        var onLoad = function onLoad(type, event) {\n          // check status\n          var status = _this.xhr.status;\n\n          if (!status) {\n            return _reject(_types2.default.DOWNLOAD_ERROR, event, 'Unknown HTTP error.');\n          }\n\n          // let user check the status\n          if (typeof settings.filters.status === 'function') {\n            status = settings.filters.status(status);\n          }\n\n          if (!status) {\n            return _reject(type, event, _this.xhr.status + ' ' + _this.xhr.statusText);\n          }\n\n          // response payload\n          var payload = void 0;\n\n          try {\n            // catch filter error\n            payload = new _response2.default(_this.xhr, settings.filters.response);\n          } catch (error) {\n            return _reject(type, event, error);\n          }\n\n          // set elapsed time\n          _this.elapsedTime = Date.now() - _this.sendTime;\n\n          // resolve the promise\n          resolve(createEvent(type, event, payload));\n        };\n\n        var onUploaLoad = function onUploaLoad(type, event) {\n          createEvent(type, event, settings.data);\n        };\n\n        // download events\n        _this.xhr.onload = function (event) {\n          return onLoad(_types2.default.DOWNLOAD_LOAD, event);\n        };\n        _this.xhr.onabort = function (event) {\n          return onAbort(_types2.default.DOWNLOAD_ABORT, event);\n        };\n        _this.xhr.onerror = function (event) {\n          return onError(_types2.default.DOWNLOAD_ERROR, event);\n        };\n        _this.xhr.ontimeout = function (event) {\n          return onTimeout(_types2.default.DOWNLOAD_TIMEOUT, event);\n        };\n        _this.xhr.onprogress = function (event) {\n          return onProgress(_types2.default.DOWNLOAD_PROGRESS, event);\n        };\n\n        // upload events\n        _this.xhr.upload.onload = function (event) {\n          return onProgress(_types2.default.UPLOAD_LOAD, event);\n        };\n        _this.xhr.upload.onabort = function (event) {\n          return onAbort(_types2.default.UPLOAD_ABORT, event);\n        };\n        _this.xhr.upload.onerror = function (event) {\n          return onError(_types2.default.UPLOAD_ERROR, event);\n        };\n        _this.xhr.upload.ontimeout = function (event) {\n          return onTimeout(_types2.default.UPLOAD_TIMEOUT, event);\n        };\n        _this.xhr.upload.onprogress = function (event) {\n          return onProgress(_types2.default.UPLOAD_PROGRESS, event);\n        };\n\n        // set request headers\n        if (settings.headers) {\n          for (var header in settings.headers) {\n            _this.xhr.setRequestHeader(header, settings.headers[header]);\n          }\n        }\n\n        // set request timeout\n        _this.xhr.timeout = settings.timeout;\n\n        // send the request\n        _this.xhr.send(settings.data);\n\n        // dirty hack ...\n        if (_this.aborted) {\n          _this.xhr.abort();\n        }\n      });\n    }\n\n    /**\n    * Send the request and return a Promise.\n    *\n    * @return {Promise<RequestEvent>}\n    */\n\n  }, {\n    key: 'send',\n    value: function send() {\n      var _this2 = this;\n\n      return this._send().catch(function (event) {\n        // trigger user callback\n        var triggerEvent = function triggerEvent(type, event) {\n          return _this2._triggerEvent(new _request2.default(type, event.event, _this2, new _attempt2.default(_this2)));\n        };\n\n        // retry on timeout error if attempts limit is not reached\n        if (event.type.endsWith('timeout') || event.type.endsWith('error') && event.payload.message.startsWith('Unknown network error')) {\n          if (_this2.attempts < _this2.settings.maxAttempts) {\n            // call user callback\n            triggerEvent(_types2.default.BEFORE_RETRY, event);\n\n            // delayed retry\n            return new Promise(function (resolve, reject) {\n              setTimeout(function () {\n                // reset xhr object\n                _this2.xhr = null;\n\n                // call user callback\n                triggerEvent(_types2.default.RETRY, event);\n\n                // (re)send the request\n                return _this2.send().then(resolve).catch(reject);\n              }, _this2.settings.attemptDelay);\n            });\n          }\n\n          // call user callback\n          triggerEvent(_types2.default.RETRY_LIMIT, event);\n\n          var payload = new Error('Too many attempts (max: ' + _this2.attempts + ').');\n          event = new _request2.default(_types2.default.DOWNLOAD_ERROR, event.event, _this2, payload);\n        }\n\n        return Promise.reject(event);\n      });\n    }\n\n    /**\n    * Abort the this.\n    */\n\n  }, {\n    key: 'abort',\n    value: function abort() {\n      this.aborted = true;\n      this.xhr && this.xhr.abort();\n    }\n  }]);\n\n  return Request;\n}();\n\nexports.default = Request;\nexports.Request = Request;\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n* Defaults request settings.\n* @type     {Object<String, Mixed>}\n* @property {String}   [url = '/']               Absolute or relative URL.\n* @property {String}   [method = 'GET']         'GET', 'POST', 'DELETE', ...\n* @property {Mixed}    [data = null]             Data to send with the request.\n* @property {Object}   [headers = {}]            Headers to send with the request.\n* @property {Integer}  [timeout = 5000]          Timeout for this request in milliseconds.\n* @property {Integer}  [maxAttempts = 5]         Maximum number of attemps before rejection.\n* @property {Integer}  [attemptDelay = 5000]     Delay in milliseconds between two attemps.\n* @property {String}   [mimeType = 'text/plain'] Expected response mime type.\n* @property {Object}   [on = {}]                 Collection of function that takes as single parameter an {@link RequestEvent} instance.\n*                                                Ex.: `{ 'download.load': event => { }, 'upload.progress': event => { } }`\n*                                                See {@link src/request/event/types.js} for possible values.\n* @property {Object}   [filters = {}]            Collection of filter functions.\n* @property {Function} [filters.status]          A function that takes as single parameter the request status code and return an boolean to resolve/reject the request.\n* @property {Function} [filters.response]        A function that takes as single parameter the request response and return a new version or throw an {@link Error} to reject the {@link Promise}.\n*/\nvar requestSettings = {\n  url: '/',\n  method: 'GET',\n  data: null,\n  headers: {},\n  timeout: 1000,\n  maxAttempts: 5,\n  attemptDelay: 0,\n  mimeType: 'text/plain',\n  filters: {},\n  on: {}\n};\n\nexports.default = requestSettings;\nexports.requestSettings = requestSettings;\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(54)))\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(7);\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// smoothie-happy.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 55);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 02a6fe472c4ff02fd89a","/**\n* Return normalized path `sd/My///File.ext/   ` => `/sd/my/file.ext`.\n*\n* @param  {String} path\n* @return {String}\n*/\nexport function normalizePath(path) {\n  return '/' + path.trim()\n  .replace(/\\/+/, '/')\n  .replace(/^\\/|\\/$/, '')\n  .toLowerCase()\n}\n\n/**\n* Return filename from path.\n*\n* @param  {String} path\n* @return {String}\n*/\nexport function filename(path) {\n  return path.split('/').pop()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/util.js","/**\n* Board topics.\n*\n* @type {Object<String, String>}\n*/\nconst boardTopics = {\n  INFO_UPDATE    : 'info.update',     // payload: {BoardInfo}\n  FILETREE_UPDATE: 'filetree.update', // payload: {BoardFileList}\n\n  STATE_ALARM: 'state.alarm', // payload: {null}\n  STATE_CLEAR: 'state.clear', // payload: {null}\n\n  COMMAND_QUEUE_ADD   : 'command.queue.add'   , // payload: {BoardCommand}\n  COMMAND_QUEUE_SEND  : 'command.queue.send'  , // payload: {BoardCommand}\n  COMMAND_QUEUE_EMPTY : 'command.queue.empty' , // payload: {null}\n  COMMAND_QUEUE_PAUSE : 'command.queue.pause' , // payload: {Board.commandQueue}\n  COMMAND_QUEUE_RESUME: 'command.queue.resume', // payload: {Board.commandQueue}\n  COMMAND_QUEUE_CLEAR : 'command.queue.clear' , // payload: {Board.commandQueue}\n\n  COMMAND_CREATE  : 'command.create',   // payload: {BoardCommand}\n  COMMAND_SEND    : 'command.send',     // payload: {BoardCommand}\n  COMMAND_ERROR   : 'command.error',    // payload: {RequestEvent}\n  COMMAND_RESPONSE: 'command.response', // payload: {RequestEvent}\n\n  // COMMAND_XXX payload: {RequestEvent}\n  COMMAND_RETRY       : 'command.retry',       // on retry planned\n  COMMAND_RETRY_SEND  : 'command.retry.send',  // juste before retry\n  COMMAND_RETRY_LIMIT : 'command.retry.limit', // on too many attemps\n\n  COMMAND_DOWNLOAD_LOAD    : 'command.download.load',\n  COMMAND_DOWNLOAD_ABORT   : 'command.download.abort',\n  COMMAND_DOWNLOAD_ERROR   : 'command.download.error',\n  COMMAND_DOWNLOAD_TIMEOUT : 'command.download.timeout',\n  COMMAND_DOWNLOAD_PROGRESS: 'command.download.progress',\n\n  COMMAND_UPLOAD_LOAD    : 'command.upload.load',\n  COMMAND_UPLOAD_ABORT   : 'command.upload.abort',\n  COMMAND_UPLOAD_ERROR   : 'command.upload.error',\n  COMMAND_UPLOAD_TIMEOUT : 'command.upload.timeout',\n  COMMAND_UPLOAD_PROGRESS: 'command.upload.progress',\n\n  // REQUEST_XXX payload: {RequestEvent}\n  REQUEST_RETRY       : 'request.retry',       // on retry planned\n  REQUEST_RETRY_SEND  : 'request.retry.send',  // juste before retry\n  REQUEST_RETRY_LIMIT : 'request.retry.limit', // on too many attemps\n\n  REQUEST_DOWNLOAD_LOAD    : 'request.download.load',\n  REQUEST_DOWNLOAD_ABORT   : 'request.download.abort',\n  REQUEST_DOWNLOAD_ERROR   : 'request.download.error',\n  REQUEST_DOWNLOAD_TIMEOUT : 'request.download.timeout',\n  REQUEST_DOWNLOAD_PROGRESS: 'request.download.progress',\n\n  REQUEST_UPLOAD_LOAD    : 'request.upload.load',\n  REQUEST_UPLOAD_ABORT   : 'request.upload.abort',\n  REQUEST_UPLOAD_ERROR   : 'request.upload.error',\n  REQUEST_UPLOAD_TIMEOUT : 'request.upload.timeout',\n  REQUEST_UPLOAD_PROGRESS: 'request.upload.progress'\n}\n\nexport default boardTopics\nexport { boardTopics }\n\n\n\n// WEBPACK FOOTER //\n// ./board/topics/index.js","/**\n* Request event types.\n*\n* @type {Object<String, String>}\n*/\nconst requestEventTypes = {\n  RETRY       : 'retry',       // on retry planned\n  RETRY_SEND  : 'retry.send',  // juste before retry\n  RETRY_LIMIT : 'retry.limit', // on too many attemps\n\n  DOWNLOAD_LOAD    : 'download.load',\n  DOWNLOAD_ABORT   : 'download.abort',\n  DOWNLOAD_ERROR   : 'download.error',\n  DOWNLOAD_TIMEOUT : 'download.timeout',\n  DOWNLOAD_PROGRESS: 'download.progress',\n\n  UPLOAD_LOAD    : 'upload.load',\n  UPLOAD_ABORT   : 'upload.abort',\n  UPLOAD_ERROR   : 'upload.error',\n  UPLOAD_TIMEOUT : 'upload.timeout',\n  UPLOAD_PROGRESS: 'upload.progress'\n}\n\nexport default requestEventTypes\nexport { requestEventTypes }\n\n\n\n// WEBPACK FOOTER //\n// ./request/event/types.js","import { normalizePath } from '../util'\n\n// -----------------------------------------------------------------------------\n// List of commands (12/2016)\n// http://smoothieware.org/console-commands\n// https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp\n// -----------------------------------------------------------------------------\n// # DONE\n// - TODO\n// -----------------------------------------------------------------------------\n// # abort\n// - break\n// # calc_thermistor\n// # cat\n// # cd\n// - config-load\n// - config-get\n// - config-set\n// - dfu\n// - fire\n// # get\n// # help\n// - load\n// # ls\n// # md5sum\n// # mem\n// # mv\n// - mkdir\n// # net\n// # ok\n// # play\n// # progress\n// # pwd\n// # remount\n// # reset\n// # resume\n// # rm\n// - save\n// # set_temp\n// # suspend\n// # switch\n// - test\n// # thermistors\n// - upload\n// # version\n//\n// # M999\n// -----------------------------------------------------------------------------\n\nexport { cmd_abort } from './abort'\nexport { cmd_calc_thermistor } from './calc_thermistor'\nexport { cmd_cat } from './cat'\nexport { cmd_cd } from './cd'\nexport { cmd_get } from './get'\nexport { cmd_help } from './help'\nexport { cmd_ls } from './ls'\nexport { cmd_md5sum } from './md5sum'\nexport { cmd_mem } from './mem'\nexport { cmd_mv } from './mv'\nexport { cmd_net } from './net'\nexport { cmd_ok } from './ok'\nexport { cmd_play } from './play'\nexport { cmd_progress } from './progress'\nexport { cmd_pwd } from './pwd'\nexport { cmd_remount } from './remount'\nexport { cmd_reset } from './reset'\nexport { cmd_resume } from './resume'\nexport { cmd_rm } from './rm'\nexport { cmd_set_temp } from './set_temp'\nexport { cmd_suspend } from './suspend'\nexport { cmd_switch } from './switch'\nexport { cmd_thermistors } from './thermistors'\nexport { cmd_version } from './version'\n\nexport { cmd_M999 } from './M999'\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/index.js","import Request from '../request'\n\n/**\n* Board request.\n* @extends {Request}\n*/\nclass BoardRequest extends Request {\n  /**\n  * @param {Board}  board    Board instance.\n  * @param {Object} settings See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  */\n  constructor(board, settings = {}) {\n    // call parent constructor\n    super(Object.assign({}, board.settings.request, settings, {\n      url: 'http://' + board.address + '/' + settings.url\n    }))\n\n    /**\n    * Board instance.\n    * @type {String}\n    * @protected\n    */\n    this.board = board\n  }\n}\n\n// Exports\nexport default BoardRequest\nexport { BoardRequest }\n\n\n\n// WEBPACK FOOTER //\n// ./board/request.js","import Request from './request'\nimport requestEventTypes from './event/types'\n\nexport default Request\nexport { Request, requestEventTypes }\n\n\n\n// WEBPACK FOOTER //\n// ./request/index.js","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uuid/v4.js\n// module id = 6\n// module chunks = 0","/**\n* API version\n* @type {String}\n*/\nexport const VERSION = '2.0.0'\n\n// public interface\nimport * as request from './request'\nimport * as board from './board'\n\nexport { request, board }\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import uuid from 'uuid/v4'\nimport boardSettings from './settings'\nimport BoardRequest from './request'\nimport requestEventTypes from '../request/event/types'\nimport BoardCommand from './command'\nimport boardTopics from './topics'\nimport BoardInfo from './info'\nimport BoardFileTree from './filetree'\nimport { normalizePath } from './util'\n\n/**\n* Board class.\n*/\nclass Board {\n  /**\n  * @param {Object} settings See {@link src/board/settings.js~boardSettings} for defaults keys/values.\n  */\n  constructor(settings = {}) {\n    /**\n    * Board settings, see {@link src/board/settings.js~boardSettings} for defaults keys/values.\n    * @type {Object}\n    * @protected\n    */\n    this.settings = Object.assign({}, boardSettings, settings)\n\n    if (! this.settings.address || typeof this.settings.address !== 'string') {\n      throw new Error('An address must be specified.')\n    }\n\n    /**\n    * Board address.\n    * @type {String}\n    * @protected\n    */\n    this.address = this.settings.address.trim()\n\n    if (this.address.startsWith('http://')) {\n      this.address = this.address.replace('http://')\n    }\n\n    if (this.address.endsWith('/')) {\n      this.address = this.address.replace(/\\/+$/g, '')\n    }\n\n    /**\n    * Unique identifier (uuid/v4).\n    * @type {String}\n    * @protected\n    */\n    this.uuid = uuid()\n\n    /**\n    * Board info parsed from version command.\n    * ```\n    * {\n    *   branch: \"edge\",\n    *   hash  : \"9ab4538\",\n    *   date  : \"Oct 10 2016 04:09:42\",\n    *   mcu   : \"LPC1769\",\n    *   clock : \"120MHz\"\n    * }\n    * ```\n    * @type {BoardInfo|null}\n    * @default null\n    * @protected\n    */\n    this.info = null\n\n    /**\n    * Flat files tree.\n    * @type {BoardFileTree}\n    * @protected\n    */\n    this.fileTree = new BoardFileTree()\n\n    /**\n    * Topic subscriptions.\n    * @type {Map}\n    * @protected\n    */\n    this.subscriptions = new Map()\n\n    /**\n    * Command queue.\n    * @type {Array}\n    * @protected\n    */\n    this.commandQueue = []\n\n    /**\n    * Command queue locked ?.\n    * @type {Boolean}\n    * @protected\n    */\n    this.commandQueueLocked = false\n\n    /**\n    * Command queue in pause ?.\n    * @type {Boolean}\n    * @protected\n    */\n    this.commandQueuePaused = false\n\n    /**\n    * Pending command (from command queue).\n    * @type {BoardCommand|null}\n    * @protected\n    */\n    this.pendingCommand = null\n\n    /**\n    * Is system halted ?\n    * @type {Boolean}\n    * @protected\n    */\n    this.alarm = false\n  }\n\n  /**\n  * @typedef  {Object} BoardMessage\n  * @property {Board}  board   Board instance.\n  * @property {String} topic   Topic name, see {@link src/board/topics/index.js} for the topics list.\n  * @property {Mixed}  payload Message payload.\n  */\n\n  /**\n  * Publish message to topic, see {@link src/board/topics/index.js} for the topics list.\n  *\n  * @param  {String} topic See {@link src/board/topics/index.js} for possible values.\n  * @param  {Mixed}  [payload = null]\n  * @see {@link Board#subscribe}\n  * @see {@link Board#unsubscribe}\n  * @see {@link Board#deleteTopic}\n  */\n  publish(topic, payload = null) {\n    // fix topic case\n    topic = topic.trim().toLowerCase()\n\n    // if topic found\n    if (this.subscriptions.has(topic)) {\n      // message payload\n      let message = { board: this, topic, payload }\n\n      // call each registrered callback\n      this.subscriptions.get(topic).forEach(subscription => {\n        subscription.callback.call(subscription.context, message)\n      })\n    }\n  }\n\n  /**\n  * @typedef  {Object} BoardSubscription\n  * @property {String}        uuid     Unique identifier (uuid/v4).\n  * @property {Function}      callback A function that takes as single parameter an {@link BoardMessage} object.\n  * @property {Function|null} context  Callback context to apply on call.\n  */\n\n  /**\n  * Subscribe to topic, see {@link src/board/topics/index.js} for the topics list.\n  *\n  * @param  {String}      topic          Topic name, see {@link src/board/topics/index.js} for the topics list.\n  * @param  {Function}    callback       A function that takes as single parameter an {@link BoardMessage} object.\n  * @param  {Object|null} [context=null] Callback context to apply on call.\n  * @return {BoardSubscription}\n  * @see {@link Board#publish}\n  * @see {@link Board#unsubscribe}\n  * @see {@link Board#deleteTopic}\n  */\n  subscribe(topic, callback, context = null) {\n    // fix topic case\n    topic = topic.trim().toLowerCase()\n\n    // if first subscription, create new topic\n    if (! this.subscriptions.has(topic)) {\n      this.subscriptions.set(topic, new Map())\n    }\n\n    // fix callback context\n    context = context || callback\n\n    // create new subscription\n    let subscription = { uuid: uuid(), callback, context }\n\n    // register new subscription\n    this.subscriptions.get(topic).set(subscription.uuid, subscription)\n\n    // return the subscription\n    return subscription\n  }\n\n  /**\n  * Unsubscribe from topic.\n  *\n  * @param  {BoardSubscription|String|Array} uuid Subscription, subscription uuid or callback function.\n  * @return {Integer} Number of callback removed.\n  * @see {@link Board#publish}\n  * @see {@link Board#subscribe}\n  * @see {@link Board#deleteTopic}\n  */\n  unsubscribe(uuid) {\n    let removed = 0\n\n    // unsubscribe an array of uuid or function\n    if (Array.isArray(uuid)) {\n      uuid.forEach(id => {\n        removed += this.unsubscribe(id)\n      })\n\n      return removed\n    }\n\n    // unsubscribe from function\n    if (typeof uuid === 'function') {\n      for (let subscriptions of this.subscriptions.values()) {\n        subscriptions.forEach(subscription => {\n          if (subscription.callback === uuid) {\n            removed += this.unsubscribe(subscription.uuid)\n          }\n        })\n      }\n\n      return removed\n    }\n\n    // unsubscribe from uuid string\n    for (let topic of this.subscriptions.keys()) {\n      if (this.subscriptions.get(topic).has(uuid)) {\n        removed += this.subscriptions.get(topic).delete(uuid)\n\n        if (this.subscriptions.get(topic).size === 0) {\n          this.deleteTopic(topic)\n        }\n\n        return removed\n      }\n    }\n\n    return removed\n  }\n\n  /**\n  * Delete entire topic.\n  *\n  * @param  {String} topic Topic name, see {@link src/board/topics/index.js} for the topics list.\n  * @return {Boolean} False if not found.\n  * @see {@link Board#publish}\n  * @see {@link Board#subscribe}\n  * @see {@link Board#unsubscribe}\n  */\n  deleteTopic(topic) {\n    if (this.subscriptions.get(topic)) {\n      return this.subscriptions.delete(topic)\n    }\n\n    return false\n  }\n\n  /**\n  * Create an request.\n  *\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardRequest} for more details).\n  * @return {BoardRequest}\n  */\n  createRequest(settings = {}) {\n    return new BoardRequest(this, settings)\n  }\n\n  /**\n  * Send an request to the board (GET by default).\n  *\n  * ```\n  * var board = new Board({ address: '192.168.1.102' });\n  *\n  * board.sendRequest({ url: 'sd/config' })\n  * .then(function(event) {\n  *   console.info('then:', event);\n  * })\n  * .catch(function(event) {\n  *   console.error('catch:', event);\n  * });\n  * ```\n  *\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardRequest} for more details).\n  * @return {Promise<RequestEvent>}\n  */\n  sendRequest(settings = {}) {\n    return this.createRequest(settings).send()\n  }\n\n  /**\n  * Create an command.\n  *\n  * @param  {String} command         Command line.\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n  * @return {BoardCommand}\n  */\n  createCommand(command, settings = {}) {\n    // wrap request events\n    settings.on = settings.on || {}\n\n    for (let key in requestEventTypes) {\n      let topic    = requestEventTypes[key]\n      let callback = settings.on[topic]\n\n      settings.on[topic] = event => {\n        this.publish('command.' + topic, event)\n        callback && callback(event)\n      }\n    }\n\n    let boardCommand = new BoardCommand(this, command, settings)\n    this.publish(boardTopics.COMMAND_CREATE, boardCommand)\n    return boardCommand\n  }\n\n  /**\n  * Send an command to the board.\n  *\n  * @param  {String} boardCommand\n  * @return {Promise<RequestEvent>}\n  */\n  _sendCommand(boardCommand) {\n    this.publish(boardTopics.COMMAND_SEND, boardCommand)\n\n    return boardCommand.send()\n    .then(event => {\n      this.publish(boardTopics.COMMAND_RESPONSE, event)\n      return Promise.resolve(event)\n    })\n    .catch(event => {\n      this.publish(boardTopics.COMMAND_ERROR, event)\n      return Promise.reject(event)\n    })\n  }\n\n  /**\n  * Create and send an command to the board.\n  *\n  * ```\n  * var board = new Board({ address: '192.168.1.102' });\n  *\n  * board.sendCommand('ls -s sd/')\n  * .then(function(event) {\n  *   console.info('then:', event);\n  *   console.info('data:', event.payload.data);\n  * })\n  * .catch(function(event) {\n  *   console.error('catch:', event);\n  * });\n  * ```\n  *\n  * @param  {String} command         Command line.\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n  * @return {Promise<RequestEvent>}\n  * @see {@link Board#addCommand}\n  * @see {@link Board#pushCommand}\n  */\n  sendCommand(command, settings = {}) {\n    return this._sendCommand(this.createCommand(command, settings))\n  }\n\n  /**\n  * Create and add the command in command queue.\n  *\n  * @param  {String} command         Command line.\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n  * @return {BoardCommand}\n  * @see {@link Board#sendCommand}\n  * @see {@link Board#pushCommand}\n  */\n  addCommand(command, settings = {}) {\n    let boardCommand = this.createCommand(command, settings)\n    this.publish(boardTopics.COMMAND_QUEUE_ADD, boardCommand)\n    this.commandQueue.push(boardCommand)\n    return boardCommand\n  }\n\n  /**\n  * Create and add the command in command queue,\n  * then process the command queue if not in pause or locked.\n  *\n  * @param  {String} command         Command line.\n  * @param  {Object} [settings = {}] Request settings (see {@link BoardCommand} for more details).\n  * @return {BoardCommand}\n  * @see {@link Board#sendCommand}\n  * @see {@link Board#addCommand}\n  */\n  pushCommand(command, settings = {}) {\n    let boardCommand = this.addCommand(command, settings)\n    this.processCommandQueue()\n    return boardCommand\n  }\n\n  /**\n  * Process command queue.\n  * @see {@link Board#pauseCommandQueue}\n  * @see {@link Board#stopCommandQueue}\n  * @see {@link Board#resumeCommandQueue}\n  * @see {@link Board#clearCommandQueue}\n  */\n  processCommandQueue() {\n    // command queue locked or empty ?\n    if (this.commandQueueLocked\n    || this.commandQueuePaused\n    || ! this.commandQueue.length) {\n      return\n    }\n\n    // lock the command queue\n    this.commandQueueLocked = true\n\n    // get the older command\n    this.pendingCommand = this.commandQueue.shift()\n\n    // end of queue\n    if (! this.pendingCommand) {\n      this.publish(boardTopics.COMMAND_QUEUE_EMPTY)\n      return\n    }\n\n    this.publish(boardTopics.COMMAND_QUEUE_SEND, this.pendingCommand)\n\n    this._sendCommand(this.pendingCommand)\n    .then(event => event)\n    .catch(event => event)\n    .then(event => {\n      // reset pending command\n      this.pendingCommand = null\n\n      // unlock the command queue\n      this.commandQueueLocked = false\n\n      // process next command in queue\n      this.processCommandQueue()\n    })\n  }\n\n  /**\n  * Pause command queue but let the pending command terminate.\n  * @see {@link Board#processCommandQueue}\n  * @see {@link Board#stopCommandQueue}\n  * @see {@link Board#resumeCommandQueue}\n  * @see {@link Board#clearCommandQueue}\n  */\n  pauseCommandQueue() {\n    this.commandQueuePaused = true\n    this.publish(boardTopics.COMMAND_QUEUE_PAUSE, this.commandQueue)\n  }\n\n  /**\n  * Abort the pending command.\n  */\n  abortPendingCommand() {\n    if (this.pendingCommand) {\n      this.pendingCommand.abort()\n      this.pendingCommand = null\n    }\n  }\n\n  /**\n  * Pause command queue and abort the pending command.\n  * @see {@link Board#processCommandQueue}\n  * @see {@link Board#pauseCommandQueue}\n  * @see {@link Board#resumeCommandQueue}\n  * @see {@link Board#clearCommandQueue}\n  */\n  stopCommandQueue() {\n    this.abortPendingCommand()\n    this.pauseCommandQueue()\n  }\n\n  /**\n  * Resume command queue.\n  * @see {@link Board#processCommandQueue}\n  * @see {@link Board#pauseCommandQueue}\n  * @see {@link Board#stopCommandQueue}\n  * @see {@link Board#clearCommandQueue}\n  */\n  resumeCommandQueue() {\n    this.commandQueuePaused = false\n    this.publish(boardTopics.COMMAND_QUEUE_RESUME, this.commandQueue)\n    this.processCommandQueue()\n  }\n\n  /**\n  * Clear command queue and abort the pending command.\n  * @see {@link Board#processCommandQueue}\n  * @see {@link Board#pauseCommandQueue}\n  * @see {@link Board#stopCommandQueue}\n  * @see {@link Board#resumeCommandQueue}\n  */\n  clearCommandQueue() {\n    this.abortPendingCommand()\n    this.publish(boardTopics.COMMAND_QUEUE_CLEAR, this.commandQueue)\n\n    this.commandQueueLocked = false\n    this.commandQueuePaused = false\n    this.commandQueue       = []\n  }\n\n  /**\n  * Get the board informations.\n  *\n  * @param  {Boolean} [refresh = false]\n  * @return {Promise<BoardInfo|RequestEvent|Error>}\n  */\n  getInfo(refresh = false) {\n    return new Promise((resolve, reject) => {\n      if (! refresh && this.info) {\n        resolve(this.info)\n      }\n\n      return this.sendCommand('version').then(event => {\n        if (event.payload.data instanceof Error) {\n          reject(event.payload.data)\n        }\n\n        this.info = new BoardInfo(event.payload.data)\n        this.publish(boardTopics.INFO_UPDATE, this.info)\n        resolve(this.info)\n      })\n      .catch(reject)\n    })\n  }\n\n  /** @typedef {Map<String, BoardFolder|BoardFile>} BoardFileList */\n\n  /**\n  * Return a flat file tree for the given path.\n  *\n  * @param  {String}  [path    = '/']    Path to list file from.\n  * @param  {Boolean} [refresh = false]  Force refresh (no cache).\n  * @param  {Boolean} [firstCall = true] Used internaly for recursion.\n  * @return {Promise<BoardFileList|RequestEvent|Error>}\n  */\n  listFiles(path = '/', refresh = false, firstCall = true) {\n    // from cache\n    path = normalizePath(path)\n\n    let tree = path === '/' ? this.fileTree : this.fileTree.list(path)\n\n    if (tree.size && ! refresh) {\n      return Promise.resolve(tree)\n    }\n\n    // try to get the directory contents\n    return this.sendCommand('ls -s ' + path).then(event => {\n      // recursion...\n      let promises = []\n\n      if (event.payload.data instanceof Error) {\n        return Promise.reject(event.payload.data)\n      }\n\n      // children collection (file or directory)\n      event.payload.data.forEach(child => {\n        // set new child\n        this.fileTree.set(child)\n\n        // get sub-directory contents\n        if (child.type === 'folder') {\n          promises.push(this.listFiles(child.path, true, false))\n        }\n      })\n\n      // wait for all promises done\n      return Promise.all(promises).then(results => {\n        let tree = this.fileTree.list(path)\n\n        if (firstCall) {\n          this.publish(boardTopics.FILETREE_UPDATE, tree)\n        }\n\n        return Promise.resolve(tree)\n      })\n    })\n  }\n\n  /**\n  * Clear state (M999).\n  *\n  * @return {Promise<RequestEvent>}\n  */\n  clearState() {\n    return this.sendCommand('M999').then(event => {\n      this.alarm = false\n      return Promise.resolve(event)\n    })\n  }\n}\n\n// Exports\nexport default Board\nexport { Board }\n\n\n\n// WEBPACK FOOTER //\n// ./board/board.js","import BoardRequest from './request'\nimport * as boardCommands from './commands'\nimport boardTopics from './topics'\n\n/**\n* Board request.\n* @extends {BoardRequest}\n*/\nclass BoardCommand extends BoardRequest {\n  /**\n  * @param {Board}  board       Board instance.\n  * @param {Board}  commandLine Command line, see {@link src/board/commands/index.js} for a list of implemented commands.\n  * @param {Object} settings    See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  * @param {Object} [settings.parseResponse = true] See {@link src/board/settings.js~boardSettings}.request for defaults keys/values.\n  */\n  constructor(board, commandLine, settings = {}) {\n    // Normalize and split the command line\n    commandLine = commandLine.trim().replace(/ +/g, ' ')\n\n    let commandArgs = commandLine.split(' ')\n    let commandName = commandArgs.shift()\n\n    // parse response by default\n    if (settings.parseResponse === undefined) {\n      settings.parseResponse = true\n    }\n\n    // response...\n    let response = r => {\n      let raw = r.trim()\n\n      if (raw.startsWith('error:Unsupported command')) {\n        throw new Error('Unsupported command \"' + commandName + '\".')\n      }\n\n      // alarm/error ?\n      let test = raw.slice(0, 30).toLowerCase()\n\n      if (! raw.length || test === '!!' || test.startsWith('alarm') || test.startsWith('error')) {\n        if (! board.alarm) {\n          board.alarm = true\n          board.publish(boardTopics.STATE_ALARM)\n        }\n\n        throw new Error('Alarm! System probably halted.')\n      }\n\n      if (commandName === 'M999') {\n        board.publish(boardTopics.STATE_CLEAR, test !== 'ok')\n      }\n\n      // response parser\n      let responseParser = boardCommands['cmd_' + commandName]\n\n      if (! responseParser && settings.parseResponse) {\n        throw new Error('Sorry! The \"' + commandName + '\" command is not (yet) implemented.')\n      }\n\n      // return (parsed) response\n      let args = [].concat(commandArgs) // make a copy\n\n      return settings.parseResponse ? responseParser(r, args) : r\n    }\n\n    // call parent constructor\n    super(board, Object.assign({}, board.settings.request, settings, {\n      data   : commandLine + '\\n',\n      url    : 'command',\n      method : 'POST',\n      filters: { response }\n    }))\n\n    /**\n    * Command line.\n    * @type {String}\n    * @protected\n    */\n    this.commandLine = commandLine\n\n    /**\n    * Command name.\n    * @type {String}\n    * @protected\n    */\n    this.commandName = commandName\n\n    /**\n    * Command arguments.\n    * @type {Array}\n    * @protected\n    */\n    this.commandArgs = commandArgs\n  }\n}\n\n// Exports\nexport default BoardCommand\nexport { BoardCommand }\n\n\n\n// WEBPACK FOOTER //\n// ./board/command.js","/**\n* Clear state.\n*\n* ### on success\n* ```\n* return true if state cleared or false if state not halted\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Boolean|Error}\n*/\nexport function cmd_M999(raw, args) {\n  return raw.trim() !== 'ok'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/M999.js","/**\r\n* Parse `abort` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return 'Aborted! Please turn any heaters off manually.'\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Not currently playing.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {String|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L359\r\n*/\r\nexport function cmd_abort(raw, args) {\r\n  // raw response\r\n  raw = raw.trim()\r\n\r\n  if (raw.startsWith('Not currently playing')) {\r\n    return new Error('Not currently playing.')\r\n  }\r\n\r\n  if (! raw.startsWith('Aborted playing or paused file')) {\r\n    return new Error('Unknown response string.')\r\n  }\r\n\r\n  return 'Aborted! Please turn any heaters off manually.'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/abort.js","/**\n* Calculate the Steinhart Hart coefficients for a thermistor.\n*\n* ### on success\n* ```\n* return {\n*   \"saved\": false, // true if -s param provided, else false\n*   \"target\": null, // termistor num if -s param provided, else null\n*   \"I\"     : 0.000722376862540841,\n*   \"J\"     : 0.000722376862540841,\n*   \"K\"     : 0.000722376862540841\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: calc_thermistor [-s0] T1,R1,T2,R2,T3,R3.'\n* return Error: 'Unknown response string.'\n* return Error: 'Invalid input values.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see http://smoothieware.org/steinharthart\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#878\n*/\nexport function cmd_calc_thermistor(raw, args) {\n  raw = raw.trim()\n\n  if (raw.startsWith('Usage: calc_thermistor')) {\n    return new Error('Usage: calc_thermistor [-s0] T1,R1,T2,R2,T3,R3.')\n  }\n\n  let matches = raw.match(/Steinhart Hart coefficients: *I(.*)J(.*)K(.*)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  matches.shift()\n\n  matches = matches.map(match => parseFloat(match.trim()))\n\n  if (matches.includes(NaN)) {\n    return new Error('Invalid input values.')\n  }\n\n  let saved  = args[0].startsWith('-s')\n  let target = (saved && args[0][2]) || null\n\n  return { saved, target, I: matches[0], J: matches[0], K: matches[0] }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/calc_thermistor.js","import { normalizePath } from '../util'\n\n/**\n* Get file content.\n*\n* ### on success\n* ```\n* return \"Raw file contents as text.\"\n* ```\n* ### on error\n* ```\n* return Error: 'File not found \"xxx\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L331\n*/\nexport function cmd_cat(raw, args) {\n  let source = normalizePath(args[0] || '')\n\n  if (raw.trim().startsWith('File not found')) {\n    return new Error('File not found \"' + source + '\".')\n  }\n\n  return raw\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/cat.js","import { normalizePath } from '../util'\n\n/**\n* Change current folder.\n*\n* ### on success\n* ```\n* return \"ok\"\n* ```\n* ### on error\n* ```\n* return Error: 'Could not open \"xxx\" directory.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L358\n*/\nexport function cmd_cd(raw, args) {\n  let source = normalizePath(args[0] || '')\n\n  if (raw.trim().startsWith('Could not open directory')) {\n    return new Error('Could not open \"' + source + '\" directory.')\n  }\n\n  return 'ok'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/cd.js","import { get_temp } from './get_temp'\nimport { get_pos } from './get_pos'\nimport { get_wcs } from './get_wcs'\nimport { get_state } from './get_state'\nimport { get_status } from './get_status'\nimport { get_ik } from './get_ik'\nimport { get_fk } from './get_fk'\n\n/**\n* Get command `temp|pos|wcs|state|status|fk|ik`.\n*\n* - get temp [bed|hotend]\n* - get fk|ik [-m] x[,y,z]\n*\n* ### on success\n* ```\n* return \"...\"\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown option \"xxx\".'\n* return Error: 'Sorry! The \"get xxx\" command is not (yet) implemented.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Mixed|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#741\n*/\nexport function cmd_get(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  // option\n  let option = (args.shift() || '').toLowerCase()\n\n  // file not found\n  if (raw.startsWith('error:unknown option')) {\n    return new Error('Unknown option \"' + option + '\".')\n  }\n\n  let func\n\n  switch (option) {\n    case 'temp':\n      func = get_temp\n      break\n    case 'pos':\n      func = get_pos\n      break\n    case 'wcs':\n      func = get_wcs\n      break\n    case 'state':\n      func = get_state\n      break\n    case 'status':\n      func = get_status\n      break\n    case 'ik':\n      func = get_ik\n      break\n    case 'fk':\n      func = get_fk\n      break\n    default:\n     return new Error('Sorry! The \"get ' + option + '\" command is not (yet) implemented.')\n  }\n\n  return func(raw, args)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get.js","/**\n* Get forward kinematics.\n*\n* ### on success\n* ```\n* return {\n*   \"move\": false,\n*   \"x\"   : 10,\n*   \"y\"   : 10,\n*   \"z\"   : 10\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: get ik [-m] x[,y,z].'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#771\n*/\nexport function get_fk(raw, args) {\n  let move = args.shift() === '-m'\n\n  // error\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: get fk [-m] x[,y,z].')\n  }\n\n  let matches = raw.match(/cartesian= X ([0-9\\.]+), Y ([0-9\\.]+), Z ([0-9\\.]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    move,\n    x: parseFloat(matches[1]),\n    y: parseFloat(matches[2]),\n    z: parseFloat(matches[3])\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_fk.js","/**\n* Get inverse kinematics.\n*\n* ### on success\n* ```\n* return {\n*   \"move\": false,\n*   \"x\"   : 10,\n*   \"y\"   : 10,\n*   \"z\"   : 10\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Usage: get ik [-m] x[,y,z].'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#771\n*/\nexport function get_ik(raw, args) {\n  let move = args.shift() === '-m'\n\n  // error\n  if (raw.startsWith('error:')) {\n    return new Error('Usage: get ik [-m] x[,y,z].')\n  }\n\n  let matches = raw.match(/actuator= X ([0-9\\.]+), Y ([0-9\\.]+), Z ([0-9\\.]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    move,\n    x: parseFloat(matches[1]),\n    y: parseFloat(matches[2]),\n    z: parseFloat(matches[3])\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_ik.js","/**\n* Get position.\n*\n* ### on success\n* ```\n* return {\n*   \"WCS\": {\n*     \"command\"    : \"M114\",\n*     \"description\": \"Position of all axes\",\n*     \"x\"          : 0,\n*     \"y\"          : 0,\n*     \"z\"          : 0\n*   },\n*   \"WPOS\": {\n*     \"command\"    : \"M114.1\",\n*     \"description\": \"Real time position of all axes\"\n*     // , x, y, z\n*   },\n*   \"MPOS\": {\n*     \"command\"    : \"M114.2\",\n*     \"description\": \"Real time machine position of all axes\"\n*     // , x, y, z\n*   },\n*   \"APOS\": {\n*     \"command\"    : \"M114.3\",\n*     \"description\": \"Real time actuator position of all actuators\"\n*     // , x, y, z\n*   },\n*   \"LMS\": {\n*     \"command\"    : \"M114.4\",\n*     \"description\": \"Last milestone\"\n*     // , x, y, z\n*   },\n*   \"LMP\": {\n*     \"command\"    : \"M114.5\",\n*     \"description\": \"Last machine position\"\n*     // , x, y, z\n*   }\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#818\n*/\nexport function get_pos(raw, args) {\n  // last C: X:0.0000 Y:0.0000 Z:0.0000\n  // realtime WPOS: X:0.0000 Y:0.0000 Z:0.0000\n  // MPOS: X:0.0000 Y:0.0000 Z:0.0000\n  // APOS: X:0.0000 Y:0.0000 Z:0.0000\n  // LMS: X:0.0000 Y:0.0000 Z:0.0000\n  // LMP: X:0.0000 Y:0.0000 Z:0.0000\n  // split on new lines\n  let lines = raw.split('\\n')\n  let key, positions = {}\n\n  lines.forEach(line => {\n    let r = parsePositionString(line)\n    positions[r.key] = r.position\n  })\n\n  // split response text on new lines\n  return positions\n}\n\n// Parse position string.\n// WCS : M114   - Last WCS.\n// WPOS: M114.1 - Realtime WCS.\n// MPOS: M114.2 - Realtime machine coordinate system.\n// APOS: M114.3 - Realtime actuator position.\n// LMS : M114.4 - Last milestone.\n// LMP : M114.5 - Last machine position.\nfunction parsePositionString(line) {\n  let parts  = line.split(':')\n  let key    = parts.shift().replace(' ', '_').toUpperCase()\n  let coords = parts.join(':').trim().split(' ')\n\n  let position = {\n    x  : parseFloat(coords[0].substr(2)),\n    y  : parseFloat(coords[1].substr(2)),\n    z  : parseFloat(coords[2].substr(2))\n  }\n\n  if (key === 'LAST_C') {\n    key = 'WCS'\n  }\n  else if (key === 'REALTIME_WPOS') {\n    key = 'WPOS'\n  }\n\n  switch (key) {\n    case 'WCS':\n      position.command     = 'M114'\n      position.description = 'Position of all axes'\n      break\n    case 'WPOS':\n      position.command     = 'M114.1'\n      position.description = 'Real time position of all axes'\n      break\n    case 'MPOS':\n      position.command     = 'M114.2'\n      position.description = 'Real time machine position of all axes'\n      break\n    case 'APOS':\n      position.command     = 'M114.3'\n      position.description = 'Real time actuator position of all actuators'\n      break\n    case 'LMS':\n      position.command     = 'M114.4'\n      position.description = 'Last milestone'\n      break\n    case 'LMP':\n      position.command     = 'M114.5'\n      position.description = 'Last machine position'\n      break\n    default:\n      position.command     = 'M114.?'\n      position.description = 'Unknown type'\n  }\n\n  return { key, position }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_pos.js","/**\n* Get state.\n*\n* ### on success\n* ```\n* return\n* {\n*   \"modal\"          : \"G0\",\n*   \"wcs\"            : \"G54\",\n*   \"plane_selection\": \"G17\",\n*   \"unit\"           : \"G21\",\n*   \"distance_mode\"  : \"G90\",\n*   \"path_control\"   : \"G94\",\n*   \"program_pause\"  : \"M0\",\n*   \"stop_tool\"      : \"M5\",\n*   \"stop_coolant\"   : \"M9\",\n*   \"tool\"           : \"T0\",\n*   \"feed_rate\"      : \"F4000.0000\",\n*   \"s_value\"        : \"S0.8000\",\n*   \"state\"          : [ \"G0\", \"G54\", \"G17\", \"G21\", \"G90\", \"G94\", \"M0\", \"M5\", \"M9\", \"T0\", \"F4000.0000\", \"S0.8000\" ]\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#832\n*/\nexport function get_state(raw, args) {\n  let state = raw.slice(1, -1).split(' ')\n\n  return {\n    modal          : state[0],\n    wcs            : state[1],\n    plane_selection: state[2],\n    unit           : state[3],\n    distance_mode  : state[4],\n    path_control   : state[5],\n    program_pause  : state[6],\n    stop_tool      : state[7],\n    stop_coolant   : state[8],\n    tool           : state[9],\n    feed_rate      : state[10],\n    s_value        : state[11],\n    state          : state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_state.js","/**\n* Get status.\n*\n* ### on success\n* ```\n* return\n* {\n*   \"status\"   : \"idle\", // [idle, alarm, home, hold, run]\n*   \"machine\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"workspace\": { \"x\": 0, \"y\": 0, \"z\": 0 }\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#847\n* @see https://github.com/Smoothieware/Smoothieware/blob/f7d999cff4a33d83b09ce136c122b3b7b2f1c69a/src/libs/Kernel.cpp#L163\n*/\nexport function get_status(raw, args) {\n  let parts = raw.slice(1, -1).toLowerCase().replace(/(w|m)pos:/g, '').split(',')\n\n  return {\n    status: parts[0],\n    machine: {\n      x: parseFloat(parts[1]),\n      y: parseFloat(parts[2]),\n      z: parseFloat(parts[3])\n    },\n    workspace: {\n      x: parseFloat(parts[4]),\n      y: parseFloat(parts[5]),\n      z: parseFloat(parts[6])\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_status.js","/**\n* Get temperature.\n*\n* ### on success\n* ```\n* // get temp\n* return [\n*   {\n*     \"designator\": \"T\",\n*     \"id\": 57988,\n*     \"current\": null, // null means the sensor is not properly connected, or it is damaged in some way.\n*     \"target\": 0,\n*     \"pwm\": 0\n*   },\n*   {\n*     \"designator\": \"B\",\n*     \"id\": 22060,\n*     \"current\": null,\n*     \"target\": 0,\n*     \"pwm\": 0\n*   }\n* ]\n* ```\n* ```\n* // get temp bed\n* return {\n*   \"designator\": \"bed\",\n*   \"current\": null,\n*   \"target\": 0,\n*   \"pwm\": 0\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'No heaters found.'\n* return Error: 'Unknown response string.'\n* return Error: '\"xxx\" is not a known temperature device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#745\n*/\nexport function get_temp(raw, args) {\n  if (raw.startsWith('no heaters found')) {\n    return new Error('No heaters found.')\n  }\n\n  // device [bed|hotend]\n  let device = (args[0] || 'all').toLowerCase()\n\n  if (raw.endsWith('is not a known temperature device')) {\n    return new Error('\"' + device + '\" is not a known temperature device.')\n  }\n\n  let result\n\n  if (device === 'all') {\n    // [T (57988) temp: inf/0.000000 @0]\n    return raw.split('\\n').map(parseTempString)\n  }\n\n  // \"bed temp: inf/0.000000 @0\"\n  let matches = raw.match(/([a-z]+) temp: (inf|[0-9\\.]+)\\/(inf|[0-9\\.]+) @([0-9]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    device : matches[1],\n    current: parseFloat(matches[2]),\n    target : parseFloat(matches[3]),\n    pwm    : parseInt(matches[4]),\n  }\n}\n\nfunction parseTempString(temp) {\n  // T (57988) temp: inf/0.000000 @0\n  let matches = temp.match(/(T|B) \\(([0-9]+)\\) temp: (inf|[0-9\\.]+)\\/(inf|[0-9\\.]+) @([0-9]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    designator: matches[1],\n    id        : parseInt(matches[2]),\n    current   : parseFloat(matches[3]),\n    target    : parseFloat(matches[4]),\n    pwm       : parseInt(matches[5]),\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_temp.js","/**\n* Get wcs state.\n*\n* ### on success\n* ```\n* return {\n*   \"current\": \"G54\",\n*   \"tool\"   : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"prob\"   : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G54\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G55\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G56\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G57\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G58\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.1\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.2\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G59.3\"  : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G28\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G30\"    : { \"x\": 0, \"y\": 0, \"z\": 0 },\n*   \"G92\"    : { \"x\": 0, \"y\": 0, \"z\": 0 }\n*}\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#828\n*/\nexport function get_wcs(raw, args) {\n  // [current WCS: G54]\n  // [G54:0.0000,0.0000,0.0000]\n  // [G55:0.0000,0.0000,0.0000]\n  // [G56:0.0000,0.0000,0.0000]\n  // [G57:0.0000,0.0000,0.0000]\n  // [G58:0.0000,0.0000,0.0000]\n  // [G59:0.0000,0.0000,0.0000]\n  // [G59.1:0.0000,0.0000,0.0000]\n  // [G59.2:0.0000,0.0000,0.0000]\n  // [G59.3:0.0000,0.0000,0.0000]\n  // [G28:0.0000,0.0000,0.0000]\n  // [G30:0.0000,0.0000,0.0000]\n  // [G92:0.0000,0.0000,0.0000]\n  // [Tool Offset:0.0000,0.0000,0.0000]\n  // [PRB:0.0000,0.0000,0.0000:0]\n  let lines = raw.split('\\n')\n\n  // unwrap line ([...])\n  lines = lines.map(line => line.slice(1, -1))\n\n  let wcs = {\n    current: lines.shift().split(': ').pop()\n  }\n\n  lines.forEach(line => {\n    let parts  = line.split(':')\n    let code   = parts.shift().toUpperCase()\n    let coords = parts.shift().split(',')\n\n    if (code === 'TOOL OFFSET') {\n      code = 'tool'\n    }\n    else if (code === 'PRB') {\n      code = 'prob'\n    }\n\n    wcs[code] = {\n      x: parseFloat(coords[0]),\n      y: parseFloat(coords[1]),\n      z: parseFloat(coords[2])\n    }\n  })\n\n  return wcs\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/get_wcs.js","/**\n* Get command help list.\n*\n* ### on success\n* ```\n* return \"List of command help. One by line.\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#1124\n*/\nexport function cmd_help(raw, args) {\n  return raw.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/help.js","import { normalizePath } from '../util'\n\n/**\n* Parse `ls` command response.\n*\n* ### on success\n* - If the `-s` parameter is not provided, the size is set to 0.\n* - The size is also set to 0 on directories.\n* ```\n* return [\n*   {\"extension\":\"\",\"name\":\"project1\",\"path\":\"/sd/project1\",\"parent\":\"/sd\",\"type\":\"folder\",\"size\":0},\n*   {\"extension\":\".cur\",\"name\":\"firmware.cur\",\"path\":\"/sd/firmware.cur\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":368144},\n*   {\"extension\":\"\",\"name\":\"config\",\"path\":\"/sd/config\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":29417},\n*   {\"extension\":\".gcode\",\"name\":\"file1.gcode\",\"path\":\"/sd/file1.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":1914257},\n*   {\"extension\":\".gcode\",\"name\":\"file2.gcode\",\"path\":\"/sd/file2.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":0},\n*   {\"extension\":\".gcode\",\"name\":\"file3.gcode\",\"path\":\"/sd/file3.gcode\",\"parent\":\"/sd\",\"type\":\"file\",\"size\":1062811}\n* ]\n* ```\n* ### on error\n* ```\n* return Error: 'Could not open \"xxx\" directory.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Array|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L284\n*/\nexport function cmd_ls(raw, args) {\n  // size flag\n  let size = args[0] === '-s'\n\n  size && args.shift()\n\n  // extract and normalize path\n  let path = normalizePath(args[0] || '')\n\n  // raw response\n  raw = raw.trim()\n\n  // file not found\n  if (raw.startsWith('Could not open directory')) {\n    return new Error('Could not open \"' + path + '\" directory.')\n  }\n\n  // excluded files\n  let excludes = [\"system volume information/\"]\n\n  // split lines\n  let lines = raw.split('\\n')\n  let info  = null\n\n  // empty files list\n  let files = []\n  let file  = null\n  let isDir = false\n\n  let extension\n  let rootPath = path !== '/' ? path : ''\n\n  // for each lines (file)\n  lines.forEach(line => {\n    // remove trailing spaces\n    line = line.trim()\n\n    if (! excludes.includes(line)) {\n      // extract file/directory info (name/size)\n      info = line.trim().match(/^([a-z0-9_\\-\\.]+) ?(\\/| [0-9]+)?$/, 'gi')\n\n      if (! info) {\n        return new Error('Unknown response string.')\n      }\n\n      // is directory ?\n      isDir = info[2] === '/'\n\n      extension = ''\n\n      if (info[1].includes('.')) {\n        extension = '.' + info[1].split('.').pop()\n      }\n\n      // set file info\n      files.push({\n        name: info[1],\n        extension: extension,\n        parent: rootPath.length ? rootPath : '/',\n        path: rootPath + '/' + info[1],\n        type: isDir ? 'folder' : 'file',\n        size: isDir ? 0 : parseInt(info[2] || 0)\n      })\n    }\n  })\n\n  return files\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/ls.js","import { normalizePath } from '../util'\n\n/**\n* Get md5 sum of the given file.\n*\n* ### on success\n* ```\n* return {\n*   \"md5\" : \"335a4ebbaa1bc6b81cc94fd6e7209ec2\",\n*   \"file\": \"/sd/config\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'File \"xxx\" not found.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L358\n*/\nexport function cmd_md5sum(raw, args) {\n  raw = raw.trim()\n\n  let source = normalizePath(args[0] || '')\n\n  if (raw.startsWith('File not found')) {\n    return new Error('File \"' + source + '\" not found.')\n  }\n\n  var parts = raw.split(' ')\n\n  return {\n    md5 : parts[0].trim(),\n    file: parts[1].trim()\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/md5sum.js","/**\n* Get informations about memory usage.\n*\n* ### on success\n* ```\n* return {\n*   \"BLOCK_SIZE\"    : 100\n*   \"UNUSED_HEAP\"   : 8344,\n*   \"USED_HEAP_SIZE\": 18008,\n*   \"FREE\"          : 2572,\n*   \"ALLOCATED\"     : 14348,\n*   \"TOTAL_FREE_RAM\": 10916,\n*   \"AHB0\": {\n*     \"free\"  : 13652,\n*     \"total\" : 15184, // verbose mode only\n*     \"used\"  : 1532,  // verbose mode only\n*     \"chunks\": [      // verbose mode only\n*        {\n*         \"address\": \"0x2007c4b0\",\n*         \"offset\": 0,\n*         \"bytes\": 268,\n*         \"free\": false\n*        }\n*     //, ...\n*     ]\n*   },\n*   \"AHB1\": {\n*     \"free\"  : 10440,\n*     \"total\" : 10440, // verbose mode only\n*     \"used\"  : 0      // verbose mode only\n*     \"chunks\": [...]  // verbose mode only\n*   },\n*   \"CHUNKS\": [ // verbose mode only\n*     {\n*       \"address\": \"0x10000CF8\",\n*       \"bytes\"  : 32,\n*       \"free\"   : false\n*     }\n*     //, ...\n*   ]\n* }\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#578\n*/\nexport function cmd_mem(raw, args) {\n  // trim raw response\n  raw = raw.trim()\n\n  // verbose mode\n  let verbose = args[0] === '-v'\n\n  // // Split on new line\n  let lines = raw.split(/[\\r\\n|\\r|\\n]+/gm)\n\n  let memory = {}\n\n  if (verbose) {\n    memory.CHUNKS = []\n  }\n\n  let setValue = line => {\n    let [key, value] = line.split(': ')\n\n    let bytes = parseInt(value.trim().replace(/ bytes$/, ''))\n\n    key = key.trim().replace(/ +/gm, '_').toUpperCase()\n\n    if (key === 'FREE_AHB0') {\n      key = 'AHB0'\n    }\n\n    if (key.startsWith('AHB')) {\n      memory[key] = { free: bytes }\n    }\n    else {\n      memory[key] = bytes\n    }\n  }\n\n  let target = null\n\n  lines.forEach(line => {\n    line = line.trim()\n\n    if (line.startsWith('Allocated') || line.startsWith('Free AHB0')) {\n      line = line.split(', ')\n      setValue(line[1])\n      line = line[0]\n    }\n\n    if (verbose && line.startsWith('Chunk:')) {\n      // [\"Chunk: 7\", \"Address: 0x10001028\", \"Size: 20\", \"\"]\n      let chunk = line.split('  ')\n\n      memory.CHUNKS.push({\n        address: chunk[1].split(': ')[1],\n        bytes  : parseInt(chunk[2].split(': ')[1]),\n        free   : chunk[3] !== undefined\n      })\n    }\n    else if (verbose && line.startsWith('Start:')) {\n      target = memory['AHB' + (target === null ? '0' : '1')]\n      target.chunks = []\n    }\n    else if (verbose && line.startsWith('Chunk at')) {\n      // \"Chunk at 0x2007c8a8 (+1016): used, 516 bytes\"\n      // \"Chunk at 0x2007caac (+1532): free, 13652 bytes\"\n      let chunk = line.match(/^Chunk at ([0-9a-zA-Z]+) \\( *\\+([0-9]+)\\): (free|used), ([0-9]+) bytes$/)\n\n      target.chunks.push({\n        address: chunk[1],\n        offset : parseInt(chunk[2]),\n        bytes  : parseInt(chunk[4]),\n        free   : chunk[3] === 'free'\n      })\n    }\n    else if (verbose && line.startsWith('End:')) {\n      // total 10440b, free: 10440b\n      let end = line.match(/^End: total ([0-9]+)b, free: ([0-9]+)b$/)\n      target.total = parseInt(end[1])\n      target.used  = target.total - target.free\n    }\n    else {\n      setValue(line)\n    }\n  })\n\n  return memory\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/mem.js","import { normalizePath } from '../util'\n\n/**\n* Move a file.\n*\n* ### on success\n* ```\n* return {\n*   source: '/sd/source.gcode',\n*   target: '/sd/target.gcode'\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Could not move \"xxx\" to \"yyy\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L339\n*/\nexport function cmd_mv(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  let source = normalizePath(args[0] || '')\n  let target = normalizePath(args[1] || '')\n\n  // file not found\n  if (raw.startsWith('Could not rename')) {\n    return new Error('Could not move \"' + source + '\" to \"' + target + '\".')\n  }\n\n  return { source, target }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/mv.js","/**\n* Get network config.\n*\n* ### on success\n* ```\n* return {\n*   \"ip\"     : \"192.168.1.102\",\n*   \"gateway\": \"192.168.1.1\",\n*   \"mask\"   : \"255.255.255.0\",\n*   \"mac\"    : \"00:00:00:00:00:00\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#616\n*/\nexport function cmd_net(raw, args) {\n  let matches = raw.trim().match(/IP Addr:([^\\n]+)\\nIP GW:([^\\n]+)\\nIP mask:([^\\n]+)\\nMAC Address:([^\\n]+)/)\n\n  if (! matches) {\n    return new Error('Unknown response string.')\n  }\n\n  return {\n    ip     : matches[1].trim(),\n    gateway: matches[2].trim(),\n    mask   : matches[3].trim(),\n    mac    : matches[4].trim()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/net.js","/**\n* Parse `ok` command response.\n*\n* ### on success\n* ```\n* return \"ok\"\n* ```\n* ### on error\n* ```\n* return Error: 'ko'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L272\n*/\nexport function cmd_ok(raw, args) {\n  if (raw.trim() === 'ok') {\n    return 'ok'\n  }\n\n  return new Error('ko')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/ok.js","import { normalizePath } from '../util'\r\n\r\n/**\r\n* Parse `play` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return {\r\n*   file: \"/sd/my_file.gcode\",\r\n*   size: 8600 // or null if not computable\r\n* }\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'File \"xxx\" not found.'\r\n* return Error: 'Currently printing, abort print first.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {Object|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L267\r\n*/\r\nexport function cmd_play(raw, args) {\r\n  // raw response\r\n  raw = raw.trim()\r\n\r\n  // file file\r\n  let file = normalizePath(args[0] || '')\r\n\r\n  if (raw.startsWith('File not found')) {\r\n    return new Error('File \"' + file + '\" not found.')\r\n  }\r\n\r\n  if (raw.startsWith('Currently printing')) {\r\n    return new Error('Currently printing, abort print first.')\r\n  }\r\n\r\n  if (! raw.startsWith('Playing')) {\r\n    return new Error('Unknown response string.')\r\n  }\r\n\r\n  let lines = raw.split('\\n')\r\n  let size  = parseInt(lines[1].trim().split(' ').pop())\r\n\r\n  return { file, size }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/play.js","/**\r\n* Parse `progress` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return {\r\n*   \"paused\"   : false,\r\n*   \"file\"     : \"/sd/file.gcode\",\r\n*   \"complete\" : 85, // percent\r\n*   \"elapsed\"  : \"00:13:43\",\r\n*   \"estimated\": \"00:02:14\" // undefined if elapsed <= 10 seconds\r\n* }\r\n*\r\n* // or if paused\r\n* return {\r\n*   \"paused\": true,\r\n*   \"played\": 150,\r\n*   \"total\" : 380\r\n* }\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Not currently playing.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {Object|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L315\r\n*/\r\nexport function cmd_progress(raw, args) {\r\n  // raw response\r\n  raw = raw.trim()\r\n\r\n  if (raw.startsWith('Not currently playing')) {\r\n    return new Error('Not currently playing.')\r\n  }\r\n\r\n  if (raw.startsWith('SD print is paused at')) {\r\n    let matches = raw.match(/SD print is paused at ([0-9]+)\\/([0-9]+)/)\r\n\r\n    if (! matches) {\r\n      return new Error('Unknown response string.')\r\n    }\r\n\r\n    return {\r\n      paused: true,\r\n      played: parseInt(matches[1]),\r\n      total : parseInt(matches[2])\r\n    }\r\n  }\r\n\r\n  // file: /sd/skate.gcode, 27 % complete, elapsed time: 7 s\r\n  // file: /sd/skate.gcode, 27 % complete, elapsed time: 13 s, est time: 33 s\r\n\r\n  // Since -> https://github.com/Smoothieware/Smoothieware/commit/7f7d84293841e659d436b8f833e90d6f8cbdf281\r\n  // file: /sd/tag.gcode, 6 % complete, elapsed time: 00:01:42, est time: 00:25:23\r\n  let matches = raw.match(/file: ([^,]+), ([0-9]+) % complete, elapsed time: ([0-9\\:]+)(?: s)?(?:, est time: ([0-9\\:]+)( s)?)?/)\r\n\r\n  if (! matches) {\r\n    return new Error('Unknown response string.')\r\n  }\r\n\r\n  // https://github.com/Smoothieware/Smoothieware/commit/7f7d84293841e659d436b8f833e90d6f8cbdf281\r\n  let elapsed   = matches[3]\r\n  let estimated = matches[4]\r\n\r\n  if (matches[5]) {\r\n    elapsed   = timeFormat(elapsed)\r\n    estimated = timeFormat(estimated)\r\n  }\r\n\r\n  return {\r\n    paused   : false,\r\n    file     : matches[1],\r\n    complete : parseInt(matches[2]),\r\n    elapsed,\r\n    estimated\r\n  }\r\n}\r\n\r\n// seconds -> 00:00:00\r\nfunction timeFormat(time) {\r\n  time = parseInt(time)\r\n  return [time / 3600, (time % 3600) / 60, time % 60].join(':')\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/progress.js","/**\n* Get current working directory.\n*\n* ### on success\n* ```\n* return \"/sd/folder\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L373\n*/\nexport function cmd_pwd(raw, args) {\n  return raw.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/pwd.js","/**\n* Remount SD card.\n*\n* ### on success\n* ```\n* return \"remounted\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#324\n*/\nexport function cmd_remount(raw, args) {\n  return raw.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/remount.js","/**\n* Reset the board.\n*\n* ### on success\n* ```\n* return \"Smoothie out. Peace. Rebooting in 5 seconds...\\r\\n\"\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L647\n*/\nexport function cmd_reset(raw, args) {\n  return raw.trim()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/reset.js","/**\n* Parse `resume` command response.\n*\n* ### on success\n* ```\n* return [\n*   \"Restoring saved XYZ positions and state...\",\n*   \"Resuming print\",\n*   ...\n* ]\n* ```\n* ### on error\n* ```\n* return Error: 'Not suspended.'\n* return Error: 'Resume aborted by kill.'\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L594\n*/\nexport function cmd_resume(raw, args) {\n  raw = raw.trim()\n\n  if (raw.startsWith('Not suspended')) {\n    return new Error('Not suspended.')\n  }\n\n  if (! raw.startsWith('resuming print...')) {\n    return new Error('Unknown response string.')\n  }\n\n  if (raw.indexOf('Resume aborted by kill') !== -1) {\n    return new Error('Resume aborted by kill.')\n  }\n\n  let lines = raw.split('\\n').map(line => line.trim())\n\n  lines.shift()\n\n  return lines\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/resume.js","import { normalizePath } from '../util'\n\n/**\n* Remove a file.\n*\n* ### on success\n* ```\n* return \"/sd/removed_file.gcode\"\n* ```\n* ### on error\n* ```\n* return Error: 'Could not remove \"xxx\".'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L331\n*/\nexport function cmd_rm(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  let source = normalizePath(args[0] || '')\n\n  // file not found\n  if (raw.startsWith('Could not delete')) {\n    return new Error('Could not remove \"' + source + '\".')\n  }\n\n  return source\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/rm.js","/**\n* Set temperature.\n*\n* - set_temp [bed|hotend]\n*\n* ### on success\n* ```\n* return {\n*   \"device\": \"bed\",\n*   \"target\": 180\n* }\n* ```\n* ### on error\n* ```\n* return Error: '\"xxx\" is not a known temperature device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#857\n*/\nexport function cmd_set_temp(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  // device\n  let device = (args.shift() || '').toLowerCase()\n\n  // error\n  if (raw.endsWith('is not a known temperature device')) {\n    return new Error('\"' + device + '\" is not a known temperature device.')\n  }\n\n  // new temperature\n  let target = parseInt(args.shift() || 0)\n\n  return { device, target }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/set_temp.js","/**\r\n* Parse `suspend` command response.\r\n*\r\n* ### on success\r\n* ```\r\n* return 'Suspending print, waiting for queue to empty...'\r\n* ```\r\n* ### on error\r\n* ```\r\n* return Error: 'Already suspended.'\r\n* return Error: 'Unknown response string.'\r\n* ```\r\n* @param  {String}   raw  Raw command response string.\r\n* @param  {String[]} args Command arguments.\r\n* @return {String|Error}\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L266\r\n* @see https://github.com/Smoothieware/Smoothieware/blob/1f73659f0b0cb6142e395c3d4d7dcbaadbac870a/src/modules/utils/player/Player.cpp#L359\r\n*/\r\nexport function cmd_suspend(raw, args) {\r\n  // raw response\r\n  raw = raw.trim()\r\n\r\n  if (raw.startsWith('Already suspended')) {\r\n    return new Error('Already suspended.')\r\n  }\r\n\r\n  if (! raw.startsWith('Suspending print')) {\r\n    return new Error('Unknown response string.')\r\n  }\r\n\r\n  return 'Suspending print, waiting for queue to empty...'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/suspend.js","/**\n* Switch module.\n*\n* `switch fan on` or `switch fan 150`\n*\n* ### on success\n* ```\n* return {\n*   \"device\": \"fan\",\n*   \"value\" : \"on\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: '\"xxx\" is not a known switch device.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L916\n*/\nexport function cmd_switch(raw, args) {\n  // raw response\n  raw = raw.trim()\n\n  // device\n  let device = args.shift() || ''\n\n  // error\n  if (raw.endsWith('is not a known switch device')) {\n    return new Error('\"' + device + '\" is not a known switch device.')\n  }\n\n  return { device, value: args.shift() || '' }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/switch.js","/**\n* Get the predefined thermistors.\n*\n* ### on success\n* ```\n* return {\n*   \"table\": {\n*     \"EPCOS100K\"    : 1,\n*     \"Vishay100K\"   : 2,\n*     \"Honeywell100K\": 3,\n*     \"Semitec\"      : 4,\n*     \"Honeywell-QAD\": 5\n*   },\n*   \"beta\": {\n*     \"EPCOS100K\"    : 129,\n*     \"RRRF100K\"     : 130,\n*     \"RRRF10K\"      : 131,\n*     \"Honeywell100K\": 132,\n*     \"Semitec\"      : 133,\n*     \"HT100K\"       : 134\n*   }\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string.'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {String|Error}\n* @see https://github.com/Smoothieware/Smoothieware/blob/d79254323f4bb951426c6add29a4451130eaa018/src/modules/utils/simpleshell/SimpleShell.cpp#L272\n*/\nexport function cmd_thermistors(raw, args) {\n  let lines   = raw.trim().split('\\n')\n  let result  = { table: {}, beta: {} }\n  let pointer = result.table\n\n  let matches, name, value\n\n  lines.shift() // remove \"S/H table\"\n\n  lines.forEach(line => {\n    line = line.trim()\n\n    if (line.startsWith('Beta table')) {\n      pointer = result.beta\n    }\n    else {\n      matches = line.match(/^([0-9]+) - (.*)/)\n\n      if (! matches) {\n        return new Error('Unknown response string.')\n      }\n\n      name  = matches[2].trim()\n      value = parseFloat(matches[1].trim())\n\n      pointer[name] = value\n    }\n  })\n\n  return result\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/thermistors.js","/**\n* Parse version command response.\n*\n* ### on success\n* ```\n* return {\n*   branch: \"edge\",\n*   hash  : \"9ab4538\",\n*   date  : \"Oct 10 2016 04:09:42\",\n*   mcu   : \"LPC1769\",\n*   clock : \"120MHz\"\n* }\n* ```\n* ### on error\n* ```\n* return Error: 'Unknown response string'\n* ```\n* @param  {String}   raw  Raw command response string.\n* @param  {String[]} args Command arguments.\n* @return {Object|Error}\n*/\nexport function cmd_version(raw, args) {\n  // version pattern\n  let pattern = /Build version: (.*), Build date: (.*), MCU: (.*), System Clock: (.*)/\n\n  // test the pattern\n  let info = raw.trim().match(pattern)\n\n  if (info) {\n    // split branch-hash on dash\n    let branch = info[1].split('-')\n\n    // resolve\n    return {\n      branch: branch[0].trim(),\n      hash  : branch[1].trim(),\n      date  : info[2].trim(),\n      mcu   : info[3].trim(),\n      clock : info[4].trim()\n    }\n  }\n\n  // reject\n  return new Error('Unknown response string')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./board/commands/version.js","import { normalizePath, filename } from './util'\n\n/**\n* Board file class.\n*/\nclass BoardFile {\n  /**\n  * @param {Object} file File object from `ls -s` command.\n  */\n  constructor(file) {\n    /**\n    * Parent folder path `/sd/my_folder`.\n    * @type {String}\n    */\n    this.parent = file.parent\n\n    /**\n    * File size (bytes).\n    * @type {Integer}\n    */\n    this.size = file.size\n\n    /**\n    * File path `/sd/my_folder/my_file.ext`.\n    * @type {String}\n    */\n    this.path = file.path\n\n    /**\n    * File name with extension `my_file.ext`.\n    * @type {String}\n    */\n    this.name = file.name\n\n    /**\n    * File extension with starting dot `.gcode`.\n    * @type {String}\n    */\n    this.extension = file.extension\n  }\n}\n\n/**\n* Board folder class.\n*/\nclass BoardFolder {\n  /**\n  * @param {Object} folder Folder object from `ls -s` command.\n  */\n  constructor(folder) {\n    /**\n    * Parent folder path `/sd`.\n    * @type {String}\n    */\n    this.parent = file.parent\n\n    /**\n    * Folder size (bytes).\n    * @type {Integer}\n    */\n    this.size = file.size\n\n    /**\n    * Folder path `/sd/my_folder`.\n    * @type {String}\n    */\n    this.path = file.path\n\n    /**\n    * Folder name `my_folder`.\n    * @type {String}\n    */\n    this.name = file.name\n  }\n}\n\n/**\n* Board file tree class.\n*/\nclass BoardFileTree {\n  /**\n  * Constructor...\n  */\n  constructor() {\n    /**\n    * Flat file tree.\n    * @type {Map}\n    */\n    this.tree = new Map()\n\n    /**\n    * File tree size (bytes).\n    * @type {Integer}\n    */\n    this.size = 0\n  }\n\n  /**\n  * Make and return a child object.\n  *\n  * @param  {Object} child Child object from `ls -s` command.\n  * @return {BoardFile|BoardFolder}\n  * @protected\n  */\n  makeChild(child) {\n    return child.type === 'file' ? new BoardFile(child) : new BoardFolder(child)\n  }\n\n  /**\n  * Update tree size.\n  *\n  * @param  {BoardFile|BoardFolder} child\n  * @param  {Integer} size\n  * @protected\n  */\n  updateSize(child, size) {\n    this.size += size\n\n    let parent = this.tree.get(child.parent)\n\n    while (parent) {\n      parent.size += size\n      parent = this.tree.get(parent.parent)\n    }\n  }\n\n  /**\n  * Remove a child and all of his children.\n  *\n  * @param  {BoardFile|BoardFolder} child Child name or object to remove.\n  * @return {Integer|null} Number of child removed.\n  */\n  remove(child) {\n    let path = child.path || normalizePath(child)\n    let file = this.tree.get(path)\n\n    if (! file) {\n      return null\n    }\n\n    let removed = 1\n\n    this.tree.delete(file.path)\n    this.updateSize(file, -file.size)\n\n    if (file instanceof BoardFolder) {\n      for (let childPath of this.tree.keys()) {\n        if (childPath.startsWith(file.path + '/')) {\n          this.tree.delete(childPath)\n          removed++\n        }\n      }\n    }\n\n    return removed\n  }\n\n  /**\n  * Set a new child.\n  *\n  * @param {Object} child Child object from `ls -s` command.\n  */\n  set(child) {\n    let file = this.makeChild(child)\n\n    this.remove(file.path)\n    this.tree.set(file.path, file)\n    this.updateSize(file, file.size)\n  }\n\n  /**\n  * Return if child path exists.\n  *\n  * @param  {String} path\n  * @return {Boolean}\n  */\n  has(path) {\n    return this.tree.has(normalizePath(path))\n  }\n\n  /**\n  * Return a child from path if exists.\n  *\n  * @param  {String} path\n  * @return {BoardFile|BoardFolder|null}\n  */\n  get(path) {\n    return this.tree.get(normalizePath(path))\n  }\n\n  /**\n  * Return all children from path.\n  *\n  * @param  {String} path\n  * @return {Map}\n  */\n  list(path) {\n    let tree = new Map()\n\n    path = normalizePath(path)\n\n    if (path !== '/') {\n      path += '/'\n    }\n\n    for (let childPath of this.tree.keys()) {\n      if (childPath.startsWith(path)) {\n        tree.set(childPath, this.tree.get(childPath))\n      }\n    }\n\n    return tree\n  }\n}\n\n// Exports\nexport default BoardFileTree\nexport { BoardFileTree, BoardFolder, BoardFile }\n\n\n\n// WEBPACK FOOTER //\n// ./board/filetree.js","import Board from './board'\nimport boardTopics from './topics'\nimport * as boardCommands from './commands'\n\nexport default Board\nexport { Board, boardTopics, boardCommands }\n\n\n\n// WEBPACK FOOTER //\n// ./board/index.js","/**\n* Board info.\n*/\nclass BoardInfo {\n  /**\n  * @param {Object} info Object from the `version` command.\n  */\n  constructor(info) {\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.branch = null\n\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.hash = null\n\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.date = null\n\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.mcu = null\n\n    /**\n    * @type {String}\n    * @protected\n    */\n    this.clock = null\n\n    // merge info object\n    Object.assign(this, info)\n  }\n}\n\n// Exports\nexport default BoardInfo\nexport { BoardInfo }\n\n\n\n// WEBPACK FOOTER //\n// ./board/info.js","/**\r\n* Defaults board settings.\r\n* @type     {Object<String, Mixed>}\r\n* @property {String}   address                       IP or hostname without protocol prefix.\r\n* @property {Object}   request                       Request settings, see {@link src/request/settings.js~requestSettings} for defaults keys/values.\r\n* @property {Integer}  [request.timeout      = 0]    Timeout for this request in milliseconds.\r\n* @property {Integer}  [request.maxAttempts  = 3]    Maximum number of attemps before rejection.\r\n* @property {Integer}  [request.attemptDelay = 1000] Delay in milliseconds between two attemps.\r\n* @property {Function} [request.filters.status]      Default to 200 OK `function(s) { return s === 200 }`.\r\n*/\r\nconst boardSettings = {\r\n  address: undefined,\r\n  request: {\r\n    timeout     : 0,\r\n    maxAttempts : 3,\r\n    attemptDelay: 1000,\r\n    filters     : { status: status => status === 200 }\r\n  }\r\n}\r\n\r\nexport default boardSettings\r\nexport { boardSettings }\r\n\n\n\n// WEBPACK FOOTER //\n// ./board/settings.js","/**\n* @external {ProgressEvent} https://developer.mozilla.org/fr/docs/Web/API/ProgressEvent\n*/\n\n/**\n* Request event.\n*/\nclass RequestEvent {\n  /**\n  * @param {String}        type    Event type, see {@link src/request/event/types.js} for possible values.\n  * @param {ProgressEvent} event   Original progress event.\n  * @param {Request}       request Request instance.\n  * @param {RequestProgressPayload|RequestResponsePayload|RequestAttemptPayload|Error}\n  *                        payload Request payload.\n  */\n  constructor(type, event, request, payload = null) {\n    /**\n    * Event type, see {@link src/request/event/types.js} for possible values.\n    * @type {String}\n    * @protected\n    */\n    this.type = type\n\n    /**\n    * Original progress event.\n    * @type {ProgressEvent}\n    * @protected\n    */\n    this.event = event\n\n    /**\n    * Request instance.\n    * @type {Request}\n    * @protected\n    */\n    this.request = request\n\n    /**\n    * Event payload.\n    * @type {RequestProgressPayload|RequestResponsePayload|RequestAttemptPayload|Error}\n    * @protected\n    */\n    this.payload = payload\n  }\n}\n\n// Exports\nexport default RequestEvent\nexport { RequestEvent }\n\n\n\n// WEBPACK FOOTER //\n// ./request/event/request.js","/**\n* Attempt payload.\n*/\nclass RequestAttemptPayload {\n  /**\n  * @param {Request} request\n  */\n  constructor(request) {\n    /**\n    * Number of executed attempts.\n    * @type {Integer}\n    * @protected\n    */\n    this.done = request.attempts\n\n    /**\n    * Attempts number.\n    * @type {Integer}\n    * @protected\n    */\n    this.num = this.done + 1\n\n    /**\n    * Maximum number of attempts.\n    * @type {Integer}\n    * @protected\n    */\n    this.max = request.settings.maxAttempts\n\n    /**\n    * Delay between two attempt.\n    * @type {Integer}\n    * @protected\n    */\n    this.delay = request.settings.attemptDelay\n  }\n}\n\n// Exports\nexport default RequestAttemptPayload\nexport { RequestAttemptPayload }\n\n\n\n// WEBPACK FOOTER //\n// ./request/payload/attempt.js","/**\n* Progression payload.\n*/\nclass RequestProgressPayload {\n  /**\n  * @param {ProgressEvent} event Original progress event.\n  */\n  constructor(event) {\n    /**\n    * Total bytes.\n    * @type {Integer}\n    * @protected\n    */\n    this.total = event.total || 0\n\n    /**\n    * Loaded bytes.\n    * @type {Integer}\n    * @protected\n    */\n    this.loaded = event.loaded || 0\n\n    /**\n    * Is computable.\n    * @type {Boolean}\n    * @protected\n    */\n    this.computable = event.lengthComputable\n\n    /**\n    * Loaded percent.\n    * @type {Integer}\n    * @protected\n    */\n    this.percent = this.computable ? parseInt(this.loaded / this.total * 100) : 0\n  }\n}\n\n// Exports\nexport default RequestProgressPayload\nexport { RequestProgressPayload }\n\n\n\n// WEBPACK FOOTER //\n// ./request/payload/progress.js","/**\n* Response payload.\n*/\nclass RequestResponsePayload {\n  /**\n  * @param {XMLHttpRequest} xhr    An `XMLHttpRequest` instance.\n  * @param {Function}       filter Response filter.\n  */\n  constructor(xhr, filter = null) {\n    /**\n    * Response status code.\n    * @type {Integer}\n    * @protected\n    */\n    this.status = xhr.status\n\n    /**\n    * Respons status text.\n    * @type {String}\n    * @protected\n    */\n    this.message = xhr.statusText\n\n    /**\n    * Response data.\n    * @type {Mixed}\n    * @protected\n    */\n    this.data = xhr.response\n\n    if (typeof filter === 'function') {\n      this.data = filter(this.data)\n    }\n  }\n}\n\n// Exports\nexport default RequestResponsePayload\nexport { RequestResponsePayload }\n\n\n\n// WEBPACK FOOTER //\n// ./request/payload/response.js","import uuid from 'uuid/v4'\nimport requestSettings from './settings'\nimport requestEventTypes from './event/types'\nimport RequestEvent from './event/request'\nimport RequestProgressPayload from './payload/progress'\nimport RequestResponsePayload from './payload/response'\nimport RequestAttemptPayload from './payload/attempt'\n\n/**\n* `XMLHttpRequest` wrapper with `Promise` logic.\n*\n* @example\n* function on(event) {\n*   console.info('on:', event.type, event);\n* }\n*\n* new Request({\n*   url   : 'http://192.168.1.102/command',\n*   method: 'POST',\n*   data  : 'version\\n',\n*   on    : {\n*     'retry'            : on,\n*     'retry.send'       : on,\n*     'retry.limit'      : on,\n*\n*     'download.load'    : on,\n*     'download.error'   : on,\n*     'download.abort'   : on,\n*     'download.timeout' : on,\n*     'download.progress': on,\n*\n*     'upload.load'      : on,\n*     'upload.error'     : on,\n*     'upload.abort'     : on,\n*     'upload.timeout'   : on,\n*     'upload.progress'  : on\n*   },\n*   filters: {\n*     status  : status => status === 200,\n*     response: response => JSON.stringify(response)\n*   }\n* })\n* .send()\n* .then(event => {\n*   console.info('then:', event);\n* })\n* .catch(event => {\n*   console.error('catch:', event);\n* });\n*\n* @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n* @see https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\n*/\nclass Request {\n  /**\n  * Encode data object to uri string `key_1=value_1&key_2=value_2`.\n  *\n  * @param  {Object<String, String>} data\n  * @return {String}\n  */\n  static encodeData(data) {\n    // no data\n    if (data) {\n      // stringify data object\n      if (typeof data === 'object') {\n        data = Object.keys(data).map(key => {\n          return encodeURIComponent(key) + '=' + encodeURIComponent(data[key])\n        }).join('&')\n      }\n\n      // remove the first char if it is an '?'\n      if (data.startsWith('?')) {\n        data = data.substr(1)\n      }\n    }\n\n    return data\n  }\n\n  /**\n  * Join data to url.\n  *\n  * @param  {String}                        url\n  * @param  {String|Object<String, String>} data\n  * @return {String}\n  */\n  static joinUrlData(url, data) {\n    return url + (url.indexOf('?') === -1 ? '?' : '&') + Request.encodeData(data)\n  }\n\n  /**\n  * @param {Object} settings See {@link src/request/settings.js~requestSettings} for defaults keys/values.\n  */\n  constructor(settings = {}) {\n    /**\n    * Request settings, see {@link src/request/settings.js~requestSettings} for defaults keys/values.\n    * @type {Object}\n    * @protected\n    */\n    this.settings = Object.assign({}, requestSettings, settings)\n\n    /**\n    * Unique identifier (uuid/v4).\n    * @type {String}\n    * @protected\n    */\n    this.uuid = uuid()\n\n    /**\n    * Creation time.\n    * @type {Integer}\n    * @protected\n    */\n    this.time = Date.now()\n\n    /**\n    * Send time.\n    * @type {Integer}\n    * @protected\n    */\n    this.sendTime = null\n\n    /**\n    * Elapsed time.\n    * @type {Integer}\n    * @protected\n    */\n    this.elapsedTime = null\n\n    /**\n    * Number of attempts.\n    * @type {Integer}\n    * @protected\n    */\n    this.attempts = 0\n\n    /**\n    * `XMLHttpRequest` instance.\n    * @type {XMLHttpRequest}\n    * @protected\n    */\n    this.xhr = null\n\n    /**\n    * Aborted flag.\n    * @type {Boolean}\n    * @protected\n    */\n    this.aborted = false\n  }\n\n  /**\n  * Trigger an user defined event.\n  *\n  * @throws {Error}\n  */\n  _triggerEvent(event) {\n    if (typeof this.settings.on[event.type] === 'function') {\n      this.settings.on[event.type](event)\n    }\n  }\n\n  /**\n  * Send the request and return a Promise.\n  *\n  * @return {Promise<RequestEvent>}\n  * @throws {Error}\n  */\n  _send() {\n    // prevent calling twice\n    if (this.xhr) {\n      throw new Error('You can not send the same request twice.')\n    }\n\n    // increment attempts counter\n    this.attempts++\n\n    // set send time\n    this.sendTime = Date.now()\n\n    // local settings\n    let settings = Object.assign({}, this.settings)\n\n    // normalize settings\n    settings.url    = settings.url.trim()\n    settings.method = settings.method.toUpperCase()\n    settings.data   = Request.encodeData(settings.data)\n\n    if (settings.method !== 'POST' && settings.data) {\n      // append data to uri and reset data\n      settings.url  = Request.joinUrlData(settings.url, settings.data)\n      settings.data = null\n    }\n\n    // wrap the request in promise\n    return new Promise((resolve, reject) => {\n      // create http request object\n      this.xhr = new XMLHttpRequest()\n\n      // override mime type\n      this.xhr.overrideMimeType(settings.mimeType)\n\n      // open async request\n      this.xhr.open(settings.method, settings.url, true)\n\n      // status\n      let rejected = false\n\n      // create, trigger and return an RequestEvent\n      let createEvent = (type, event, payload = null) => {\n        let requestEvent = new RequestEvent(type, event, this, payload)\n        ! rejected && this._triggerEvent(requestEvent)\n        return requestEvent\n      }\n\n      // on abort, error, timeout\n      let _reject = (type, event, error) => {\n        this.elapsedTime = Date.now() - this.sendTime\n        reject(createEvent(type, event, error instanceof Error ? error : new Error(error)))\n        rejected = true\n      }\n\n      let onAbort = (type, event) => {\n        this.aborted = true\n        _reject(type, event, 'Connection aborted.')\n      }\n\n      let onError = (type, event) => {\n        _reject(type, event, 'Unknown network error.')\n      }\n\n      let onTimeout = (type, event) => {\n        _reject(type, event, 'Connection timed out (>' + settings.timeout + 'ms).')\n      }\n\n      // on progress\n      let onProgress = (type, event) => {\n        createEvent(type, event, new RequestProgressPayload(event))\n      }\n\n      // on load\n      let onLoad = (type, event) => {\n        // check status\n        let status = this.xhr.status\n\n        if (! status) {\n          return _reject(requestEventTypes.DOWNLOAD_ERROR, event, 'Unknown HTTP error.')\n        }\n\n        // let user check the status\n        if (typeof settings.filters.status === 'function') {\n          status = settings.filters.status(status)\n        }\n\n        if (! status) {\n          return _reject(type, event, this.xhr.status + ' ' + this.xhr.statusText)\n        }\n\n        // response payload\n        let payload\n\n        try { // catch filter error\n          payload = new RequestResponsePayload(this.xhr, settings.filters.response)\n        }\n        catch (error) {\n          return _reject(type, event, error)\n        }\n\n        // set elapsed time\n        this.elapsedTime = Date.now() - this.sendTime\n\n        // resolve the promise\n        resolve(createEvent(type, event, payload))\n      }\n\n      let onUploaLoad = (type, event) => {\n        createEvent(type, event, settings.data)\n      }\n\n      // download events\n      this.xhr.onload     = event => onLoad(requestEventTypes.DOWNLOAD_LOAD, event)\n      this.xhr.onabort    = event => onAbort(requestEventTypes.DOWNLOAD_ABORT, event)\n      this.xhr.onerror    = event => onError(requestEventTypes.DOWNLOAD_ERROR, event)\n      this.xhr.ontimeout  = event => onTimeout(requestEventTypes.DOWNLOAD_TIMEOUT, event)\n      this.xhr.onprogress = event => onProgress(requestEventTypes.DOWNLOAD_PROGRESS, event)\n\n      // upload events\n      this.xhr.upload.onload     = event => onProgress(requestEventTypes.UPLOAD_LOAD, event)\n      this.xhr.upload.onabort    = event => onAbort(requestEventTypes.UPLOAD_ABORT, event)\n      this.xhr.upload.onerror    = event => onError(requestEventTypes.UPLOAD_ERROR, event)\n      this.xhr.upload.ontimeout  = event => onTimeout(requestEventTypes.UPLOAD_TIMEOUT, event)\n      this.xhr.upload.onprogress = event => onProgress(requestEventTypes.UPLOAD_PROGRESS, event)\n\n      // set request headers\n      if (settings.headers) {\n        for (let header in settings.headers) {\n          this.xhr.setRequestHeader(header, settings.headers[header])\n        }\n      }\n\n      // set request timeout\n      this.xhr.timeout = settings.timeout\n\n      // send the request\n      this.xhr.send(settings.data)\n\n      // dirty hack ...\n      if (this.aborted) {\n        this.xhr.abort()\n      }\n    })\n  }\n\n  /**\n  * Send the request and return a Promise.\n  *\n  * @return {Promise<RequestEvent>}\n  */\n  send() {\n    return this._send().catch(event => {\n      // trigger user callback\n      let triggerEvent = (type, event) => this._triggerEvent(\n        new RequestEvent(type, event.event, this, new RequestAttemptPayload(this))\n      )\n\n      // retry on timeout error if attempts limit is not reached\n      if (event.type.endsWith('timeout') || (event.type.endsWith('error') && event.payload.message.startsWith('Unknown network error'))) {\n        if (this.attempts < this.settings.maxAttempts) {\n          // call user callback\n          triggerEvent(requestEventTypes.BEFORE_RETRY, event)\n\n          // delayed retry\n          return new Promise((resolve, reject) => {\n            setTimeout(() => {\n              // reset xhr object\n              this.xhr = null\n\n              // call user callback\n              triggerEvent(requestEventTypes.RETRY, event)\n\n              // (re)send the request\n              return this.send().then(resolve).catch(reject)\n            }, this.settings.attemptDelay)\n          })\n        }\n\n        // call user callback\n        triggerEvent(requestEventTypes.RETRY_LIMIT, event)\n\n        let payload = new Error('Too many attempts (max: ' + this.attempts + ').')\n        event       = new RequestEvent(requestEventTypes.DOWNLOAD_ERROR, event.event, this, payload)\n      }\n\n      return Promise.reject(event)\n    })\n  }\n\n  /**\n  * Abort the this.\n  */\n  abort() {\n    this.aborted = true\n    this.xhr && this.xhr.abort()\n  }\n}\n\nexport default Request\nexport { Request }\n\n\n\n// WEBPACK FOOTER //\n// ./request/request.js","/**\n* Defaults request settings.\n* @type     {Object<String, Mixed>}\n* @property {String}   [url = '/']               Absolute or relative URL.\n* @property {String}   [method = 'GET']         'GET', 'POST', 'DELETE', ...\n* @property {Mixed}    [data = null]             Data to send with the request.\n* @property {Object}   [headers = {}]            Headers to send with the request.\n* @property {Integer}  [timeout = 5000]          Timeout for this request in milliseconds.\n* @property {Integer}  [maxAttempts = 5]         Maximum number of attemps before rejection.\n* @property {Integer}  [attemptDelay = 5000]     Delay in milliseconds between two attemps.\n* @property {String}   [mimeType = 'text/plain'] Expected response mime type.\n* @property {Object}   [on = {}]                 Collection of function that takes as single parameter an {@link RequestEvent} instance.\n*                                                Ex.: `{ 'download.load': event => { }, 'upload.progress': event => { } }`\n*                                                See {@link src/request/event/types.js} for possible values.\n* @property {Object}   [filters = {}]            Collection of filter functions.\n* @property {Function} [filters.status]          A function that takes as single parameter the request status code and return an boolean to resolve/reject the request.\n* @property {Function} [filters.response]        A function that takes as single parameter the request response and return a new version or throw an {@link Error} to reject the {@link Promise}.\n*/\nconst requestSettings = {\n  url         : '/',\n  method      : 'GET',\n  data        : null,\n  headers     : {},\n  timeout     : 1000,\n  maxAttempts : 5,\n  attemptDelay: 0,\n  mimeType    : 'text/plain',\n  filters     : {},\n  on          : {}\n}\n\nexport default requestSettings\nexport { requestSettings }\n\n\n\n// WEBPACK FOOTER //\n// ./request/settings.js","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uuid/lib/bytesToUuid.js\n// module id = 52\n// module chunks = 0","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/uuid/lib/rng-browser.js\n// module id = 53\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/buildin/global.js\n// module id = 54\n// module chunks = 0"],"sourceRoot":""}